var kX=Object.defineProperty;var kA=t=>{throw TypeError(t)};var CX=(t,e,n)=>e in t?kX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ae=(t,e,n)=>CX(t,typeof e!="symbol"?e+"":e,n),cS=(t,e,n)=>e.has(t)||kA("Cannot "+n);var U=(t,e,n)=>(cS(t,e,"read from private field"),n?n.call(t):e.get(t)),Le=(t,e,n)=>e.has(t)?kA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ke=(t,e,n,r)=>(cS(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),In=(t,e,n)=>(cS(t,e,"access private method"),n);var Kg=(t,e,n,r)=>({set _(i){ke(t,e,i,n)},get _(){return U(t,e,r)}});function EF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var js=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var NF={exports:{}},ew={},TF={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg=Symbol.for("react.element"),_X=Symbol.for("react.portal"),jX=Symbol.for("react.fragment"),EX=Symbol.for("react.strict_mode"),NX=Symbol.for("react.profiler"),TX=Symbol.for("react.provider"),OX=Symbol.for("react.context"),PX=Symbol.for("react.forward_ref"),AX=Symbol.for("react.suspense"),MX=Symbol.for("react.memo"),DX=Symbol.for("react.lazy"),CA=Symbol.iterator;function RX(t){return t===null||typeof t!="object"?null:(t=CA&&t[CA]||t["@@iterator"],typeof t=="function"?t:null)}var OF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PF=Object.assign,AF={};function Pf(t,e,n){this.props=t,this.context=e,this.refs=AF,this.updater=n||OF}Pf.prototype.isReactComponent={};Pf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function MF(){}MF.prototype=Pf.prototype;function YN(t,e,n){this.props=t,this.context=e,this.refs=AF,this.updater=n||OF}var GN=YN.prototype=new MF;GN.constructor=YN;PF(GN,Pf.prototype);GN.isPureReactComponent=!0;var _A=Array.isArray,DF=Object.prototype.hasOwnProperty,QN={current:null},RF={key:!0,ref:!0,__self:!0,__source:!0};function IF(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)DF.call(e,r)&&!RF.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:pg,type:t,key:s,ref:a,props:i,_owner:QN.current}}function IX(t,e){return{$$typeof:pg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function XN(t){return typeof t=="object"&&t!==null&&t.$$typeof===pg}function $X(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jA=/\/+/g;function uS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$X(""+t.key):e.toString(36)}function wv(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case pg:case _X:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+uS(a,0):r,_A(i)?(n="",t!=null&&(n=t.replace(jA,"$&/")+"/"),wv(i,e,n,"",function(c){return c})):i!=null&&(XN(i)&&(i=IX(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(jA,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",_A(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+uS(s,o);a+=wv(s,e,n,l,i)}else if(l=RX(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+uS(s,o++),a+=wv(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Yg(t,e,n){if(t==null)return t;var r=[],i=0;return wv(t,r,"","",function(s){return e.call(n,s,i++)}),r}function LX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dr={current:null},Sv={transition:null},BX={ReactCurrentDispatcher:dr,ReactCurrentBatchConfig:Sv,ReactCurrentOwner:QN};function $F(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Yg,forEach:function(t,e,n){Yg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yg(t,function(){e++}),e},toArray:function(t){return Yg(t,function(e){return e})||[]},only:function(t){if(!XN(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=Pf;Ie.Fragment=jX;Ie.Profiler=NX;Ie.PureComponent=YN;Ie.StrictMode=EX;Ie.Suspense=AX;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BX;Ie.act=$F;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=PF({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=QN.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)DF.call(e,l)&&!RF.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:pg,type:t.type,key:i,ref:s,props:r,_owner:a}};Ie.createContext=function(t){return t={$$typeof:OX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:TX,_context:t},t.Consumer=t};Ie.createElement=IF;Ie.createFactory=function(t){var e=IF.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:PX,render:t}};Ie.isValidElement=XN;Ie.lazy=function(t){return{$$typeof:DX,_payload:{_status:-1,_result:t},_init:LX}};Ie.memo=function(t,e){return{$$typeof:MX,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=Sv.transition;Sv.transition={};try{t()}finally{Sv.transition=e}};Ie.unstable_act=$F;Ie.useCallback=function(t,e){return dr.current.useCallback(t,e)};Ie.useContext=function(t){return dr.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return dr.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return dr.current.useEffect(t,e)};Ie.useId=function(){return dr.current.useId()};Ie.useImperativeHandle=function(t,e,n){return dr.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return dr.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return dr.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return dr.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return dr.current.useReducer(t,e,n)};Ie.useRef=function(t){return dr.current.useRef(t)};Ie.useState=function(t){return dr.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return dr.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return dr.current.useTransition()};Ie.version="18.3.1";TF.exports=Ie;var S=TF.exports;const T=tt(S),Af=EF({__proto__:null,default:T},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FX=S,zX=Symbol.for("react.element"),VX=Symbol.for("react.fragment"),UX=Object.prototype.hasOwnProperty,WX=FX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HX={key:!0,ref:!0,__self:!0,__source:!0};function LF(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)UX.call(e,r)&&!HX.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zX,type:t,key:s,ref:a,props:i,_owner:WX.current}}ew.Fragment=VX;ew.jsx=LF;ew.jsxs=LF;NF.exports=ew;var u=NF.exports,BF={exports:{}},Qr={},FF={exports:{}},zF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,L){var B=R.length;R.push(L);e:for(;0<B;){var W=B-1>>>1,z=R[W];if(0<i(z,L))R[W]=L,R[B]=z,B=W;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],B=R.pop();if(B!==L){R[0]=B;e:for(var W=0,z=R.length,K=z>>>1;W<K;){var ie=2*(W+1)-1,J=R[ie],ye=ie+1,Z=R[ye];if(0>i(J,B))ye<z&&0>i(Z,J)?(R[W]=Z,R[ye]=B,W=ye):(R[W]=J,R[ie]=B,W=ie);else if(ye<z&&0>i(Z,B))R[W]=Z,R[ye]=B,W=ye;else break e}}return L}function i(R,L){var B=R.sortIndex-L.sortIndex;return B!==0?B:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=R)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function k(R){if(m=!1,b(R),!g)if(n(l)!==null)g=!0,$(w);else{var L=n(c);L!==null&&I(k,L.startTime-R)}}function w(R,L){g=!1,m&&(m=!1,v(j),j=-1),p=!0;var B=h;try{for(b(L),f=n(l);f!==null&&(!(f.expirationTime>L)||R&&!P());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var z=W(f.expirationTime<=L);L=t.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),b(L)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var ie=n(c);ie!==null&&I(k,ie.startTime-L),K=!1}return K}finally{f=null,h=B,p=!1}}var C=!1,_=null,j=-1,N=5,E=-1;function P(){return!(t.unstable_now()-E<N)}function O(){if(_!==null){var R=t.unstable_now();E=R;var L=!0;try{L=_(!0,R)}finally{L?D():(C=!1,_=null)}}else C=!1}var D;if(typeof x=="function")D=function(){x(O)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,M=A.port2;A.port1.onmessage=O,D=function(){M.postMessage(null)}}else D=function(){y(O,0)};function $(R){_=R,C||(C=!0,D())}function I(R,L){j=y(function(){R(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,$(w))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var B=h;h=L;try{return R()}finally{h=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=h;h=R;try{return L()}finally{h=B}},t.unstable_scheduleCallback=function(R,L,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,R){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=B+z,R={id:d++,callback:L,priorityLevel:R,startTime:B,expirationTime:z,sortIndex:-1},B>W?(R.sortIndex=B,e(c,R),n(l)===null&&R===n(c)&&(m?(v(j),j=-1):m=!0,I(k,B-W))):(R.sortIndex=z,e(l,R),g||p||(g=!0,$(w))),R},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(R){var L=h;return function(){var B=h;h=L;try{return R.apply(this,arguments)}finally{h=B}}}})(zF);FF.exports=zF;var qX=FF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KX=S,qr=qX;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VF=new Set,Rp={};function Qc(t,e){Rd(t,e),Rd(t+"Capture",e)}function Rd(t,e){for(Rp[t]=e,t=0;t<e.length;t++)VF.add(e[t])}var Ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),DC=Object.prototype.hasOwnProperty,YX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,EA={},NA={};function GX(t){return DC.call(NA,t)?!0:DC.call(EA,t)?!1:YX.test(t)?NA[t]=!0:(EA[t]=!0,!1)}function QX(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XX(t,e,n,r){if(e===null||typeof e>"u"||QX(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fr(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mn[t]=new fr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mn[e]=new fr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mn[t]=new fr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mn[t]=new fr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mn[t]=new fr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mn[t]=new fr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mn[t]=new fr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mn[t]=new fr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mn[t]=new fr(t,5,!1,t.toLowerCase(),null,!1,!1)});var JN=/[\-:]([a-z])/g;function ZN(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(JN,ZN);Mn[e]=new fr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(JN,ZN);Mn[e]=new fr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(JN,ZN);Mn[e]=new fr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mn[t]=new fr(t,1,!1,t.toLowerCase(),null,!1,!1)});Mn.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mn[t]=new fr(t,1,!1,t.toLowerCase(),null,!0,!0)});function eT(t,e,n,r){var i=Mn.hasOwnProperty(e)?Mn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XX(e,n,i,r)&&(n=null),r||i===null?GX(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fa=KX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gg=Symbol.for("react.element"),Fu=Symbol.for("react.portal"),zu=Symbol.for("react.fragment"),tT=Symbol.for("react.strict_mode"),RC=Symbol.for("react.profiler"),UF=Symbol.for("react.provider"),WF=Symbol.for("react.context"),nT=Symbol.for("react.forward_ref"),IC=Symbol.for("react.suspense"),$C=Symbol.for("react.suspense_list"),rT=Symbol.for("react.memo"),oo=Symbol.for("react.lazy"),HF=Symbol.for("react.offscreen"),TA=Symbol.iterator;function fh(t){return t===null||typeof t!="object"?null:(t=TA&&t[TA]||t["@@iterator"],typeof t=="function"?t:null)}var At=Object.assign,dS;function Vh(t){if(dS===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dS=e&&e[1]||""}return`
`+dS+t}var fS=!1;function hS(t,e){if(!t||fS)return"";fS=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{fS=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vh(t):""}function JX(t){switch(t.tag){case 5:return Vh(t.type);case 16:return Vh("Lazy");case 13:return Vh("Suspense");case 19:return Vh("SuspenseList");case 0:case 2:case 15:return t=hS(t.type,!1),t;case 11:return t=hS(t.type.render,!1),t;case 1:return t=hS(t.type,!0),t;default:return""}}function LC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zu:return"Fragment";case Fu:return"Portal";case RC:return"Profiler";case tT:return"StrictMode";case IC:return"Suspense";case $C:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case WF:return(t.displayName||"Context")+".Consumer";case UF:return(t._context.displayName||"Context")+".Provider";case nT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rT:return e=t.displayName||null,e!==null?e:LC(t.type)||"Memo";case oo:e=t._payload,t=t._init;try{return LC(t(e))}catch{}}return null}function ZX(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return LC(e);case 8:return e===tT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function el(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eJ(t){var e=qF(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qg(t){t._valueTracker||(t._valueTracker=eJ(t))}function KF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qF(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function r0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function BC(t,e){var n=e.checked;return At({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function OA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=el(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YF(t,e){e=e.checked,e!=null&&eT(t,"checked",e,!1)}function FC(t,e){YF(t,e);var n=el(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zC(t,e.type,n):e.hasOwnProperty("defaultValue")&&zC(t,e.type,el(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function PA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zC(t,e,n){(e!=="number"||r0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Uh=Array.isArray;function od(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+el(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function VC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return At({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function AA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Uh(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:el(n)}}function GF(t,e){var n=el(e.value),r=el(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function MA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function QF(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function UC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?QF(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xg,XF=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xg=Xg||document.createElement("div"),Xg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ip(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tJ=["Webkit","ms","Moz","O"];Object.keys(sp).forEach(function(t){tJ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sp[e]=sp[t]})});function JF(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sp.hasOwnProperty(t)&&sp[t]?(""+e).trim():e+"px"}function ZF(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=JF(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nJ=At({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function WC(t,e){if(e){if(nJ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function HC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qC=null;function iT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var KC=null,ld=null,cd=null;function DA(t){if(t=yg(t)){if(typeof KC!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=sw(e),KC(t.stateNode,t.type,e))}}function e6(t){ld?cd?cd.push(t):cd=[t]:ld=t}function t6(){if(ld){var t=ld,e=cd;if(cd=ld=null,DA(t),e)for(t=0;t<e.length;t++)DA(e[t])}}function n6(t,e){return t(e)}function r6(){}var pS=!1;function i6(t,e,n){if(pS)return t(e,n);pS=!0;try{return n6(t,e,n)}finally{pS=!1,(ld!==null||cd!==null)&&(r6(),t6())}}function $p(t,e){var n=t.stateNode;if(n===null)return null;var r=sw(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var YC=!1;if(Ea)try{var hh={};Object.defineProperty(hh,"passive",{get:function(){YC=!0}}),window.addEventListener("test",hh,hh),window.removeEventListener("test",hh,hh)}catch{YC=!1}function rJ(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ap=!1,i0=null,s0=!1,GC=null,iJ={onError:function(t){ap=!0,i0=t}};function sJ(t,e,n,r,i,s,a,o,l){ap=!1,i0=null,rJ.apply(iJ,arguments)}function aJ(t,e,n,r,i,s,a,o,l){if(sJ.apply(this,arguments),ap){if(ap){var c=i0;ap=!1,i0=null}else throw Error(Q(198));s0||(s0=!0,GC=c)}}function Xc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function s6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function RA(t){if(Xc(t)!==t)throw Error(Q(188))}function oJ(t){var e=t.alternate;if(!e){if(e=Xc(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return RA(i),t;if(s===r)return RA(i),e;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function a6(t){return t=oJ(t),t!==null?o6(t):null}function o6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=o6(t);if(e!==null)return e;t=t.sibling}return null}var l6=qr.unstable_scheduleCallback,IA=qr.unstable_cancelCallback,lJ=qr.unstable_shouldYield,cJ=qr.unstable_requestPaint,Vt=qr.unstable_now,uJ=qr.unstable_getCurrentPriorityLevel,sT=qr.unstable_ImmediatePriority,c6=qr.unstable_UserBlockingPriority,a0=qr.unstable_NormalPriority,dJ=qr.unstable_LowPriority,u6=qr.unstable_IdlePriority,tw=null,Rs=null;function fJ(t){if(Rs&&typeof Rs.onCommitFiberRoot=="function")try{Rs.onCommitFiberRoot(tw,t,void 0,(t.current.flags&128)===128)}catch{}}var is=Math.clz32?Math.clz32:mJ,hJ=Math.log,pJ=Math.LN2;function mJ(t){return t>>>=0,t===0?32:31-(hJ(t)/pJ|0)|0}var Jg=64,Zg=4194304;function Wh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function o0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=Wh(o):(s&=a,s!==0&&(r=Wh(s)))}else a=n&~i,a!==0?r=Wh(a):s!==0&&(r=Wh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-is(e),i=1<<n,r|=t[n],e&=~i;return r}function gJ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yJ(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-is(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=gJ(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function QC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function d6(){var t=Jg;return Jg<<=1,!(Jg&4194240)&&(Jg=64),t}function mS(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-is(e),t[e]=n}function vJ(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-is(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function aT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-is(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ze=0;function f6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var h6,oT,p6,m6,g6,XC=!1,ey=[],Ro=null,Io=null,$o=null,Lp=new Map,Bp=new Map,po=[],xJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $A(t,e){switch(t){case"focusin":case"focusout":Ro=null;break;case"dragenter":case"dragleave":Io=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":Lp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bp.delete(e.pointerId)}}function ph(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=yg(e),e!==null&&oT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bJ(t,e,n,r,i){switch(e){case"focusin":return Ro=ph(Ro,t,e,n,r,i),!0;case"dragenter":return Io=ph(Io,t,e,n,r,i),!0;case"mouseover":return $o=ph($o,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Lp.set(s,ph(Lp.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Bp.set(s,ph(Bp.get(s)||null,t,e,n,r,i)),!0}return!1}function y6(t){var e=Xl(t.target);if(e!==null){var n=Xc(e);if(n!==null){if(e=n.tag,e===13){if(e=s6(n),e!==null){t.blockedOn=e,g6(t.priority,function(){p6(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=JC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qC=r,n.target.dispatchEvent(r),qC=null}else return e=yg(n),e!==null&&oT(e),t.blockedOn=n,!1;e.shift()}return!0}function LA(t,e,n){kv(t)&&n.delete(e)}function wJ(){XC=!1,Ro!==null&&kv(Ro)&&(Ro=null),Io!==null&&kv(Io)&&(Io=null),$o!==null&&kv($o)&&($o=null),Lp.forEach(LA),Bp.forEach(LA)}function mh(t,e){t.blockedOn===e&&(t.blockedOn=null,XC||(XC=!0,qr.unstable_scheduleCallback(qr.unstable_NormalPriority,wJ)))}function Fp(t){function e(i){return mh(i,t)}if(0<ey.length){mh(ey[0],t);for(var n=1;n<ey.length;n++){var r=ey[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ro!==null&&mh(Ro,t),Io!==null&&mh(Io,t),$o!==null&&mh($o,t),Lp.forEach(e),Bp.forEach(e),n=0;n<po.length;n++)r=po[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<po.length&&(n=po[0],n.blockedOn===null);)y6(n),n.blockedOn===null&&po.shift()}var ud=Fa.ReactCurrentBatchConfig,l0=!0;function SJ(t,e,n,r){var i=Ze,s=ud.transition;ud.transition=null;try{Ze=1,lT(t,e,n,r)}finally{Ze=i,ud.transition=s}}function kJ(t,e,n,r){var i=Ze,s=ud.transition;ud.transition=null;try{Ze=4,lT(t,e,n,r)}finally{Ze=i,ud.transition=s}}function lT(t,e,n,r){if(l0){var i=JC(t,e,n,r);if(i===null)_S(t,e,r,c0,n),$A(t,r);else if(bJ(i,t,e,n,r))r.stopPropagation();else if($A(t,r),e&4&&-1<xJ.indexOf(t)){for(;i!==null;){var s=yg(i);if(s!==null&&h6(s),s=JC(t,e,n,r),s===null&&_S(t,e,r,c0,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else _S(t,e,r,null,n)}}var c0=null;function JC(t,e,n,r){if(c0=null,t=iT(r),t=Xl(t),t!==null)if(e=Xc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=s6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return c0=t,null}function v6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uJ()){case sT:return 1;case c6:return 4;case a0:case dJ:return 16;case u6:return 536870912;default:return 16}default:return 16}}var Eo=null,cT=null,Cv=null;function x6(){if(Cv)return Cv;var t,e=cT,n=e.length,r,i="value"in Eo?Eo.value:Eo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Cv=i.slice(t,1<r?1-r:void 0)}function _v(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ty(){return!0}function BA(){return!1}function Xr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ty:BA,this.isPropagationStopped=BA,this}return At(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ty)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ty)},persist:function(){},isPersistent:ty}),e}var Mf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uT=Xr(Mf),gg=At({},Mf,{view:0,detail:0}),CJ=Xr(gg),gS,yS,gh,nw=At({},gg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gh&&(gh&&t.type==="mousemove"?(gS=t.screenX-gh.screenX,yS=t.screenY-gh.screenY):yS=gS=0,gh=t),gS)},movementY:function(t){return"movementY"in t?t.movementY:yS}}),FA=Xr(nw),_J=At({},nw,{dataTransfer:0}),jJ=Xr(_J),EJ=At({},gg,{relatedTarget:0}),vS=Xr(EJ),NJ=At({},Mf,{animationName:0,elapsedTime:0,pseudoElement:0}),TJ=Xr(NJ),OJ=At({},Mf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PJ=Xr(OJ),AJ=At({},Mf,{data:0}),zA=Xr(AJ),MJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IJ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RJ[t])?!!e[t]:!1}function dT(){return IJ}var $J=At({},gg,{key:function(t){if(t.key){var e=MJ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_v(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DJ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dT,charCode:function(t){return t.type==="keypress"?_v(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_v(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LJ=Xr($J),BJ=At({},nw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VA=Xr(BJ),FJ=At({},gg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dT}),zJ=Xr(FJ),VJ=At({},Mf,{propertyName:0,elapsedTime:0,pseudoElement:0}),UJ=Xr(VJ),WJ=At({},nw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HJ=Xr(WJ),qJ=[9,13,27,32],fT=Ea&&"CompositionEvent"in window,op=null;Ea&&"documentMode"in document&&(op=document.documentMode);var KJ=Ea&&"TextEvent"in window&&!op,b6=Ea&&(!fT||op&&8<op&&11>=op),UA=" ",WA=!1;function w6(t,e){switch(t){case"keyup":return qJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vu=!1;function YJ(t,e){switch(t){case"compositionend":return S6(e);case"keypress":return e.which!==32?null:(WA=!0,UA);case"textInput":return t=e.data,t===UA&&WA?null:t;default:return null}}function GJ(t,e){if(Vu)return t==="compositionend"||!fT&&w6(t,e)?(t=x6(),Cv=cT=Eo=null,Vu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return b6&&e.locale!=="ko"?null:e.data;default:return null}}var QJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QJ[t.type]:e==="textarea"}function k6(t,e,n,r){e6(r),e=u0(e,"onChange"),0<e.length&&(n=new uT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lp=null,zp=null;function XJ(t){D6(t,0)}function rw(t){var e=Hu(t);if(KF(e))return t}function JJ(t,e){if(t==="change")return e}var C6=!1;if(Ea){var xS;if(Ea){var bS="oninput"in document;if(!bS){var qA=document.createElement("div");qA.setAttribute("oninput","return;"),bS=typeof qA.oninput=="function"}xS=bS}else xS=!1;C6=xS&&(!document.documentMode||9<document.documentMode)}function KA(){lp&&(lp.detachEvent("onpropertychange",_6),zp=lp=null)}function _6(t){if(t.propertyName==="value"&&rw(zp)){var e=[];k6(e,zp,t,iT(t)),i6(XJ,e)}}function ZJ(t,e,n){t==="focusin"?(KA(),lp=e,zp=n,lp.attachEvent("onpropertychange",_6)):t==="focusout"&&KA()}function eZ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rw(zp)}function tZ(t,e){if(t==="click")return rw(e)}function nZ(t,e){if(t==="input"||t==="change")return rw(e)}function rZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ls=typeof Object.is=="function"?Object.is:rZ;function Vp(t,e){if(ls(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!DC.call(e,i)||!ls(t[i],e[i]))return!1}return!0}function YA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function GA(t,e){var n=YA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=YA(n)}}function j6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?j6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function E6(){for(var t=window,e=r0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=r0(t.document)}return e}function hT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iZ(t){var e=E6(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&j6(n.ownerDocument.documentElement,n)){if(r!==null&&hT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=GA(n,s);var a=GA(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sZ=Ea&&"documentMode"in document&&11>=document.documentMode,Uu=null,ZC=null,cp=null,e_=!1;function QA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;e_||Uu==null||Uu!==r0(r)||(r=Uu,"selectionStart"in r&&hT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cp&&Vp(cp,r)||(cp=r,r=u0(ZC,"onSelect"),0<r.length&&(e=new uT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Uu)))}function ny(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wu={animationend:ny("Animation","AnimationEnd"),animationiteration:ny("Animation","AnimationIteration"),animationstart:ny("Animation","AnimationStart"),transitionend:ny("Transition","TransitionEnd")},wS={},N6={};Ea&&(N6=document.createElement("div").style,"AnimationEvent"in window||(delete Wu.animationend.animation,delete Wu.animationiteration.animation,delete Wu.animationstart.animation),"TransitionEvent"in window||delete Wu.transitionend.transition);function iw(t){if(wS[t])return wS[t];if(!Wu[t])return t;var e=Wu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in N6)return wS[t]=e[n];return t}var T6=iw("animationend"),O6=iw("animationiteration"),P6=iw("animationstart"),A6=iw("transitionend"),M6=new Map,XA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ul(t,e){M6.set(t,e),Qc(e,[t])}for(var SS=0;SS<XA.length;SS++){var kS=XA[SS],aZ=kS.toLowerCase(),oZ=kS[0].toUpperCase()+kS.slice(1);ul(aZ,"on"+oZ)}ul(T6,"onAnimationEnd");ul(O6,"onAnimationIteration");ul(P6,"onAnimationStart");ul("dblclick","onDoubleClick");ul("focusin","onFocus");ul("focusout","onBlur");ul(A6,"onTransitionEnd");Rd("onMouseEnter",["mouseout","mouseover"]);Rd("onMouseLeave",["mouseout","mouseover"]);Rd("onPointerEnter",["pointerout","pointerover"]);Rd("onPointerLeave",["pointerout","pointerover"]);Qc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hh));function JA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aJ(r,e,void 0,t),t.currentTarget=null}function D6(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;JA(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;JA(i,o,c),s=l}}}if(s0)throw t=GC,s0=!1,GC=null,t}function pt(t,e){var n=e[s_];n===void 0&&(n=e[s_]=new Set);var r=t+"__bubble";n.has(r)||(R6(e,t,2,!1),n.add(r))}function CS(t,e,n){var r=0;e&&(r|=4),R6(n,t,r,e)}var ry="_reactListening"+Math.random().toString(36).slice(2);function Up(t){if(!t[ry]){t[ry]=!0,VF.forEach(function(n){n!=="selectionchange"&&(lZ.has(n)||CS(n,!1,t),CS(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ry]||(e[ry]=!0,CS("selectionchange",!1,e))}}function R6(t,e,n,r){switch(v6(e)){case 1:var i=SJ;break;case 4:i=kJ;break;default:i=lT}n=i.bind(null,e,n,t),i=void 0,!YC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function _S(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Xl(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}i6(function(){var c=s,d=iT(n),f=[];e:{var h=M6.get(t);if(h!==void 0){var p=uT,g=t;switch(t){case"keypress":if(_v(n)===0)break e;case"keydown":case"keyup":p=LJ;break;case"focusin":g="focus",p=vS;break;case"focusout":g="blur",p=vS;break;case"beforeblur":case"afterblur":p=vS;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=FA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=jJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zJ;break;case T6:case O6:case P6:p=TJ;break;case A6:p=UJ;break;case"scroll":p=CJ;break;case"wheel":p=HJ;break;case"copy":case"cut":case"paste":p=PJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=VA}var m=(e&4)!==0,y=!m&&t==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var x=c,b;x!==null;){b=x;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,v!==null&&(k=$p(x,v),k!=null&&m.push(Wp(x,k,b)))),y)break;x=x.return}0<m.length&&(h=new p(h,g,null,n,d),f.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==qC&&(g=n.relatedTarget||n.fromElement)&&(Xl(g)||g[Na]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Xl(g):null,g!==null&&(y=Xc(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=FA,k="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=VA,k="onPointerLeave",v="onPointerEnter",x="pointer"),y=p==null?h:Hu(p),b=g==null?h:Hu(g),h=new m(k,x+"leave",p,n,d),h.target=y,h.relatedTarget=b,k=null,Xl(d)===c&&(m=new m(v,x+"enter",g,n,d),m.target=b,m.relatedTarget=y,k=m),y=k,p&&g)t:{for(m=p,v=g,x=0,b=m;b;b=hu(b))x++;for(b=0,k=v;k;k=hu(k))b++;for(;0<x-b;)m=hu(m),x--;for(;0<b-x;)v=hu(v),b--;for(;x--;){if(m===v||v!==null&&m===v.alternate)break t;m=hu(m),v=hu(v)}m=null}else m=null;p!==null&&ZA(f,h,p,m,!1),g!==null&&y!==null&&ZA(f,y,g,m,!0)}}e:{if(h=c?Hu(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=JJ;else if(HA(h))if(C6)w=nZ;else{w=eZ;var C=ZJ}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=tZ);if(w&&(w=w(t,c))){k6(f,w,n,d);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&zC(h,"number",h.value)}switch(C=c?Hu(c):window,t){case"focusin":(HA(C)||C.contentEditable==="true")&&(Uu=C,ZC=c,cp=null);break;case"focusout":cp=ZC=Uu=null;break;case"mousedown":e_=!0;break;case"contextmenu":case"mouseup":case"dragend":e_=!1,QA(f,n,d);break;case"selectionchange":if(sZ)break;case"keydown":case"keyup":QA(f,n,d)}var _;if(fT)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Vu?w6(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(b6&&n.locale!=="ko"&&(Vu||j!=="onCompositionStart"?j==="onCompositionEnd"&&Vu&&(_=x6()):(Eo=d,cT="value"in Eo?Eo.value:Eo.textContent,Vu=!0)),C=u0(c,j),0<C.length&&(j=new zA(j,t,null,n,d),f.push({event:j,listeners:C}),_?j.data=_:(_=S6(n),_!==null&&(j.data=_)))),(_=KJ?YJ(t,n):GJ(t,n))&&(c=u0(c,"onBeforeInput"),0<c.length&&(d=new zA("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=_))}D6(f,e)})}function Wp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function u0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$p(t,n),s!=null&&r.unshift(Wp(t,s,i)),s=$p(t,e),s!=null&&r.push(Wp(t,s,i))),t=t.return}return r}function hu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ZA(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=$p(n,s),l!=null&&a.unshift(Wp(n,l,o))):i||(l=$p(n,s),l!=null&&a.push(Wp(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var cZ=/\r\n?/g,uZ=/\u0000|\uFFFD/g;function eM(t){return(typeof t=="string"?t:""+t).replace(cZ,`
`).replace(uZ,"")}function iy(t,e,n){if(e=eM(e),eM(t)!==e&&n)throw Error(Q(425))}function d0(){}var t_=null,n_=null;function r_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var i_=typeof setTimeout=="function"?setTimeout:void 0,dZ=typeof clearTimeout=="function"?clearTimeout:void 0,tM=typeof Promise=="function"?Promise:void 0,fZ=typeof queueMicrotask=="function"?queueMicrotask:typeof tM<"u"?function(t){return tM.resolve(null).then(t).catch(hZ)}:i_;function hZ(t){setTimeout(function(){throw t})}function jS(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fp(e)}function Lo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Df=Math.random().toString(36).slice(2),Ns="__reactFiber$"+Df,Hp="__reactProps$"+Df,Na="__reactContainer$"+Df,s_="__reactEvents$"+Df,pZ="__reactListeners$"+Df,mZ="__reactHandles$"+Df;function Xl(t){var e=t[Ns];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Na]||n[Ns]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=nM(t);t!==null;){if(n=t[Ns])return n;t=nM(t)}return e}t=n,n=t.parentNode}return null}function yg(t){return t=t[Ns]||t[Na],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function sw(t){return t[Hp]||null}var a_=[],qu=-1;function dl(t){return{current:t}}function vt(t){0>qu||(t.current=a_[qu],a_[qu]=null,qu--)}function ft(t,e){qu++,a_[qu]=t.current,t.current=e}var tl={},Yn=dl(tl),_r=dl(!1),Pc=tl;function Id(t,e){var n=t.type.contextTypes;if(!n)return tl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function jr(t){return t=t.childContextTypes,t!=null}function f0(){vt(_r),vt(Yn)}function rM(t,e,n){if(Yn.current!==tl)throw Error(Q(168));ft(Yn,e),ft(_r,n)}function I6(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,ZX(t)||"Unknown",i));return At({},n,r)}function h0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tl,Pc=Yn.current,ft(Yn,t),ft(_r,_r.current),!0}function iM(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=I6(t,e,Pc),r.__reactInternalMemoizedMergedChildContext=t,vt(_r),vt(Yn),ft(Yn,t)):vt(_r),ft(_r,n)}var la=null,aw=!1,ES=!1;function $6(t){la===null?la=[t]:la.push(t)}function gZ(t){aw=!0,$6(t)}function fl(){if(!ES&&la!==null){ES=!0;var t=0,e=Ze;try{var n=la;for(Ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}la=null,aw=!1}catch(i){throw la!==null&&(la=la.slice(t+1)),l6(sT,fl),i}finally{Ze=e,ES=!1}}return null}var Ku=[],Yu=0,p0=null,m0=0,ui=[],di=0,Ac=null,ua=1,da="";function Il(t,e){Ku[Yu++]=m0,Ku[Yu++]=p0,p0=t,m0=e}function L6(t,e,n){ui[di++]=ua,ui[di++]=da,ui[di++]=Ac,Ac=t;var r=ua;t=da;var i=32-is(r)-1;r&=~(1<<i),n+=1;var s=32-is(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ua=1<<32-is(e)+i|n<<i|r,da=s+t}else ua=1<<s|n<<i|r,da=t}function pT(t){t.return!==null&&(Il(t,1),L6(t,1,0))}function mT(t){for(;t===p0;)p0=Ku[--Yu],Ku[Yu]=null,m0=Ku[--Yu],Ku[Yu]=null;for(;t===Ac;)Ac=ui[--di],ui[di]=null,da=ui[--di],ui[di]=null,ua=ui[--di],ui[di]=null}var Ur=null,Vr=null,Ct=!1,Ji=null;function B6(t,e){var n=mi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sM(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ur=t,Vr=Lo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ur=t,Vr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ac!==null?{id:ua,overflow:da}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ur=t,Vr=null,!0):!1;default:return!1}}function o_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function l_(t){if(Ct){var e=Vr;if(e){var n=e;if(!sM(t,e)){if(o_(t))throw Error(Q(418));e=Lo(n.nextSibling);var r=Ur;e&&sM(t,e)?B6(r,n):(t.flags=t.flags&-4097|2,Ct=!1,Ur=t)}}else{if(o_(t))throw Error(Q(418));t.flags=t.flags&-4097|2,Ct=!1,Ur=t}}}function aM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ur=t}function sy(t){if(t!==Ur)return!1;if(!Ct)return aM(t),Ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!r_(t.type,t.memoizedProps)),e&&(e=Vr)){if(o_(t))throw F6(),Error(Q(418));for(;e;)B6(t,e),e=Lo(e.nextSibling)}if(aM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vr=Lo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vr=null}}else Vr=Ur?Lo(t.stateNode.nextSibling):null;return!0}function F6(){for(var t=Vr;t;)t=Lo(t.nextSibling)}function $d(){Vr=Ur=null,Ct=!1}function gT(t){Ji===null?Ji=[t]:Ji.push(t)}var yZ=Fa.ReactCurrentBatchConfig;function yh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function ay(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function oM(t){var e=t._init;return e(t._payload)}function z6(t){function e(v,x){if(t){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=Vo(v,x),v.index=0,v.sibling=null,v}function s(v,x,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=2,x):b):(v.flags|=2,x)):(v.flags|=1048576,x)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,x,b,k){return x===null||x.tag!==6?(x=DS(b,v.mode,k),x.return=v,x):(x=i(x,b),x.return=v,x)}function l(v,x,b,k){var w=b.type;return w===zu?d(v,x,b.props.children,k,b.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===oo&&oM(w)===x.type)?(k=i(x,b.props),k.ref=yh(v,x,b),k.return=v,k):(k=Av(b.type,b.key,b.props,null,v.mode,k),k.ref=yh(v,x,b),k.return=v,k)}function c(v,x,b,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=RS(b,v.mode,k),x.return=v,x):(x=i(x,b.children||[]),x.return=v,x)}function d(v,x,b,k,w){return x===null||x.tag!==7?(x=xc(b,v.mode,k,w),x.return=v,x):(x=i(x,b),x.return=v,x)}function f(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=DS(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gg:return b=Av(x.type,x.key,x.props,null,v.mode,b),b.ref=yh(v,null,x),b.return=v,b;case Fu:return x=RS(x,v.mode,b),x.return=v,x;case oo:var k=x._init;return f(v,k(x._payload),b)}if(Uh(x)||fh(x))return x=xc(x,v.mode,b,null),x.return=v,x;ay(v,x)}return null}function h(v,x,b,k){var w=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:o(v,x,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gg:return b.key===w?l(v,x,b,k):null;case Fu:return b.key===w?c(v,x,b,k):null;case oo:return w=b._init,h(v,x,w(b._payload),k)}if(Uh(b)||fh(b))return w!==null?null:d(v,x,b,k,null);ay(v,b)}return null}function p(v,x,b,k,w){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(b)||null,o(x,v,""+k,w);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Gg:return v=v.get(k.key===null?b:k.key)||null,l(x,v,k,w);case Fu:return v=v.get(k.key===null?b:k.key)||null,c(x,v,k,w);case oo:var C=k._init;return p(v,x,b,C(k._payload),w)}if(Uh(k)||fh(k))return v=v.get(b)||null,d(x,v,k,w,null);ay(x,k)}return null}function g(v,x,b,k){for(var w=null,C=null,_=x,j=x=0,N=null;_!==null&&j<b.length;j++){_.index>j?(N=_,_=null):N=_.sibling;var E=h(v,_,b[j],k);if(E===null){_===null&&(_=N);break}t&&_&&E.alternate===null&&e(v,_),x=s(E,x,j),C===null?w=E:C.sibling=E,C=E,_=N}if(j===b.length)return n(v,_),Ct&&Il(v,j),w;if(_===null){for(;j<b.length;j++)_=f(v,b[j],k),_!==null&&(x=s(_,x,j),C===null?w=_:C.sibling=_,C=_);return Ct&&Il(v,j),w}for(_=r(v,_);j<b.length;j++)N=p(_,v,j,b[j],k),N!==null&&(t&&N.alternate!==null&&_.delete(N.key===null?j:N.key),x=s(N,x,j),C===null?w=N:C.sibling=N,C=N);return t&&_.forEach(function(P){return e(v,P)}),Ct&&Il(v,j),w}function m(v,x,b,k){var w=fh(b);if(typeof w!="function")throw Error(Q(150));if(b=w.call(b),b==null)throw Error(Q(151));for(var C=w=null,_=x,j=x=0,N=null,E=b.next();_!==null&&!E.done;j++,E=b.next()){_.index>j?(N=_,_=null):N=_.sibling;var P=h(v,_,E.value,k);if(P===null){_===null&&(_=N);break}t&&_&&P.alternate===null&&e(v,_),x=s(P,x,j),C===null?w=P:C.sibling=P,C=P,_=N}if(E.done)return n(v,_),Ct&&Il(v,j),w;if(_===null){for(;!E.done;j++,E=b.next())E=f(v,E.value,k),E!==null&&(x=s(E,x,j),C===null?w=E:C.sibling=E,C=E);return Ct&&Il(v,j),w}for(_=r(v,_);!E.done;j++,E=b.next())E=p(_,v,j,E.value,k),E!==null&&(t&&E.alternate!==null&&_.delete(E.key===null?j:E.key),x=s(E,x,j),C===null?w=E:C.sibling=E,C=E);return t&&_.forEach(function(O){return e(v,O)}),Ct&&Il(v,j),w}function y(v,x,b,k){if(typeof b=="object"&&b!==null&&b.type===zu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Gg:e:{for(var w=b.key,C=x;C!==null;){if(C.key===w){if(w=b.type,w===zu){if(C.tag===7){n(v,C.sibling),x=i(C,b.props.children),x.return=v,v=x;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===oo&&oM(w)===C.type){n(v,C.sibling),x=i(C,b.props),x.ref=yh(v,C,b),x.return=v,v=x;break e}n(v,C);break}else e(v,C);C=C.sibling}b.type===zu?(x=xc(b.props.children,v.mode,k,b.key),x.return=v,v=x):(k=Av(b.type,b.key,b.props,null,v.mode,k),k.ref=yh(v,x,b),k.return=v,v=k)}return a(v);case Fu:e:{for(C=b.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(v,x.sibling),x=i(x,b.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else e(v,x);x=x.sibling}x=RS(b,v.mode,k),x.return=v,v=x}return a(v);case oo:return C=b._init,y(v,x,C(b._payload),k)}if(Uh(b))return g(v,x,b,k);if(fh(b))return m(v,x,b,k);ay(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,b),x.return=v,v=x):(n(v,x),x=DS(b,v.mode,k),x.return=v,v=x),a(v)):n(v,x)}return y}var Ld=z6(!0),V6=z6(!1),g0=dl(null),y0=null,Gu=null,yT=null;function vT(){yT=Gu=y0=null}function xT(t){var e=g0.current;vt(g0),t._currentValue=e}function c_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function dd(t,e){y0=t,yT=Gu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sr=!0),t.firstContext=null)}function _i(t){var e=t._currentValue;if(yT!==t)if(t={context:t,memoizedValue:e,next:null},Gu===null){if(y0===null)throw Error(Q(308));Gu=t,y0.dependencies={lanes:0,firstContext:t}}else Gu=Gu.next=t;return e}var Jl=null;function bT(t){Jl===null?Jl=[t]:Jl.push(t)}function U6(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,bT(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ta(t,r)}function Ta(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var lo=!1;function wT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ya(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ta(t,n)}return i=r.interleaved,i===null?(e.next=e,bT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ta(t,n)}function jv(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,aT(t,n)}}function lM(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function v0(t,e,n,r){var i=t.updateQueue;lo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,d=c=l=null,o=s;do{var h=o.lane,p=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,m=o;switch(h=e,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=At({},f,h);break e;case 2:lo=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Dc|=a,t.lanes=a,t.memoizedState=f}}function cM(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var vg={},Is=dl(vg),qp=dl(vg),Kp=dl(vg);function Zl(t){if(t===vg)throw Error(Q(174));return t}function ST(t,e){switch(ft(Kp,e),ft(qp,t),ft(Is,vg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:UC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=UC(e,t)}vt(Is),ft(Is,e)}function Bd(){vt(Is),vt(qp),vt(Kp)}function H6(t){Zl(Kp.current);var e=Zl(Is.current),n=UC(e,t.type);e!==n&&(ft(qp,t),ft(Is,n))}function kT(t){qp.current===t&&(vt(Is),vt(qp))}var Et=dl(0);function x0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var NS=[];function CT(){for(var t=0;t<NS.length;t++)NS[t]._workInProgressVersionPrimary=null;NS.length=0}var Ev=Fa.ReactCurrentDispatcher,TS=Fa.ReactCurrentBatchConfig,Mc=0,Pt=null,ln=null,gn=null,b0=!1,up=!1,Yp=0,vZ=0;function $n(){throw Error(Q(321))}function _T(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ls(t[n],e[n]))return!1;return!0}function jT(t,e,n,r,i,s){if(Mc=s,Pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ev.current=t===null||t.memoizedState===null?SZ:kZ,t=n(r,i),up){s=0;do{if(up=!1,Yp=0,25<=s)throw Error(Q(301));s+=1,gn=ln=null,e.updateQueue=null,Ev.current=CZ,t=n(r,i)}while(up)}if(Ev.current=w0,e=ln!==null&&ln.next!==null,Mc=0,gn=ln=Pt=null,b0=!1,e)throw Error(Q(300));return t}function ET(){var t=Yp!==0;return Yp=0,t}function ys(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Pt.memoizedState=gn=t:gn=gn.next=t,gn}function ji(){if(ln===null){var t=Pt.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var e=gn===null?Pt.memoizedState:gn.next;if(e!==null)gn=e,ln=t;else{if(t===null)throw Error(Q(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},gn===null?Pt.memoizedState=gn=t:gn=gn.next=t}return gn}function Gp(t,e){return typeof e=="function"?e(t):e}function OS(t){var e=ji(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=ln,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var d=c.lane;if((Mc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,Pt.lanes|=d,Dc|=d}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,ls(r,e.memoizedState)||(Sr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Pt.lanes|=s,Dc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function PS(t){var e=ji(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ls(s,e.memoizedState)||(Sr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function q6(){}function K6(t,e){var n=Pt,r=ji(),i=e(),s=!ls(r.memoizedState,i);if(s&&(r.memoizedState=i,Sr=!0),r=r.queue,NT(Q6.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||gn!==null&&gn.memoizedState.tag&1){if(n.flags|=2048,Qp(9,G6.bind(null,n,r,i,e),void 0,null),xn===null)throw Error(Q(349));Mc&30||Y6(n,e,i)}return i}function Y6(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function G6(t,e,n,r){e.value=n,e.getSnapshot=r,X6(e)&&J6(t)}function Q6(t,e,n){return n(function(){X6(e)&&J6(t)})}function X6(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ls(t,n)}catch{return!0}}function J6(t){var e=Ta(t,1);e!==null&&ss(e,t,1,-1)}function uM(t){var e=ys();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:t},e.queue=t,t=t.dispatch=wZ.bind(null,Pt,t),[e.memoizedState,t]}function Qp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Z6(){return ji().memoizedState}function Nv(t,e,n,r){var i=ys();Pt.flags|=t,i.memoizedState=Qp(1|e,n,void 0,r===void 0?null:r)}function ow(t,e,n,r){var i=ji();r=r===void 0?null:r;var s=void 0;if(ln!==null){var a=ln.memoizedState;if(s=a.destroy,r!==null&&_T(r,a.deps)){i.memoizedState=Qp(e,n,s,r);return}}Pt.flags|=t,i.memoizedState=Qp(1|e,n,s,r)}function dM(t,e){return Nv(8390656,8,t,e)}function NT(t,e){return ow(2048,8,t,e)}function e5(t,e){return ow(4,2,t,e)}function t5(t,e){return ow(4,4,t,e)}function n5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function r5(t,e,n){return n=n!=null?n.concat([t]):null,ow(4,4,n5.bind(null,e,t),n)}function TT(){}function i5(t,e){var n=ji();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_T(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function s5(t,e){var n=ji();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_T(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function a5(t,e,n){return Mc&21?(ls(n,e)||(n=d6(),Pt.lanes|=n,Dc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sr=!0),t.memoizedState=n)}function xZ(t,e){var n=Ze;Ze=n!==0&&4>n?n:4,t(!0);var r=TS.transition;TS.transition={};try{t(!1),e()}finally{Ze=n,TS.transition=r}}function o5(){return ji().memoizedState}function bZ(t,e,n){var r=zo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},l5(t))c5(e,n);else if(n=U6(t,e,n,r),n!==null){var i=lr();ss(n,t,r,i),u5(n,e,r)}}function wZ(t,e,n){var r=zo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(l5(t))c5(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,ls(o,a)){var l=e.interleaved;l===null?(i.next=i,bT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=U6(t,e,i,r),n!==null&&(i=lr(),ss(n,t,r,i),u5(n,e,r))}}function l5(t){var e=t.alternate;return t===Pt||e!==null&&e===Pt}function c5(t,e){up=b0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function u5(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,aT(t,n)}}var w0={readContext:_i,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},SZ={readContext:_i,useCallback:function(t,e){return ys().memoizedState=[t,e===void 0?null:e],t},useContext:_i,useEffect:dM,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Nv(4194308,4,n5.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Nv(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nv(4,2,t,e)},useMemo:function(t,e){var n=ys();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ys();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bZ.bind(null,Pt,t),[r.memoizedState,t]},useRef:function(t){var e=ys();return t={current:t},e.memoizedState=t},useState:uM,useDebugValue:TT,useDeferredValue:function(t){return ys().memoizedState=t},useTransition:function(){var t=uM(!1),e=t[0];return t=xZ.bind(null,t[1]),ys().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Pt,i=ys();if(Ct){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),xn===null)throw Error(Q(349));Mc&30||Y6(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,dM(Q6.bind(null,r,s,t),[t]),r.flags|=2048,Qp(9,G6.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ys(),e=xn.identifierPrefix;if(Ct){var n=da,r=ua;n=(r&~(1<<32-is(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vZ++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kZ={readContext:_i,useCallback:i5,useContext:_i,useEffect:NT,useImperativeHandle:r5,useInsertionEffect:e5,useLayoutEffect:t5,useMemo:s5,useReducer:OS,useRef:Z6,useState:function(){return OS(Gp)},useDebugValue:TT,useDeferredValue:function(t){var e=ji();return a5(e,ln.memoizedState,t)},useTransition:function(){var t=OS(Gp)[0],e=ji().memoizedState;return[t,e]},useMutableSource:q6,useSyncExternalStore:K6,useId:o5,unstable_isNewReconciler:!1},CZ={readContext:_i,useCallback:i5,useContext:_i,useEffect:NT,useImperativeHandle:r5,useInsertionEffect:e5,useLayoutEffect:t5,useMemo:s5,useReducer:PS,useRef:Z6,useState:function(){return PS(Gp)},useDebugValue:TT,useDeferredValue:function(t){var e=ji();return ln===null?e.memoizedState=t:a5(e,ln.memoizedState,t)},useTransition:function(){var t=PS(Gp)[0],e=ji().memoizedState;return[t,e]},useMutableSource:q6,useSyncExternalStore:K6,useId:o5,unstable_isNewReconciler:!1};function Vi(t,e){if(t&&t.defaultProps){e=At({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function u_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:At({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lw={isMounted:function(t){return(t=t._reactInternals)?Xc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=lr(),i=zo(t),s=ya(r,i);s.payload=e,n!=null&&(s.callback=n),e=Bo(t,s,i),e!==null&&(ss(e,t,i,r),jv(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=lr(),i=zo(t),s=ya(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Bo(t,s,i),e!==null&&(ss(e,t,i,r),jv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=lr(),r=zo(t),i=ya(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bo(t,i,r),e!==null&&(ss(e,t,r,n),jv(e,t,r))}};function fM(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Vp(n,r)||!Vp(i,s):!0}function d5(t,e,n){var r=!1,i=tl,s=e.contextType;return typeof s=="object"&&s!==null?s=_i(s):(i=jr(e)?Pc:Yn.current,r=e.contextTypes,s=(r=r!=null)?Id(t,i):tl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function hM(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lw.enqueueReplaceState(e,e.state,null)}function d_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},wT(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_i(s):(s=jr(e)?Pc:Yn.current,i.context=Id(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(u_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lw.enqueueReplaceState(i,i.state,null),v0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Fd(t,e){try{var n="",r=e;do n+=JX(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function AS(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function f_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _Z=typeof WeakMap=="function"?WeakMap:Map;function f5(t,e,n){n=ya(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){k0||(k0=!0,S_=r),f_(t,e)},n}function h5(t,e,n){n=ya(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){f_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){f_(t,e),typeof r!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function pM(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _Z;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BZ.bind(null,t,e,n),e.then(t,t))}function mM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gM(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ya(-1,1),e.tag=2,Bo(n,e,1))),n.lanes|=1),t)}var jZ=Fa.ReactCurrentOwner,Sr=!1;function er(t,e,n,r){e.child=t===null?V6(e,null,n,r):Ld(e,t.child,n,r)}function yM(t,e,n,r,i){n=n.render;var s=e.ref;return dd(e,i),r=jT(t,e,n,r,s,i),n=ET(),t!==null&&!Sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oa(t,e,i)):(Ct&&n&&pT(e),e.flags|=1,er(t,e,r,i),e.child)}function vM(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!$T(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,p5(t,e,s,r,i)):(t=Av(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Vp,n(a,r)&&t.ref===e.ref)return Oa(t,e,i)}return e.flags|=1,t=Vo(s,r),t.ref=e.ref,t.return=e,e.child=t}function p5(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Vp(s,r)&&t.ref===e.ref)if(Sr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Sr=!0);else return e.lanes=t.lanes,Oa(t,e,i)}return h_(t,e,n,r,i)}function m5(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Xu,Rr),Rr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ft(Xu,Rr),Rr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ft(Xu,Rr),Rr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ft(Xu,Rr),Rr|=r;return er(t,e,i,n),e.child}function g5(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function h_(t,e,n,r,i){var s=jr(n)?Pc:Yn.current;return s=Id(e,s),dd(e,i),n=jT(t,e,n,r,s,i),r=ET(),t!==null&&!Sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oa(t,e,i)):(Ct&&r&&pT(e),e.flags|=1,er(t,e,n,i),e.child)}function xM(t,e,n,r,i){if(jr(n)){var s=!0;h0(e)}else s=!1;if(dd(e,i),e.stateNode===null)Tv(t,e),d5(e,n,r),d_(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=_i(c):(c=jr(n)?Pc:Yn.current,c=Id(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&hM(e,a,r,c),lo=!1;var h=e.memoizedState;a.state=h,v0(e,r,a,i),l=e.memoizedState,o!==r||h!==l||_r.current||lo?(typeof d=="function"&&(u_(e,n,d,r),l=e.memoizedState),(o=lo||fM(e,n,o,r,h,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,W6(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Vi(e.type,o),a.props=c,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=_i(l):(l=jr(n)?Pc:Yn.current,l=Id(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&hM(e,a,r,l),lo=!1,h=e.memoizedState,a.state=h,v0(e,r,a,i);var g=e.memoizedState;o!==f||h!==g||_r.current||lo?(typeof p=="function"&&(u_(e,n,p,r),g=e.memoizedState),(c=lo||fM(e,n,c,r,h,g,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return p_(t,e,n,r,s,i)}function p_(t,e,n,r,i,s){g5(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&iM(e,n,!1),Oa(t,e,s);r=e.stateNode,jZ.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ld(e,t.child,null,s),e.child=Ld(e,null,o,s)):er(t,e,o,s),e.memoizedState=r.state,i&&iM(e,n,!0),e.child}function y5(t){var e=t.stateNode;e.pendingContext?rM(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rM(t,e.context,!1),ST(t,e.containerInfo)}function bM(t,e,n,r,i){return $d(),gT(i),e.flags|=256,er(t,e,n,r),e.child}var m_={dehydrated:null,treeContext:null,retryLane:0};function g_(t){return{baseLanes:t,cachePool:null,transitions:null}}function v5(t,e,n){var r=e.pendingProps,i=Et.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ft(Et,i&1),t===null)return l_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=dw(a,r,0,null),t=xc(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=g_(n),e.memoizedState=m_,t):OT(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return EZ(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Vo(o,s):(s=xc(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?g_(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=m_,r}return s=t.child,t=s.sibling,r=Vo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function OT(t,e){return e=dw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function oy(t,e,n,r){return r!==null&&gT(r),Ld(e,t.child,null,n),t=OT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function EZ(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=AS(Error(Q(422))),oy(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=dw({mode:"visible",children:r.children},i,0,null),s=xc(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ld(e,t.child,null,a),e.child.memoizedState=g_(a),e.memoizedState=m_,s);if(!(e.mode&1))return oy(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Q(419)),r=AS(s,r,void 0),oy(t,e,a,r)}if(o=(a&t.childLanes)!==0,Sr||o){if(r=xn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ta(t,i),ss(r,t,i,-1))}return IT(),r=AS(Error(Q(421))),oy(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=FZ.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Vr=Lo(i.nextSibling),Ur=e,Ct=!0,Ji=null,t!==null&&(ui[di++]=ua,ui[di++]=da,ui[di++]=Ac,ua=t.id,da=t.overflow,Ac=e),e=OT(e,r.children),e.flags|=4096,e)}function wM(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),c_(t.return,e,n)}function MS(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function x5(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(er(t,e,r.children,n),r=Et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wM(t,n,e);else if(t.tag===19)wM(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ft(Et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&x0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),MS(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&x0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}MS(e,!0,n,null,s);break;case"together":MS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Dc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Vo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function NZ(t,e,n){switch(e.tag){case 3:y5(e),$d();break;case 5:H6(e);break;case 1:jr(e.type)&&h0(e);break;case 4:ST(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ft(g0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ft(Et,Et.current&1),e.flags|=128,null):n&e.child.childLanes?v5(t,e,n):(ft(Et,Et.current&1),t=Oa(t,e,n),t!==null?t.sibling:null);ft(Et,Et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return x5(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ft(Et,Et.current),r)break;return null;case 22:case 23:return e.lanes=0,m5(t,e,n)}return Oa(t,e,n)}var b5,y_,w5,S5;b5=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};y_=function(){};w5=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zl(Is.current);var s=null;switch(n){case"input":i=BC(t,i),r=BC(t,r),s=[];break;case"select":i=At({},i,{value:void 0}),r=At({},r,{value:void 0}),s=[];break;case"textarea":i=VC(t,i),r=VC(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=d0)}WC(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Rp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Rp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&pt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};S5=function(t,e,n,r){n!==r&&(e.flags|=4)};function vh(t,e){if(!Ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ln(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TZ(t,e,n){var r=e.pendingProps;switch(mT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(e),null;case 1:return jr(e.type)&&f0(),Ln(e),null;case 3:return r=e.stateNode,Bd(),vt(_r),vt(Yn),CT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ji!==null&&(__(Ji),Ji=null))),y_(t,e),Ln(e),null;case 5:kT(e);var i=Zl(Kp.current);if(n=e.type,t!==null&&e.stateNode!=null)w5(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Ln(e),null}if(t=Zl(Is.current),sy(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ns]=e,r[Hp]=s,t=(e.mode&1)!==0,n){case"dialog":pt("cancel",r),pt("close",r);break;case"iframe":case"object":case"embed":pt("load",r);break;case"video":case"audio":for(i=0;i<Hh.length;i++)pt(Hh[i],r);break;case"source":pt("error",r);break;case"img":case"image":case"link":pt("error",r),pt("load",r);break;case"details":pt("toggle",r);break;case"input":OA(r,s),pt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pt("invalid",r);break;case"textarea":AA(r,s),pt("invalid",r)}WC(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&iy(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&iy(r.textContent,o,t),i=["children",""+o]):Rp.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&pt("scroll",r)}switch(n){case"input":Qg(r),PA(r,s,!0);break;case"textarea":Qg(r),MA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=d0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=QF(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ns]=e,t[Hp]=r,b5(t,e,!1,!1),e.stateNode=t;e:{switch(a=HC(n,r),n){case"dialog":pt("cancel",t),pt("close",t),i=r;break;case"iframe":case"object":case"embed":pt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hh.length;i++)pt(Hh[i],t);i=r;break;case"source":pt("error",t),i=r;break;case"img":case"image":case"link":pt("error",t),pt("load",t),i=r;break;case"details":pt("toggle",t),i=r;break;case"input":OA(t,r),i=BC(t,r),pt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=At({},r,{value:void 0}),pt("invalid",t);break;case"textarea":AA(t,r),i=VC(t,r),pt("invalid",t);break;default:i=r}WC(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?ZF(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XF(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ip(t,l):typeof l=="number"&&Ip(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Rp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&pt("scroll",t):l!=null&&eT(t,s,l,a))}switch(n){case"input":Qg(t),PA(t,r,!1);break;case"textarea":Qg(t),MA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+el(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?od(t,!!r.multiple,s,!1):r.defaultValue!=null&&od(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=d0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ln(e),null;case 6:if(t&&e.stateNode!=null)S5(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Zl(Kp.current),Zl(Is.current),sy(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ns]=e,(s=r.nodeValue!==n)&&(t=Ur,t!==null))switch(t.tag){case 3:iy(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&iy(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ns]=e,e.stateNode=r}return Ln(e),null;case 13:if(vt(Et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ct&&Vr!==null&&e.mode&1&&!(e.flags&128))F6(),$d(),e.flags|=98560,s=!1;else if(s=sy(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[Ns]=e}else $d(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ln(e),s=!1}else Ji!==null&&(__(Ji),Ji=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?cn===0&&(cn=3):IT())),e.updateQueue!==null&&(e.flags|=4),Ln(e),null);case 4:return Bd(),y_(t,e),t===null&&Up(e.stateNode.containerInfo),Ln(e),null;case 10:return xT(e.type._context),Ln(e),null;case 17:return jr(e.type)&&f0(),Ln(e),null;case 19:if(vt(Et),s=e.memoizedState,s===null)return Ln(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)vh(s,!1);else{if(cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=x0(t),a!==null){for(e.flags|=128,vh(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ft(Et,Et.current&1|2),e.child}t=t.sibling}s.tail!==null&&Vt()>zd&&(e.flags|=128,r=!0,vh(s,!1),e.lanes=4194304)}else{if(!r)if(t=x0(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ct)return Ln(e),null}else 2*Vt()-s.renderingStartTime>zd&&n!==1073741824&&(e.flags|=128,r=!0,vh(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Vt(),e.sibling=null,n=Et.current,ft(Et,r?n&1|2:n&1),e):(Ln(e),null);case 22:case 23:return RT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rr&1073741824&&(Ln(e),e.subtreeFlags&6&&(e.flags|=8192)):Ln(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function OZ(t,e){switch(mT(e),e.tag){case 1:return jr(e.type)&&f0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bd(),vt(_r),vt(Yn),CT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kT(e),null;case 13:if(vt(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));$d()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return vt(Et),null;case 4:return Bd(),null;case 10:return xT(e.type._context),null;case 22:case 23:return RT(),null;case 24:return null;default:return null}}var ly=!1,Un=!1,PZ=typeof WeakSet=="function"?WeakSet:Set,le=null;function Qu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Lt(t,e,r)}else n.current=null}function v_(t,e,n){try{n()}catch(r){Lt(t,e,r)}}var SM=!1;function AZ(t,e){if(t_=l0,t=E6(),hT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===i&&(o=a),h===s&&++d===r&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(n_={focusedElem:t,selectionRange:n},l0=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:Vi(e.type,m),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(k){Lt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return g=SM,SM=!1,g}function dp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&v_(e,n,s)}i=i.next}while(i!==r)}}function cw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function x_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function k5(t){var e=t.alternate;e!==null&&(t.alternate=null,k5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ns],delete e[Hp],delete e[s_],delete e[pZ],delete e[mZ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function C5(t){return t.tag===5||t.tag===3||t.tag===4}function kM(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||C5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function b_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=d0));else if(r!==4&&(t=t.child,t!==null))for(b_(t,e,n),t=t.sibling;t!==null;)b_(t,e,n),t=t.sibling}function w_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(w_(t,e,n),t=t.sibling;t!==null;)w_(t,e,n),t=t.sibling}var jn=null,Ki=!1;function Xa(t,e,n){for(n=n.child;n!==null;)_5(t,e,n),n=n.sibling}function _5(t,e,n){if(Rs&&typeof Rs.onCommitFiberUnmount=="function")try{Rs.onCommitFiberUnmount(tw,n)}catch{}switch(n.tag){case 5:Un||Qu(n,e);case 6:var r=jn,i=Ki;jn=null,Xa(t,e,n),jn=r,Ki=i,jn!==null&&(Ki?(t=jn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jn.removeChild(n.stateNode));break;case 18:jn!==null&&(Ki?(t=jn,n=n.stateNode,t.nodeType===8?jS(t.parentNode,n):t.nodeType===1&&jS(t,n),Fp(t)):jS(jn,n.stateNode));break;case 4:r=jn,i=Ki,jn=n.stateNode.containerInfo,Ki=!0,Xa(t,e,n),jn=r,Ki=i;break;case 0:case 11:case 14:case 15:if(!Un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&v_(n,e,a),i=i.next}while(i!==r)}Xa(t,e,n);break;case 1:if(!Un&&(Qu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Lt(n,e,o)}Xa(t,e,n);break;case 21:Xa(t,e,n);break;case 22:n.mode&1?(Un=(r=Un)||n.memoizedState!==null,Xa(t,e,n),Un=r):Xa(t,e,n);break;default:Xa(t,e,n)}}function CM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PZ),e.forEach(function(r){var i=zZ.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ri(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:jn=o.stateNode,Ki=!1;break e;case 3:jn=o.stateNode.containerInfo,Ki=!0;break e;case 4:jn=o.stateNode.containerInfo,Ki=!0;break e}o=o.return}if(jn===null)throw Error(Q(160));_5(s,a,i),jn=null,Ki=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Lt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)j5(e,t),e=e.sibling}function j5(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ri(e,t),gs(t),r&4){try{dp(3,t,t.return),cw(3,t)}catch(m){Lt(t,t.return,m)}try{dp(5,t,t.return)}catch(m){Lt(t,t.return,m)}}break;case 1:Ri(e,t),gs(t),r&512&&n!==null&&Qu(n,n.return);break;case 5:if(Ri(e,t),gs(t),r&512&&n!==null&&Qu(n,n.return),t.flags&32){var i=t.stateNode;try{Ip(i,"")}catch(m){Lt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&YF(i,s),HC(o,a);var c=HC(o,s);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?ZF(i,f):d==="dangerouslySetInnerHTML"?XF(i,f):d==="children"?Ip(i,f):eT(i,d,f,c)}switch(o){case"input":FC(i,s);break;case"textarea":GF(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?od(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?od(i,!!s.multiple,s.defaultValue,!0):od(i,!!s.multiple,s.multiple?[]:"",!1))}i[Hp]=s}catch(m){Lt(t,t.return,m)}}break;case 6:if(Ri(e,t),gs(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Lt(t,t.return,m)}}break;case 3:if(Ri(e,t),gs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fp(e.containerInfo)}catch(m){Lt(t,t.return,m)}break;case 4:Ri(e,t),gs(t);break;case 13:Ri(e,t),gs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(MT=Vt())),r&4&&CM(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Un=(c=Un)||d,Ri(e,t),Un=c):Ri(e,t),gs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(le=t,d=t.child;d!==null;){for(f=le=d;le!==null;){switch(h=le,p=h.child,h.tag){case 0:case 11:case 14:case 15:dp(4,h,h.return);break;case 1:Qu(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Lt(r,n,m)}}break;case 5:Qu(h,h.return);break;case 22:if(h.memoizedState!==null){jM(f);continue}}p!==null?(p.return=h,le=p):jM(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=JF("display",a))}catch(m){Lt(t,t.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Lt(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ri(e,t),gs(t),r&4&&CM(t);break;case 21:break;default:Ri(e,t),gs(t)}}function gs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(C5(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ip(i,""),r.flags&=-33);var s=kM(t);w_(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=kM(t);b_(t,o,a);break;default:throw Error(Q(161))}}catch(l){Lt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MZ(t,e,n){le=t,E5(t)}function E5(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var i=le,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ly;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Un;o=ly;var c=Un;if(ly=a,(Un=l)&&!c)for(le=i;le!==null;)a=le,l=a.child,a.tag===22&&a.memoizedState!==null?EM(i):l!==null?(l.return=a,le=l):EM(i);for(;s!==null;)le=s,E5(s),s=s.sibling;le=i,ly=o,Un=c}_M(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,le=s):_M(t)}}function _M(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Un||cw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Un)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&cM(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cM(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Fp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Un||e.flags&512&&x_(e)}catch(h){Lt(e,e.return,h)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function jM(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function EM(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cw(4,e)}catch(l){Lt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Lt(e,i,l)}}var s=e.return;try{x_(e)}catch(l){Lt(e,s,l)}break;case 5:var a=e.return;try{x_(e)}catch(l){Lt(e,a,l)}}}catch(l){Lt(e,e.return,l)}if(e===t){le=null;break}var o=e.sibling;if(o!==null){o.return=e.return,le=o;break}le=e.return}}var DZ=Math.ceil,S0=Fa.ReactCurrentDispatcher,PT=Fa.ReactCurrentOwner,xi=Fa.ReactCurrentBatchConfig,Ve=0,xn=null,en=null,An=0,Rr=0,Xu=dl(0),cn=0,Xp=null,Dc=0,uw=0,AT=0,fp=null,vr=null,MT=0,zd=1/0,aa=null,k0=!1,S_=null,Fo=null,cy=!1,No=null,C0=0,hp=0,k_=null,Ov=-1,Pv=0;function lr(){return Ve&6?Vt():Ov!==-1?Ov:Ov=Vt()}function zo(t){return t.mode&1?Ve&2&&An!==0?An&-An:yZ.transition!==null?(Pv===0&&(Pv=d6()),Pv):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:v6(t.type)),t):1}function ss(t,e,n,r){if(50<hp)throw hp=0,k_=null,Error(Q(185));mg(t,n,r),(!(Ve&2)||t!==xn)&&(t===xn&&(!(Ve&2)&&(uw|=n),cn===4&&mo(t,An)),Er(t,r),n===1&&Ve===0&&!(e.mode&1)&&(zd=Vt()+500,aw&&fl()))}function Er(t,e){var n=t.callbackNode;yJ(t,e);var r=o0(t,t===xn?An:0);if(r===0)n!==null&&IA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&IA(n),e===1)t.tag===0?gZ(NM.bind(null,t)):$6(NM.bind(null,t)),fZ(function(){!(Ve&6)&&fl()}),n=null;else{switch(f6(r)){case 1:n=sT;break;case 4:n=c6;break;case 16:n=a0;break;case 536870912:n=u6;break;default:n=a0}n=R5(n,N5.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function N5(t,e){if(Ov=-1,Pv=0,Ve&6)throw Error(Q(327));var n=t.callbackNode;if(fd()&&t.callbackNode!==n)return null;var r=o0(t,t===xn?An:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_0(t,r);else{e=r;var i=Ve;Ve|=2;var s=O5();(xn!==t||An!==e)&&(aa=null,zd=Vt()+500,vc(t,e));do try{$Z();break}catch(o){T5(t,o)}while(!0);vT(),S0.current=s,Ve=i,en!==null?e=0:(xn=null,An=0,e=cn)}if(e!==0){if(e===2&&(i=QC(t),i!==0&&(r=i,e=C_(t,i))),e===1)throw n=Xp,vc(t,0),mo(t,r),Er(t,Vt()),n;if(e===6)mo(t,r);else{if(i=t.current.alternate,!(r&30)&&!RZ(i)&&(e=_0(t,r),e===2&&(s=QC(t),s!==0&&(r=s,e=C_(t,s))),e===1))throw n=Xp,vc(t,0),mo(t,r),Er(t,Vt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:$l(t,vr,aa);break;case 3:if(mo(t,r),(r&130023424)===r&&(e=MT+500-Vt(),10<e)){if(o0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){lr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=i_($l.bind(null,t,vr,aa),e);break}$l(t,vr,aa);break;case 4:if(mo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-is(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DZ(r/1960))-r,10<r){t.timeoutHandle=i_($l.bind(null,t,vr,aa),r);break}$l(t,vr,aa);break;case 5:$l(t,vr,aa);break;default:throw Error(Q(329))}}}return Er(t,Vt()),t.callbackNode===n?N5.bind(null,t):null}function C_(t,e){var n=fp;return t.current.memoizedState.isDehydrated&&(vc(t,e).flags|=256),t=_0(t,e),t!==2&&(e=vr,vr=n,e!==null&&__(e)),t}function __(t){vr===null?vr=t:vr.push.apply(vr,t)}function RZ(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ls(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mo(t,e){for(e&=~AT,e&=~uw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-is(e),r=1<<n;t[n]=-1,e&=~r}}function NM(t){if(Ve&6)throw Error(Q(327));fd();var e=o0(t,0);if(!(e&1))return Er(t,Vt()),null;var n=_0(t,e);if(t.tag!==0&&n===2){var r=QC(t);r!==0&&(e=r,n=C_(t,r))}if(n===1)throw n=Xp,vc(t,0),mo(t,e),Er(t,Vt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$l(t,vr,aa),Er(t,Vt()),null}function DT(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(zd=Vt()+500,aw&&fl())}}function Rc(t){No!==null&&No.tag===0&&!(Ve&6)&&fd();var e=Ve;Ve|=1;var n=xi.transition,r=Ze;try{if(xi.transition=null,Ze=1,t)return t()}finally{Ze=r,xi.transition=n,Ve=e,!(Ve&6)&&fl()}}function RT(){Rr=Xu.current,vt(Xu)}function vc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dZ(n)),en!==null)for(n=en.return;n!==null;){var r=n;switch(mT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&f0();break;case 3:Bd(),vt(_r),vt(Yn),CT();break;case 5:kT(r);break;case 4:Bd();break;case 13:vt(Et);break;case 19:vt(Et);break;case 10:xT(r.type._context);break;case 22:case 23:RT()}n=n.return}if(xn=t,en=t=Vo(t.current,null),An=Rr=e,cn=0,Xp=null,AT=uw=Dc=0,vr=fp=null,Jl!==null){for(e=0;e<Jl.length;e++)if(n=Jl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Jl=null}return t}function T5(t,e){do{var n=en;try{if(vT(),Ev.current=w0,b0){for(var r=Pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}b0=!1}if(Mc=0,gn=ln=Pt=null,up=!1,Yp=0,PT.current=null,n===null||n.return===null){cn=1,Xp=e,en=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=An,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=mM(a);if(p!==null){p.flags&=-257,gM(p,a,o,s,e),p.mode&1&&pM(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){pM(s,c,e),IT();break e}l=Error(Q(426))}}else if(Ct&&o.mode&1){var y=mM(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),gM(y,a,o,s,e),gT(Fd(l,o));break e}}s=l=Fd(l,o),cn!==4&&(cn=2),fp===null?fp=[s]:fp.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=f5(s,l,e);lM(s,v);break e;case 1:o=l;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Fo===null||!Fo.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=h5(s,o,e);lM(s,k);break e}}s=s.return}while(s!==null)}A5(n)}catch(w){e=w,en===n&&n!==null&&(en=n=n.return);continue}break}while(!0)}function O5(){var t=S0.current;return S0.current=w0,t===null?w0:t}function IT(){(cn===0||cn===3||cn===2)&&(cn=4),xn===null||!(Dc&268435455)&&!(uw&268435455)||mo(xn,An)}function _0(t,e){var n=Ve;Ve|=2;var r=O5();(xn!==t||An!==e)&&(aa=null,vc(t,e));do try{IZ();break}catch(i){T5(t,i)}while(!0);if(vT(),Ve=n,S0.current=r,en!==null)throw Error(Q(261));return xn=null,An=0,cn}function IZ(){for(;en!==null;)P5(en)}function $Z(){for(;en!==null&&!lJ();)P5(en)}function P5(t){var e=D5(t.alternate,t,Rr);t.memoizedProps=t.pendingProps,e===null?A5(t):en=e,PT.current=null}function A5(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OZ(n,e),n!==null){n.flags&=32767,en=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{cn=6,en=null;return}}else if(n=TZ(n,e,Rr),n!==null){en=n;return}if(e=e.sibling,e!==null){en=e;return}en=e=t}while(e!==null);cn===0&&(cn=5)}function $l(t,e,n){var r=Ze,i=xi.transition;try{xi.transition=null,Ze=1,LZ(t,e,n,r)}finally{xi.transition=i,Ze=r}return null}function LZ(t,e,n,r){do fd();while(No!==null);if(Ve&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(vJ(t,s),t===xn&&(en=xn=null,An=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cy||(cy=!0,R5(a0,function(){return fd(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xi.transition,xi.transition=null;var a=Ze;Ze=1;var o=Ve;Ve|=4,PT.current=null,AZ(t,n),j5(n,t),iZ(n_),l0=!!t_,n_=t_=null,t.current=n,MZ(n),cJ(),Ve=o,Ze=a,xi.transition=s}else t.current=n;if(cy&&(cy=!1,No=t,C0=i),s=t.pendingLanes,s===0&&(Fo=null),fJ(n.stateNode),Er(t,Vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(k0)throw k0=!1,t=S_,S_=null,t;return C0&1&&t.tag!==0&&fd(),s=t.pendingLanes,s&1?t===k_?hp++:(hp=0,k_=t):hp=0,fl(),null}function fd(){if(No!==null){var t=f6(C0),e=xi.transition,n=Ze;try{if(xi.transition=null,Ze=16>t?16:t,No===null)var r=!1;else{if(t=No,No=null,C0=0,Ve&6)throw Error(Q(331));var i=Ve;for(Ve|=4,le=t.current;le!==null;){var s=le,a=s.child;if(le.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(le=c;le!==null;){var d=le;switch(d.tag){case 0:case 11:case 15:dp(8,d,s)}var f=d.child;if(f!==null)f.return=d,le=f;else for(;le!==null;){d=le;var h=d.sibling,p=d.return;if(k5(d),d===c){le=null;break}if(h!==null){h.return=p,le=h;break}le=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}le=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,le=a;else e:for(;le!==null;){if(s=le,s.flags&2048)switch(s.tag){case 0:case 11:case 15:dp(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,le=v;break e}le=s.return}}var x=t.current;for(le=x;le!==null;){a=le;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,le=b;else e:for(a=x;le!==null;){if(o=le,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:cw(9,o)}}catch(w){Lt(o,o.return,w)}if(o===a){le=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,le=k;break e}le=o.return}}if(Ve=i,fl(),Rs&&typeof Rs.onPostCommitFiberRoot=="function")try{Rs.onPostCommitFiberRoot(tw,t)}catch{}r=!0}return r}finally{Ze=n,xi.transition=e}}return!1}function TM(t,e,n){e=Fd(n,e),e=f5(t,e,1),t=Bo(t,e,1),e=lr(),t!==null&&(mg(t,1,e),Er(t,e))}function Lt(t,e,n){if(t.tag===3)TM(t,t,n);else for(;e!==null;){if(e.tag===3){TM(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fo===null||!Fo.has(r))){t=Fd(n,t),t=h5(e,t,1),e=Bo(e,t,1),t=lr(),e!==null&&(mg(e,1,t),Er(e,t));break}}e=e.return}}function BZ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=lr(),t.pingedLanes|=t.suspendedLanes&n,xn===t&&(An&n)===n&&(cn===4||cn===3&&(An&130023424)===An&&500>Vt()-MT?vc(t,0):AT|=n),Er(t,e)}function M5(t,e){e===0&&(t.mode&1?(e=Zg,Zg<<=1,!(Zg&130023424)&&(Zg=4194304)):e=1);var n=lr();t=Ta(t,e),t!==null&&(mg(t,e,n),Er(t,n))}function FZ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),M5(t,n)}function zZ(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),M5(t,n)}var D5;D5=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_r.current)Sr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Sr=!1,NZ(t,e,n);Sr=!!(t.flags&131072)}else Sr=!1,Ct&&e.flags&1048576&&L6(e,m0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Tv(t,e),t=e.pendingProps;var i=Id(e,Yn.current);dd(e,n),i=jT(null,e,r,t,i,n);var s=ET();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jr(r)?(s=!0,h0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wT(e),i.updater=lw,e.stateNode=i,i._reactInternals=e,d_(e,r,t,n),e=p_(null,e,r,!0,s,n)):(e.tag=0,Ct&&s&&pT(e),er(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Tv(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UZ(r),t=Vi(r,t),i){case 0:e=h_(null,e,r,t,n);break e;case 1:e=xM(null,e,r,t,n);break e;case 11:e=yM(null,e,r,t,n);break e;case 14:e=vM(null,e,r,Vi(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vi(r,i),h_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vi(r,i),xM(t,e,r,i,n);case 3:e:{if(y5(e),t===null)throw Error(Q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,W6(t,e),v0(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Fd(Error(Q(423)),e),e=bM(t,e,r,n,i);break e}else if(r!==i){i=Fd(Error(Q(424)),e),e=bM(t,e,r,n,i);break e}else for(Vr=Lo(e.stateNode.containerInfo.firstChild),Ur=e,Ct=!0,Ji=null,n=V6(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($d(),r===i){e=Oa(t,e,n);break e}er(t,e,r,n)}e=e.child}return e;case 5:return H6(e),t===null&&l_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,r_(r,i)?a=null:s!==null&&r_(r,s)&&(e.flags|=32),g5(t,e),er(t,e,a,n),e.child;case 6:return t===null&&l_(e),null;case 13:return v5(t,e,n);case 4:return ST(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ld(e,null,r,n):er(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vi(r,i),yM(t,e,r,i,n);case 7:return er(t,e,e.pendingProps,n),e.child;case 8:return er(t,e,e.pendingProps.children,n),e.child;case 12:return er(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,ft(g0,r._currentValue),r._currentValue=a,s!==null)if(ls(s.value,a)){if(s.children===i.children&&!_r.current){e=Oa(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ya(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),c_(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Q(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),c_(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}er(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,dd(e,n),i=_i(i),r=r(i),e.flags|=1,er(t,e,r,n),e.child;case 14:return r=e.type,i=Vi(r,e.pendingProps),i=Vi(r.type,i),vM(t,e,r,i,n);case 15:return p5(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vi(r,i),Tv(t,e),e.tag=1,jr(r)?(t=!0,h0(e)):t=!1,dd(e,n),d5(e,r,i),d_(e,r,i,n),p_(null,e,r,!0,t,n);case 19:return x5(t,e,n);case 22:return m5(t,e,n)}throw Error(Q(156,e.tag))};function R5(t,e){return l6(t,e)}function VZ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(t,e,n,r){return new VZ(t,e,n,r)}function $T(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UZ(t){if(typeof t=="function")return $T(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nT)return 11;if(t===rT)return 14}return 2}function Vo(t,e){var n=t.alternate;return n===null?(n=mi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Av(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")$T(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case zu:return xc(n.children,i,s,e);case tT:a=8,i|=8;break;case RC:return t=mi(12,n,e,i|2),t.elementType=RC,t.lanes=s,t;case IC:return t=mi(13,n,e,i),t.elementType=IC,t.lanes=s,t;case $C:return t=mi(19,n,e,i),t.elementType=$C,t.lanes=s,t;case HF:return dw(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case UF:a=10;break e;case WF:a=9;break e;case nT:a=11;break e;case rT:a=14;break e;case oo:a=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=mi(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function xc(t,e,n,r){return t=mi(7,t,r,e),t.lanes=n,t}function dw(t,e,n,r){return t=mi(22,t,r,e),t.elementType=HF,t.lanes=n,t.stateNode={isHidden:!1},t}function DS(t,e,n){return t=mi(6,t,null,e),t.lanes=n,t}function RS(t,e,n){return e=mi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WZ(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mS(0),this.expirationTimes=mS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function LT(t,e,n,r,i,s,a,o,l){return t=new WZ(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=mi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wT(s),t}function HZ(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function I5(t){if(!t)return tl;t=t._reactInternals;e:{if(Xc(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(jr(n))return I6(t,n,e)}return e}function $5(t,e,n,r,i,s,a,o,l){return t=LT(n,r,!0,t,i,s,a,o,l),t.context=I5(null),n=t.current,r=lr(),i=zo(n),s=ya(r,i),s.callback=e??null,Bo(n,s,i),t.current.lanes=i,mg(t,i,r),Er(t,r),t}function fw(t,e,n,r){var i=e.current,s=lr(),a=zo(i);return n=I5(n),e.context===null?e.context=n:e.pendingContext=n,e=ya(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bo(i,e,a),t!==null&&(ss(t,i,a,s),jv(t,i,a)),a}function j0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function OM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function BT(t,e){OM(t,e),(t=t.alternate)&&OM(t,e)}function qZ(){return null}var L5=typeof reportError=="function"?reportError:function(t){console.error(t)};function FT(t){this._internalRoot=t}hw.prototype.render=FT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));fw(t,e,null,null)};hw.prototype.unmount=FT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rc(function(){fw(null,t,null,null)}),e[Na]=null}};function hw(t){this._internalRoot=t}hw.prototype.unstable_scheduleHydration=function(t){if(t){var e=m6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<po.length&&e!==0&&e<po[n].priority;n++);po.splice(n,0,t),n===0&&y6(t)}};function zT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function PM(){}function KZ(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=j0(a);s.call(c)}}var a=$5(e,r,t,0,null,!1,!1,"",PM);return t._reactRootContainer=a,t[Na]=a.current,Up(t.nodeType===8?t.parentNode:t),Rc(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=j0(l);o.call(c)}}var l=LT(t,0,!1,null,null,!1,!1,"",PM);return t._reactRootContainer=l,t[Na]=l.current,Up(t.nodeType===8?t.parentNode:t),Rc(function(){fw(e,l,n,r)}),l}function mw(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=j0(a);o.call(l)}}fw(e,a,t,i)}else a=KZ(n,e,t,i,r);return j0(a)}h6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wh(e.pendingLanes);n!==0&&(aT(e,n|1),Er(e,Vt()),!(Ve&6)&&(zd=Vt()+500,fl()))}break;case 13:Rc(function(){var r=Ta(t,1);if(r!==null){var i=lr();ss(r,t,1,i)}}),BT(t,1)}};oT=function(t){if(t.tag===13){var e=Ta(t,134217728);if(e!==null){var n=lr();ss(e,t,134217728,n)}BT(t,134217728)}};p6=function(t){if(t.tag===13){var e=zo(t),n=Ta(t,e);if(n!==null){var r=lr();ss(n,t,e,r)}BT(t,e)}};m6=function(){return Ze};g6=function(t,e){var n=Ze;try{return Ze=t,e()}finally{Ze=n}};KC=function(t,e,n){switch(e){case"input":if(FC(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sw(r);if(!i)throw Error(Q(90));KF(r),FC(r,i)}}}break;case"textarea":GF(t,n);break;case"select":e=n.value,e!=null&&od(t,!!n.multiple,e,!1)}};n6=DT;r6=Rc;var YZ={usingClientEntryPoint:!1,Events:[yg,Hu,sw,e6,t6,DT]},xh={findFiberByHostInstance:Xl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GZ={bundleType:xh.bundleType,version:xh.version,rendererPackageName:xh.rendererPackageName,rendererConfig:xh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=a6(t),t===null?null:t.stateNode},findFiberByHostInstance:xh.findFiberByHostInstance||qZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uy.isDisabled&&uy.supportsFiber)try{tw=uy.inject(GZ),Rs=uy}catch{}}Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YZ;Qr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zT(e))throw Error(Q(200));return HZ(t,e,null,n)};Qr.createRoot=function(t,e){if(!zT(t))throw Error(Q(299));var n=!1,r="",i=L5;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=LT(t,1,!1,null,null,n,!1,r,i),t[Na]=e.current,Up(t.nodeType===8?t.parentNode:t),new FT(e)};Qr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=a6(e),t=t===null?null:t.stateNode,t};Qr.flushSync=function(t){return Rc(t)};Qr.hydrate=function(t,e,n){if(!pw(e))throw Error(Q(200));return mw(null,t,e,!0,n)};Qr.hydrateRoot=function(t,e,n){if(!zT(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=L5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=$5(e,null,t,1,n??null,i,!1,s,a),t[Na]=e.current,Up(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hw(e)};Qr.render=function(t,e,n){if(!pw(e))throw Error(Q(200));return mw(null,t,e,!1,n)};Qr.unmountComponentAtNode=function(t){if(!pw(t))throw Error(Q(40));return t._reactRootContainer?(Rc(function(){mw(null,null,t,!1,function(){t._reactRootContainer=null,t[Na]=null})}),!0):!1};Qr.unstable_batchedUpdates=DT;Qr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pw(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return mw(t,e,n,!1,r)};Qr.version="18.3.1-next-f1338f8080-20240426";function B5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B5)}catch(t){console.error(t)}}B5(),BF.exports=Qr;var Jc=BF.exports;const gw=tt(Jc);var F5,AM=Jc;F5=AM.createRoot,AM.hydrateRoot;const QZ=1,XZ=1e6;let IS=0;function JZ(){return IS=(IS+1)%Number.MAX_SAFE_INTEGER,IS.toString()}const $S=new Map,MM=t=>{if($S.has(t))return;const e=setTimeout(()=>{$S.delete(t),pp({type:"REMOVE_TOAST",toastId:t})},XZ);$S.set(t,e)},ZZ=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,QZ)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?MM(n):t.toasts.forEach(r=>{MM(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Mv=[];let Dv={toasts:[]};function pp(t){Dv=ZZ(Dv,t),Mv.forEach(e=>{e(Dv)})}function X({...t}){const e=JZ(),n=i=>pp({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>pp({type:"DISMISS_TOAST",toastId:e});return pp({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function eee(){const[t,e]=S.useState(Dv);return S.useEffect(()=>(Mv.push(e),()=>{const n=Mv.indexOf(e);n>-1&&Mv.splice(n,1)}),[t]),{...t,toast:X,dismiss:n=>pp({type:"DISMISS_TOAST",toastId:n})}}function Ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function DM(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function VT(...t){return e=>{let n=!1;const r=t.map(i=>{const s=DM(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():DM(t[i],null)}}}}function at(...t){return S.useCallback(VT(...t),t)}function Rf(t,e=[]){let n=[];function r(s,a){const o=S.createContext(a),l=n.length;n=[...n,a];const c=f=>{var v;const{scope:h,children:p,...g}=f,m=((v=h==null?void 0:h[t])==null?void 0:v[l])||o,y=S.useMemo(()=>g,Object.values(g));return u.jsx(m.Provider,{value:y,children:p})};c.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[t])==null?void 0:m[l])||o,g=S.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(a=>S.createContext(a));return function(o){const l=(o==null?void 0:o[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,tee(i,...e)]}function tee(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function E0(t){const e=nee(t),n=S.forwardRef((r,i)=>{const{children:s,...a}=r,o=S.Children.toArray(s),l=o.find(iee);if(l){const c=l.props.children,d=o.map(f=>f===l?S.Children.count(c)>1?S.Children.only(null):S.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...a,ref:i,children:S.isValidElement(c)?S.cloneElement(c,void 0,d):null})}return u.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function nee(t){const e=S.forwardRef((n,r)=>{const{children:i,...s}=n;if(S.isValidElement(i)){const a=aee(i),o=see(s,i.props);return i.type!==S.Fragment&&(o.ref=r?VT(r,a):a),S.cloneElement(i,o)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var z5=Symbol("radix.slottable");function ree(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=z5,e}function iee(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===z5}function see(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function aee(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function UT(t){const e=t+"CollectionProvider",[n,r]=Rf(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:y,children:v}=m,x=T.useRef(null),b=T.useRef(new Map).current;return u.jsx(i,{scope:y,itemMap:b,collectionRef:x,children:v})};a.displayName=e;const o=t+"CollectionSlot",l=E0(o),c=T.forwardRef((m,y)=>{const{scope:v,children:x}=m,b=s(o,v),k=at(y,b.collectionRef);return u.jsx(l,{ref:k,children:x})});c.displayName=o;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=E0(d),p=T.forwardRef((m,y)=>{const{scope:v,children:x,...b}=m,k=T.useRef(null),w=at(y,k),C=s(d,v);return T.useEffect(()=>(C.itemMap.set(k,{ref:k,...b}),()=>void C.itemMap.delete(k))),u.jsx(h,{[f]:"",ref:w,children:x})});p.displayName=d;function g(m){const y=s(t+"CollectionConsumer",m);return T.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((C,_)=>b.indexOf(C.ref.current)-b.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:c,ItemSlot:p},g,r]}var oee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],We=oee.reduce((t,e)=>{const n=E0(`Primitive.${e}`),r=S.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function V5(t,e){t&&Jc.flushSync(()=>t.dispatchEvent(e))}function cs(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function lee(t,e=globalThis==null?void 0:globalThis.document){const n=cs(t);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var cee="DismissableLayer",j_="dismissableLayer.update",uee="dismissableLayer.pointerDownOutside",dee="dismissableLayer.focusOutside",RM,U5=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yw=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,c=S.useContext(U5),[d,f]=S.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=S.useState({}),g=at(e,_=>f(_)),m=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(y),x=d?m.indexOf(d):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,k=x>=v,w=hee(_=>{const j=_.target,N=[...c.branches].some(E=>E.contains(j));!k||N||(i==null||i(_),a==null||a(_),_.defaultPrevented||o==null||o())},h),C=pee(_=>{const j=_.target;[...c.branches].some(E=>E.contains(j))||(s==null||s(_),a==null||a(_),_.defaultPrevented||o==null||o())},h);return lee(_=>{x===c.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&o&&(_.preventDefault(),o()))},h),S.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(RM=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),IM(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=RM)}},[d,h,n,c]),S.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),IM())},[d,c]),S.useEffect(()=>{const _=()=>p({});return document.addEventListener(j_,_),()=>document.removeEventListener(j_,_)},[]),u.jsx(We.div,{...l,ref:g,style:{pointerEvents:b?k?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,w.onPointerDownCapture)})});yw.displayName=cee;var fee="DismissableLayerBranch",W5=S.forwardRef((t,e)=>{const n=S.useContext(U5),r=S.useRef(null),i=at(e,r);return S.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),u.jsx(We.div,{...t,ref:i})});W5.displayName=fee;function hee(t,e=globalThis==null?void 0:globalThis.document){const n=cs(t),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){H5(uee,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function pee(t,e=globalThis==null?void 0:globalThis.document){const n=cs(t),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&H5(dee,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function IM(){const t=new CustomEvent(j_);document.dispatchEvent(t)}function H5(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?V5(i,s):i.dispatchEvent(s)}var mee=yw,gee=W5,Dn=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},yee="Portal",WT=S.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[i,s]=S.useState(!1);Dn(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?gw.createPortal(u.jsx(We.div,{...r,ref:e}),a):null});WT.displayName=yee;function vee(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var HT=t=>{const{present:e,children:n}=t,r=xee(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),s=at(r.ref,bee(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null};HT.displayName="Presence";function xee(t){const[e,n]=S.useState(),r=S.useRef(null),i=S.useRef(t),s=S.useRef("none"),a=t?"mounted":"unmounted",[o,l]=vee(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=dy(r.current);s.current=o==="mounted"?c:"none"},[o]),Dn(()=>{const c=r.current,d=i.current;if(d!==t){const h=s.current,p=dy(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Dn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=p=>{const m=dy(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&m&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},h=p=>{p.target===e&&(s.current=dy(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:S.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function dy(t){return(t==null?void 0:t.animationName)||"none"}function bee(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var wee=Af[" useInsertionEffect ".trim().toString()]||Dn;function N0({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=See({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:i;{const d=S.useRef(t!==void 0);S.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const c=S.useCallback(d=>{var f;if(o){const h=kee(d)?d(t):d;h!==t&&((f=a.current)==null||f.call(a,h))}else s(d)},[o,t,s,a]);return[l,c]}function See({defaultProp:t,onChange:e}){const[n,r]=S.useState(t),i=S.useRef(n),s=S.useRef(e);return wee(()=>{s.current=e},[e]),S.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function kee(t){return typeof t=="function"}var q5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Cee="VisuallyHidden",vw=S.forwardRef((t,e)=>u.jsx(We.span,{...t,ref:e,style:{...q5,...t.style}}));vw.displayName=Cee;var _ee=vw,qT="ToastProvider",[KT,jee,Eee]=UT("Toast"),[K5]=Rf("Toast",[Eee]),[Nee,xw]=K5(qT),Y5=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[o,l]=S.useState(null),[c,d]=S.useState(0),f=S.useRef(!1),h=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${qT}\`. Expected non-empty \`string\`.`),u.jsx(KT.Provider,{scope:e,children:u.jsx(Nee,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:S.useCallback(()=>d(p=>p+1),[]),onToastRemove:S.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};Y5.displayName=qT;var G5="ToastViewport",Tee=["F8"],E_="toast.viewportPause",N_="toast.viewportResume",Q5=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Tee,label:i="Notifications ({hotkey})",...s}=t,a=xw(G5,n),o=jee(n),l=S.useRef(null),c=S.useRef(null),d=S.useRef(null),f=S.useRef(null),h=at(e,f,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;S.useEffect(()=>{const y=v=>{var b;r.length!==0&&r.every(k=>v[k]||v.code===k)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),S.useEffect(()=>{const y=l.current,v=f.current;if(g&&y&&v){const x=()=>{if(!a.isClosePausedRef.current){const C=new CustomEvent(E_);v.dispatchEvent(C),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const C=new CustomEvent(N_);v.dispatchEvent(C),a.isClosePausedRef.current=!1}},k=C=>{!y.contains(C.relatedTarget)&&b()},w=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",x),y.addEventListener("focusout",k),y.addEventListener("pointermove",x),y.addEventListener("pointerleave",w),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",x),y.removeEventListener("focusout",k),y.removeEventListener("pointermove",x),y.removeEventListener("pointerleave",w),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[g,a.isClosePausedRef]);const m=S.useCallback(({tabbingDirection:y})=>{const x=o().map(b=>{const k=b.ref.current,w=[k,...Vee(k)];return y==="forwards"?w:w.reverse()});return(y==="forwards"?x.reverse():x).flat()},[o]);return S.useEffect(()=>{const y=f.current;if(y){const v=x=>{var w,C,_;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const j=document.activeElement,N=x.shiftKey;if(x.target===y&&N){(w=c.current)==null||w.focus();return}const O=m({tabbingDirection:N?"backwards":"forwards"}),D=O.findIndex(A=>A===j);LS(O.slice(D+1))?x.preventDefault():N?(C=c.current)==null||C.focus():(_=d.current)==null||_.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[o,m]),u.jsxs(gee,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&u.jsx(T_,{ref:c,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});LS(y)}}),u.jsx(KT.Slot,{scope:n,children:u.jsx(We.ol,{tabIndex:-1,...s,ref:h})}),g&&u.jsx(T_,{ref:d,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});LS(y)}})]})});Q5.displayName=G5;var X5="ToastFocusProxy",T_=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=xw(X5,n);return u.jsx(vw,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var c;const o=a.relatedTarget;!((c=s.viewport)!=null&&c.contains(o))&&r()}})});T_.displayName=X5;var xg="Toast",Oee="toast.swipeStart",Pee="toast.swipeMove",Aee="toast.swipeCancel",Mee="toast.swipeEnd",J5=S.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=t,[o,l]=N0({prop:r,defaultProp:i??!0,onChange:s,caller:xg});return u.jsx(HT,{present:n||o,children:u.jsx(Iee,{open:o,...a,ref:e,onClose:()=>l(!1),onPause:cs(t.onPause),onResume:cs(t.onResume),onSwipeStart:Ee(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ee(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});J5.displayName=xg;var[Dee,Ree]=K5(xg,{onClose(){}}),Iee=S.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...g}=t,m=xw(xg,n),[y,v]=S.useState(null),x=at(e,A=>v(A)),b=S.useRef(null),k=S.useRef(null),w=i||m.duration,C=S.useRef(0),_=S.useRef(w),j=S.useRef(0),{onToastAdd:N,onToastRemove:E}=m,P=cs(()=>{var M;(y==null?void 0:y.contains(document.activeElement))&&((M=m.viewport)==null||M.focus()),a()}),O=S.useCallback(A=>{!A||A===1/0||(window.clearTimeout(j.current),C.current=new Date().getTime(),j.current=window.setTimeout(P,A))},[P]);S.useEffect(()=>{const A=m.viewport;if(A){const M=()=>{O(_.current),c==null||c()},$=()=>{const I=new Date().getTime()-C.current;_.current=_.current-I,window.clearTimeout(j.current),l==null||l()};return A.addEventListener(E_,$),A.addEventListener(N_,M),()=>{A.removeEventListener(E_,$),A.removeEventListener(N_,M)}}},[m.viewport,w,l,c,O]),S.useEffect(()=>{s&&!m.isClosePausedRef.current&&O(w)},[s,w,m.isClosePausedRef,O]),S.useEffect(()=>(N(),()=>E()),[N,E]);const D=S.useMemo(()=>y?s8(y):null,[y]);return m.viewport?u.jsxs(u.Fragment,{children:[D&&u.jsx($ee,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:D}),u.jsx(Dee,{scope:n,onClose:P,children:Jc.createPortal(u.jsx(KT.ItemSlot,{scope:n,children:u.jsx(mee,{asChild:!0,onEscapeKeyDown:Ee(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||P(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(We.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ee(t.onKeyDown,A=>{A.key==="Escape"&&(o==null||o(A.nativeEvent),A.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:Ee(t.onPointerDown,A=>{A.button===0&&(b.current={x:A.clientX,y:A.clientY})}),onPointerMove:Ee(t.onPointerMove,A=>{if(!b.current)return;const M=A.clientX-b.current.x,$=A.clientY-b.current.y,I=!!k.current,R=["left","right"].includes(m.swipeDirection),L=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,B=R?L(0,M):0,W=R?0:L(0,$),z=A.pointerType==="touch"?10:2,K={x:B,y:W},ie={originalEvent:A,delta:K};I?(k.current=K,fy(Pee,f,ie,{discrete:!1})):$M(K,m.swipeDirection,z)?(k.current=K,fy(Oee,d,ie,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(M)>z||Math.abs($)>z)&&(b.current=null)}),onPointerUp:Ee(t.onPointerUp,A=>{const M=k.current,$=A.target;if($.hasPointerCapture(A.pointerId)&&$.releasePointerCapture(A.pointerId),k.current=null,b.current=null,M){const I=A.currentTarget,R={originalEvent:A,delta:M};$M(M,m.swipeDirection,m.swipeThreshold)?fy(Mee,p,R,{discrete:!0}):fy(Aee,h,R,{discrete:!0}),I.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),$ee=t=>{const{__scopeToast:e,children:n,...r}=t,i=xw(xg,e),[s,a]=S.useState(!1),[o,l]=S.useState(!1);return Fee(()=>a(!0)),S.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:u.jsx(WT,{asChild:!0,children:u.jsx(vw,{...r,children:s&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},Lee="ToastTitle",Z5=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(We.div,{...r,ref:e})});Z5.displayName=Lee;var Bee="ToastDescription",e8=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(We.div,{...r,ref:e})});e8.displayName=Bee;var t8="ToastAction",n8=S.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(i8,{altText:n,asChild:!0,children:u.jsx(YT,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${t8}\`. Expected non-empty \`string\`.`),null)});n8.displayName=t8;var r8="ToastClose",YT=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Ree(r8,n);return u.jsx(i8,{asChild:!0,children:u.jsx(We.button,{type:"button",...r,ref:e,onClick:Ee(t.onClick,i.onClose)})})});YT.displayName=r8;var i8=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return u.jsx(We.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function s8(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),zee(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...s8(r))}}),e}function fy(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?V5(i,s):i.dispatchEvent(s)}var $M=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function Fee(t=()=>{}){const e=cs(t);Dn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function zee(t){return t.nodeType===t.ELEMENT_NODE}function Vee(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function LS(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Uee=Y5,a8=Q5,o8=J5,l8=Z5,c8=e8,u8=n8,d8=YT;function f8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=f8(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function me(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=f8(t))&&(r&&(r+=" "),r+=e);return r}const LM=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,BM=me,h8=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return BM(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=s==null?void 0:s[c];if(d===null)return null;const h=LM(d)||LM(f);return i[c][h]}),o=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,y]=g;return Array.isArray(y)?y.includes({...s,...o}[m]):{...s,...o}[m]===y})?[...c,f,h]:c},[]);return BM(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),p8=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qee=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>S.createElement("svg",{ref:l,...Hee,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:p8("lucide",i),...o},[...a.map(([c,d])=>S.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=(t,e)=>{const n=S.forwardRef(({className:r,...i},s)=>S.createElement(qee,{ref:s,iconNode:e,className:p8(`lucide-${Wee(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kee=q("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yee=q("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gee=q("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=q("Bath",[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=q("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qee=q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xee=q("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=q("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jee=q("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=q("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=q("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=q("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=q("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=q("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=q("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=q("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=q("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=q("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=q("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=q("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=q("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=q("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=q("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=q("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=q("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=q("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=q("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=q("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=q("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=q("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=q("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=q("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=q("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=q("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=q("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=q("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=q("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=q("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=q("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=q("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=q("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=q("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=q("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=q("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=q("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=q("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=q("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=q("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=q("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=q("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=q("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=q("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=q("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=q("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=q("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=q("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=q("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=q("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=q("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=q("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=q("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=q("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=q("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),iO="-",Lte=t=>{const e=Fte(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(iO);return o[0]===""&&o.length!==1&&o.shift(),D8(o,e)||Bte(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},D8=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?D8(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(iO);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},FM=/^\[(.+)\]$/,Bte=t=>{if(FM.test(t)){const e=FM.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Fte=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Vte(Object.entries(t.classGroups),n).forEach(([s,a])=>{O_(a,r,s,e)}),r},O_=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:zM(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(zte(i)){O_(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{O_(a,zM(e,s),n,r)})})},zM=(t,e)=>{let n=t;return e.split(iO).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},zte=t=>t.isThemeGetter,Vte=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[n,i]}):t,Ute=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},R8="!",Wte=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let c=0,d=0,f;for(let y=0;y<o.length;y++){let v=o[y];if(c===0){if(v===i&&(r||o.slice(y,y+s)===e)){l.push(o.slice(d,y)),d=y+s;continue}if(v==="/"){f=y;continue}}v==="["?c++:v==="]"&&c--}const h=l.length===0?o:o.substring(d),p=h.startsWith(R8),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return n?o=>n({className:o,parseClassName:a}):a},Hte=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},qte=t=>({cache:Ute(t.cacheSize),parseClassName:Wte(t),...Lte(t)}),Kte=/\s+/,Yte=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(Kte);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(c);let g=!!p,m=r(g?h.substring(0,p):h);if(!m){if(!g){o=c+(o.length>0?" "+o:o);continue}if(m=r(h),!m){o=c+(o.length>0?" "+o:o);continue}g=!1}const y=Hte(d).join(":"),v=f?y+R8:y,x=v+m;if(s.includes(x))continue;s.push(x);const b=i(m,g);for(let k=0;k<b.length;++k){const w=b[k];s.push(v+w)}o=c+(o.length>0?" "+o:o)}return o};function Gte(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=I8(e))&&(r&&(r+=" "),r+=n);return r}const I8=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=I8(t[r]))&&(n&&(n+=" "),n+=e);return n};function Qte(t,...e){let n,r,i,s=a;function a(l){const c=e.reduce((d,f)=>f(d),t());return n=qte(c),r=n.cache.get,i=n.cache.set,s=o,o(l)}function o(l){const c=r(l);if(c)return c;const d=Yte(l,n);return i(l,d),d}return function(){return s(Gte.apply(null,arguments))}}const ht=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},$8=/^\[(?:([a-z-]+):)?(.+)\]$/i,Xte=/^\d+\/\d+$/,Jte=new Set(["px","full","screen"]),Zte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ene=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xs=t=>hd(t)||Jte.has(t)||Xte.test(t),Ja=t=>$f(t,"length",dne),hd=t=>!!t&&!Number.isNaN(Number(t)),BS=t=>$f(t,"number",hd),bh=t=>!!t&&Number.isInteger(Number(t)),ine=t=>t.endsWith("%")&&hd(t.slice(0,-1)),Ne=t=>$8.test(t),Za=t=>Zte.test(t),sne=new Set(["length","size","percentage"]),ane=t=>$f(t,sne,L8),one=t=>$f(t,"position",L8),lne=new Set(["image","url"]),cne=t=>$f(t,lne,hne),une=t=>$f(t,"",fne),wh=()=>!0,$f=(t,e,n)=>{const r=$8.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},dne=t=>ene.test(t)&&!tne.test(t),L8=()=>!1,fne=t=>nne.test(t),hne=t=>rne.test(t),pne=()=>{const t=ht("colors"),e=ht("spacing"),n=ht("blur"),r=ht("brightness"),i=ht("borderColor"),s=ht("borderRadius"),a=ht("borderSpacing"),o=ht("borderWidth"),l=ht("contrast"),c=ht("grayscale"),d=ht("hueRotate"),f=ht("invert"),h=ht("gap"),p=ht("gradientColorStops"),g=ht("gradientColorStopPositions"),m=ht("inset"),y=ht("margin"),v=ht("opacity"),x=ht("padding"),b=ht("saturate"),k=ht("scale"),w=ht("sepia"),C=ht("skew"),_=ht("space"),j=ht("translate"),N=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Ne,e],O=()=>[Ne,e],D=()=>["",Xs,Ja],A=()=>["auto",hd,Ne],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Ne],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[hd,Ne];return{cacheSize:500,separator:":",theme:{colors:[wh],spacing:[Xs,Ja],blur:["none","",Za,Ne],brightness:W(),borderColor:[t],borderRadius:["none","","full",Za,Ne],borderSpacing:O(),borderWidth:D(),contrast:W(),grayscale:L(),hueRotate:W(),invert:L(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[ine,Ja],inset:P(),margin:P(),opacity:W(),padding:O(),saturate:W(),scale:W(),sepia:L(),skew:W(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[Za]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Ne]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bh,Ne]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",bh,Ne]}],"grid-cols":[{"grid-cols":[wh]}],"col-start-end":[{col:["auto",{span:["full",bh,Ne]},Ne]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[wh]}],"row-start-end":[{row:["auto",{span:[bh,Ne]},Ne]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[Za]},Za]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Za,Ja]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",BS]}],"font-family":[{font:[wh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",hd,BS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xs,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xs,Ja]}],"underline-offset":[{"underline-offset":["auto",Xs,Ne]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),one]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ane]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cne]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:$()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Xs,Ne]}],"outline-w":[{outline:[Xs,Ja]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Xs,Ja]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Za,une]}],"shadow-color":[{shadow:[wh]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Za,Ne]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[bh,Ne]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xs,Ja,BS]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mne=Qte(pne);function Ke(...t){return mne(me(t))}const gne=Uee,B8=S.forwardRef(({className:t,...e},n)=>u.jsx(a8,{ref:n,className:Ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));B8.displayName=a8.displayName;const yne=h8("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),F8=S.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(o8,{ref:r,className:Ke(yne({variant:e}),t),...n}));F8.displayName=o8.displayName;const vne=S.forwardRef(({className:t,...e},n)=>u.jsx(u8,{ref:n,className:Ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));vne.displayName=u8.displayName;const z8=S.forwardRef(({className:t,...e},n)=>u.jsx(d8,{ref:n,className:Ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(dn,{className:"h-4 w-4"})}));z8.displayName=d8.displayName;const V8=S.forwardRef(({className:t,...e},n)=>u.jsx(l8,{ref:n,className:Ke("text-sm font-semibold",t),...e}));V8.displayName=l8.displayName;const U8=S.forwardRef(({className:t,...e},n)=>u.jsx(c8,{ref:n,className:Ke("text-sm opacity-90",t),...e}));U8.displayName=c8.displayName;function xne(){const{toasts:t}=eee();return u.jsxs(gne,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return u.jsxs(F8,{...s,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(V8,{children:n}),r&&u.jsx(U8,{children:r})]}),i,u.jsx(z8,{})]},e)}),u.jsx(B8,{})]})}var bne=t=>{switch(t){case"success":return kne;case"info":return _ne;case"warning":return Cne;case"error":return jne;default:return null}},wne=Array(12).fill(0),Sne=({visible:t,className:e})=>T.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},T.createElement("div",{className:"sonner-spinner"},wne.map((n,r)=>T.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),kne=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Cne=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_ne=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),jne=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ene=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},T.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Nne=()=>{let[t,e]=T.useState(document.hidden);return T.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},P_=1,Tne=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:P_++,s=this.toasts.find(o=>o.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...t,id:i,title:n}),{...o,...t,id:i,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,a=r.then(async l=>{if(s=["resolve",l],T.isValidElement(l))i=!1,this.create({id:n,type:"default",message:l});else if(Pne(l)&&!l.ok){i=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:d})}else if(e.success!==void 0){i=!1;let c=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:d})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){i=!1;let c=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:d})}}).finally(()=>{var l;i&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),o=()=>new Promise((l,c)=>a.then(()=>s[0]==="reject"?c(s[1]):l(s[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||P_++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},gr=new Tne,One=(t,e)=>{let n=(e==null?void 0:e.id)||P_++;return gr.addToast({title:t,...e,id:n}),n},Pne=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Ane=One,Mne=()=>gr.toasts,Dne=()=>gr.getActiveToasts();Object.assign(Ane,{success:gr.success,info:gr.info,warning:gr.warning,error:gr.error,custom:gr.custom,message:gr.message,promise:gr.promise,dismiss:gr.dismiss,loading:gr.loading},{getHistory:Mne,getToasts:Dne});function Rne(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Rne(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function hy(t){return t.label!==void 0}var Ine=3,$ne="32px",Lne="16px",VM=4e3,Bne=356,Fne=14,zne=20,Vne=200;function Ii(...t){return t.filter(Boolean).join(" ")}function Une(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var Wne=t=>{var e,n,r,i,s,a,o,l,c,d,f;let{invert:h,toast:p,unstyled:g,interacting:m,setHeights:y,visibleToasts:v,heights:x,index:b,toasts:k,expanded:w,removeToast:C,defaultRichColors:_,closeButton:j,style:N,cancelButtonStyle:E,actionButtonStyle:P,className:O="",descriptionClassName:D="",duration:A,position:M,gap:$,loadingIcon:I,expandByDefault:R,classNames:L,icons:B,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:z}=t,[K,ie]=T.useState(null),[J,ye]=T.useState(null),[Z,_e]=T.useState(!1),[Y,re]=T.useState(!1),[ne,F]=T.useState(!1),[Pe,Se]=T.useState(!1),[ot,rt]=T.useState(!1),[Dt,hr]=T.useState(0),[Pr,Nl]=T.useState(0),Ar=T.useRef(p.duration||A||VM),ms=T.useRef(null),Pi=T.useRef(null),Wg=b===0,Hg=b+1<=v,ti=p.type,uu=p.dismissible!==!1,gX=p.className||"",yX=p.descriptionClassName||"",qg=T.useMemo(()=>x.findIndex(je=>je.toastId===p.id)||0,[x,p.id]),vX=T.useMemo(()=>{var je;return(je=p.closeButton)!=null?je:j},[p.closeButton,j]),xA=T.useMemo(()=>p.duration||A||VM,[p.duration,A]),oS=T.useRef(0),du=T.useRef(0),bA=T.useRef(0),fu=T.useRef(null),[xX,bX]=M.split("-"),wA=T.useMemo(()=>x.reduce((je,it,wt)=>wt>=qg?je:je+it.height,0),[x,qg]),SA=Nne(),wX=p.invert||h,lS=ti==="loading";du.current=T.useMemo(()=>qg*$+wA,[qg,wA]),T.useEffect(()=>{Ar.current=xA},[xA]),T.useEffect(()=>{_e(!0)},[]),T.useEffect(()=>{let je=Pi.current;if(je){let it=je.getBoundingClientRect().height;return Nl(it),y(wt=>[{toastId:p.id,height:it,position:p.position},...wt]),()=>y(wt=>wt.filter(Ai=>Ai.toastId!==p.id))}},[y,p.id]),T.useLayoutEffect(()=>{if(!Z)return;let je=Pi.current,it=je.style.height;je.style.height="auto";let wt=je.getBoundingClientRect().height;je.style.height=it,Nl(wt),y(Ai=>Ai.find(Mi=>Mi.toastId===p.id)?Ai.map(Mi=>Mi.toastId===p.id?{...Mi,height:wt}:Mi):[{toastId:p.id,height:wt,position:p.position},...Ai])},[Z,p.title,p.description,y,p.id]);let Ya=T.useCallback(()=>{re(!0),hr(du.current),y(je=>je.filter(it=>it.toastId!==p.id)),setTimeout(()=>{C(p)},Vne)},[p,C,y,du]);T.useEffect(()=>{if(p.promise&&ti==="loading"||p.duration===1/0||p.type==="loading")return;let je;return w||m||z&&SA?(()=>{if(bA.current<oS.current){let it=new Date().getTime()-oS.current;Ar.current=Ar.current-it}bA.current=new Date().getTime()})():Ar.current!==1/0&&(oS.current=new Date().getTime(),je=setTimeout(()=>{var it;(it=p.onAutoClose)==null||it.call(p,p),Ya()},Ar.current)),()=>clearTimeout(je)},[w,m,p,ti,z,SA,Ya]),T.useEffect(()=>{p.delete&&Ya()},[Ya,p.delete]);function SX(){var je,it,wt;return B!=null&&B.loading?T.createElement("div",{className:Ii(L==null?void 0:L.loader,(je=p==null?void 0:p.classNames)==null?void 0:je.loader,"sonner-loader"),"data-visible":ti==="loading"},B.loading):I?T.createElement("div",{className:Ii(L==null?void 0:L.loader,(it=p==null?void 0:p.classNames)==null?void 0:it.loader,"sonner-loader"),"data-visible":ti==="loading"},I):T.createElement(Sne,{className:Ii(L==null?void 0:L.loader,(wt=p==null?void 0:p.classNames)==null?void 0:wt.loader),visible:ti==="loading"})}return T.createElement("li",{tabIndex:0,ref:Pi,className:Ii(O,gX,L==null?void 0:L.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[ti],(n=p==null?void 0:p.classNames)==null?void 0:n[ti]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:_,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":Z,"data-promise":!!p.promise,"data-swiped":ot,"data-removed":Y,"data-visible":Hg,"data-y-position":xX,"data-x-position":bX,"data-index":b,"data-front":Wg,"data-swiping":ne,"data-dismissible":uu,"data-type":ti,"data-invert":wX,"data-swipe-out":Pe,"data-swipe-direction":J,"data-expanded":!!(w||R&&Z),style:{"--index":b,"--toasts-before":b,"--z-index":k.length-b,"--offset":`${Y?Dt:du.current}px`,"--initial-height":R?"auto":`${Pr}px`,...N,...p.style},onDragEnd:()=>{F(!1),ie(null),fu.current=null},onPointerDown:je=>{lS||!uu||(ms.current=new Date,hr(du.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(F(!0),fu.current={x:je.clientX,y:je.clientY}))},onPointerUp:()=>{var je,it,wt,Ai;if(Pe||!uu)return;fu.current=null;let Mi=Number(((je=Pi.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ga=Number(((it=Pi.current)==null?void 0:it.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Tl=new Date().getTime()-((wt=ms.current)==null?void 0:wt.getTime()),Di=K==="x"?Mi:Ga,Qa=Math.abs(Di)/Tl;if(Math.abs(Di)>=zne||Qa>.11){hr(du.current),(Ai=p.onDismiss)==null||Ai.call(p,p),ye(K==="x"?Mi>0?"right":"left":Ga>0?"down":"up"),Ya(),Se(!0),rt(!1);return}F(!1),ie(null)},onPointerMove:je=>{var it,wt,Ai,Mi;if(!fu.current||!uu||((it=window.getSelection())==null?void 0:it.toString().length)>0)return;let Ga=je.clientY-fu.current.y,Tl=je.clientX-fu.current.x,Di=(wt=t.swipeDirections)!=null?wt:Une(M);!K&&(Math.abs(Tl)>1||Math.abs(Ga)>1)&&ie(Math.abs(Tl)>Math.abs(Ga)?"x":"y");let Qa={x:0,y:0};K==="y"?(Di.includes("top")||Di.includes("bottom"))&&(Di.includes("top")&&Ga<0||Di.includes("bottom")&&Ga>0)&&(Qa.y=Ga):K==="x"&&(Di.includes("left")||Di.includes("right"))&&(Di.includes("left")&&Tl<0||Di.includes("right")&&Tl>0)&&(Qa.x=Tl),(Math.abs(Qa.x)>0||Math.abs(Qa.y)>0)&&rt(!0),(Ai=Pi.current)==null||Ai.style.setProperty("--swipe-amount-x",`${Qa.x}px`),(Mi=Pi.current)==null||Mi.style.setProperty("--swipe-amount-y",`${Qa.y}px`)}},vX&&!p.jsx?T.createElement("button",{"aria-label":W,"data-disabled":lS,"data-close-button":!0,onClick:lS||!uu?()=>{}:()=>{var je;Ya(),(je=p.onDismiss)==null||je.call(p,p)},className:Ii(L==null?void 0:L.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(s=B==null?void 0:B.close)!=null?s:Ene):null,p.jsx||S.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:T.createElement(T.Fragment,null,ti||p.icon||p.promise?T.createElement("div",{"data-icon":"",className:Ii(L==null?void 0:L.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||SX():null,p.type!=="loading"?p.icon||(B==null?void 0:B[ti])||bne(ti):null):null,T.createElement("div",{"data-content":"",className:Ii(L==null?void 0:L.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},T.createElement("div",{"data-title":"",className:Ii(L==null?void 0:L.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?T.createElement("div",{"data-description":"",className:Ii(D,yX,L==null?void 0:L.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),S.isValidElement(p.cancel)?p.cancel:p.cancel&&hy(p.cancel)?T.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||E,onClick:je=>{var it,wt;hy(p.cancel)&&uu&&((wt=(it=p.cancel).onClick)==null||wt.call(it,je),Ya())},className:Ii(L==null?void 0:L.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,S.isValidElement(p.action)?p.action:p.action&&hy(p.action)?T.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||P,onClick:je=>{var it,wt;hy(p.action)&&((wt=(it=p.action).onClick)==null||wt.call(it,je),!je.defaultPrevented&&Ya())},className:Ii(L==null?void 0:L.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function UM(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Hne(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?Lne:$ne;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${a}-${c}`]=o:n[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(o)}),n}var qne=S.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,mobileOffset:c,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:g=Ine,toastOptions:m,dir:y=UM(),gap:v=Fne,loadingIcon:x,icons:b,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:w}=t,[C,_]=T.useState([]),j=T.useMemo(()=>Array.from(new Set([r].concat(C.filter(z=>z.position).map(z=>z.position)))),[C,r]),[N,E]=T.useState([]),[P,O]=T.useState(!1),[D,A]=T.useState(!1),[M,$]=T.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=T.useRef(null),R=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=T.useRef(null),B=T.useRef(!1),W=T.useCallback(z=>{_(K=>{var ie;return(ie=K.find(J=>J.id===z.id))!=null&&ie.delete||gr.dismiss(z.id),K.filter(({id:J})=>J!==z.id)})},[]);return T.useEffect(()=>gr.subscribe(z=>{if(z.dismiss){_(K=>K.map(ie=>ie.id===z.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{gw.flushSync(()=>{_(K=>{let ie=K.findIndex(J=>J.id===z.id);return ie!==-1?[...K.slice(0,ie),{...K[ie],...z},...K.slice(ie+1)]:[z,...K]})})})}),[]),T.useEffect(()=>{if(d!=="system"){$(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:K})=>{$(K?"dark":"light")})}catch{z.addListener(({matches:ie})=>{try{$(ie?"dark":"light")}catch(J){console.error(J)}})}},[d]),T.useEffect(()=>{C.length<=1&&O(!1)},[C]),T.useEffect(()=>{let z=K=>{var ie,J;i.every(ye=>K[ye]||K.code===ye)&&(O(!0),(ie=I.current)==null||ie.focus()),K.code==="Escape"&&(document.activeElement===I.current||(J=I.current)!=null&&J.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[i]),T.useEffect(()=>{if(I.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,B.current=!1)}},[I.current]),T.createElement("section",{ref:e,"aria-label":`${k} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((z,K)=>{var ie;let[J,ye]=z.split("-");return C.length?T.createElement("ol",{key:z,dir:y==="auto"?UM():y,tabIndex:-1,ref:I,className:o,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":J,"data-lifted":P&&C.length>1&&!s,"data-x-position":ye,style:{"--front-toast-height":`${((ie=N[0])==null?void 0:ie.height)||0}px`,"--width":`${Bne}px`,"--gap":`${v}px`,...p,...Hne(l,c)},onBlur:Z=>{B.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(B.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||B.current||(B.current=!0,L.current=Z.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{D||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},C.filter(Z=>!Z.position&&K===0||Z.position===z).map((Z,_e)=>{var Y,re;return T.createElement(Wne,{key:Z.id,icons:b,index:_e,toast:Z,defaultRichColors:f,duration:(Y=m==null?void 0:m.duration)!=null?Y:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:g,closeButton:(re=m==null?void 0:m.closeButton)!=null?re:a,interacting:D,position:z,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:W,toasts:C.filter(ne=>ne.position==Z.position),heights:N.filter(ne=>ne.position==Z.position),setHeights:E,expandByDefault:s,gap:v,loadingIcon:x,expanded:P,pauseWhenPageIsHidden:w,swipeDirections:t.swipeDirections})})):null}))});const Kne=({...t})=>u.jsx(qne,{className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t});var Yne=Af[" useId ".trim().toString()]||(()=>{}),Gne=0;function sO(t){const[e,n]=S.useState(Yne());return Dn(()=>{n(r=>r??String(Gne++))},[t]),e?`radix-${e}`:""}const Qne=["top","right","bottom","left"],il=Math.min,Lr=Math.max,T0=Math.round,py=Math.floor,$s=t=>({x:t,y:t}),Xne={left:"right",right:"left",bottom:"top",top:"bottom"},Jne={start:"end",end:"start"};function A_(t,e,n){return Lr(t,il(e,n))}function Pa(t,e){return typeof t=="function"?t(e):t}function Aa(t){return t.split("-")[0]}function Lf(t){return t.split("-")[1]}function aO(t){return t==="x"?"y":"x"}function oO(t){return t==="y"?"height":"width"}const Zne=new Set(["top","bottom"]);function Ps(t){return Zne.has(Aa(t))?"y":"x"}function lO(t){return aO(Ps(t))}function ere(t,e,n){n===void 0&&(n=!1);const r=Lf(t),i=lO(t),s=oO(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=O0(a)),[a,O0(a)]}function tre(t){const e=O0(t);return[M_(t),e,M_(e)]}function M_(t){return t.replace(/start|end/g,e=>Jne[e])}const WM=["left","right"],HM=["right","left"],nre=["top","bottom"],rre=["bottom","top"];function ire(t,e,n){switch(t){case"top":case"bottom":return n?e?HM:WM:e?WM:HM;case"left":case"right":return e?nre:rre;default:return[]}}function sre(t,e,n,r){const i=Lf(t);let s=ire(Aa(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(M_)))),s}function O0(t){return t.replace(/left|right|bottom|top/g,e=>Xne[e])}function are(t){return{top:0,right:0,bottom:0,left:0,...t}}function W8(t){return typeof t!="number"?are(t):{top:t,right:t,bottom:t,left:t}}function P0(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function qM(t,e,n){let{reference:r,floating:i}=t;const s=Ps(e),a=lO(e),o=oO(a),l=Aa(e),c=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Lf(e)){case"start":p[a]-=h*(n&&c?-1:1);break;case"end":p[a]+=h*(n&&c?-1:1);break}return p}const ore=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=qM(c,r,l),h=r,p={},g=0;for(let m=0;m<o.length;m++){const{name:y,fn:v}=o[m],{x,y:b,data:k,reset:w}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:t,floating:e}});d=x??d,f=b??f,p={...p,[y]:{...p[y],...k}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(c=w.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):w.rects),{x:d,y:f}=qM(c,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function em(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Pa(e,t),g=W8(p),y=o[h?f==="floating"?"reference":"floating":f],v=P0(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),x=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),k=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},w=P0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:b,strategy:l}):x);return{top:(v.top-w.top+g.top)/k.y,bottom:(w.bottom-v.bottom+g.bottom)/k.y,left:(v.left-w.left+g.left)/k.x,right:(w.right-v.right+g.right)/k.x}}const lre=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:d=0}=Pa(t,e)||{};if(c==null)return{};const f=W8(d),h={x:n,y:r},p=lO(i),g=oO(p),m=await a.getDimensions(c),y=p==="y",v=y?"top":"left",x=y?"bottom":"right",b=y?"clientHeight":"clientWidth",k=s.reference[g]+s.reference[p]-h[p]-s.floating[g],w=h[p]-s.reference[p],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let _=C?C[b]:0;(!_||!await(a.isElement==null?void 0:a.isElement(C)))&&(_=o.floating[b]||s.floating[g]);const j=k/2-w/2,N=_/2-m[g]/2-1,E=il(f[v],N),P=il(f[x],N),O=E,D=_-m[g]-P,A=_/2-m[g]/2+j,M=A_(O,A,D),$=!l.arrow&&Lf(i)!=null&&A!==M&&s.reference[g]/2-(A<O?E:P)-m[g]/2<0,I=$?A<O?A-O:A-D:0;return{[p]:h[p]+I,data:{[p]:M,centerOffset:A-M-I,...$&&{alignmentOffset:I}},reset:$}}}),cre=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...y}=Pa(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Aa(i),x=Ps(o),b=Aa(o)===o,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=h||(b||!m?[O0(o)]:tre(o)),C=g!=="none";!h&&C&&w.push(...sre(o,m,g,k));const _=[o,...w],j=await em(e,y),N=[];let E=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&N.push(j[v]),f){const A=ere(i,a,k);N.push(j[A[0]],j[A[1]])}if(E=[...E,{placement:i,overflows:N}],!N.every(A=>A<=0)){var P,O;const A=(((P=s.flip)==null?void 0:P.index)||0)+1,M=_[A];if(M&&(!(f==="alignment"?x!==Ps(M):!1)||E.every(R=>Ps(R.placement)===x?R.overflows[0]>0:!0)))return{data:{index:A,overflows:E},reset:{placement:M}};let $=(O=E.filter(I=>I.overflows[0]<=0).sort((I,R)=>I.overflows[1]-R.overflows[1])[0])==null?void 0:O.placement;if(!$)switch(p){case"bestFit":{var D;const I=(D=E.filter(R=>{if(C){const L=Ps(R.placement);return L===x||L==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(L=>L>0).reduce((L,B)=>L+B,0)]).sort((R,L)=>R[1]-L[1])[0])==null?void 0:D[0];I&&($=I);break}case"initialPlacement":$=o;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function KM(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function YM(t){return Qne.some(e=>t[e]>=0)}const ure=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Pa(t,e);switch(r){case"referenceHidden":{const s=await em(e,{...i,elementContext:"reference"}),a=KM(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:YM(a)}}}case"escaped":{const s=await em(e,{...i,altBoundary:!0}),a=KM(s,n.floating);return{data:{escapedOffsets:a,escaped:YM(a)}}}default:return{}}}}},H8=new Set(["left","top"]);async function dre(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Aa(n),o=Lf(n),l=Ps(n)==="y",c=H8.has(a)?-1:1,d=s&&l?-1:1,f=Pa(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}const fre=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await dre(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},hre=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:y=>{let{x:v,y:x}=y;return{x:v,y:x}}},...l}=Pa(t,e),c={x:n,y:r},d=await em(e,l),f=Ps(Aa(i)),h=aO(f);let p=c[h],g=c[f];if(s){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=p+d[y],b=p-d[v];p=A_(x,p,b)}if(a){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=g+d[y],b=g-d[v];g=A_(x,g,b)}const m=o.fn({...e,[h]:p,[f]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:s,[f]:a}}}}}},pre=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Pa(t,e),d={x:n,y:r},f=Ps(i),h=aO(f);let p=d[h],g=d[f];const m=Pa(o,e),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=h==="y"?"height":"width",k=s.reference[h]-s.floating[b]+y.mainAxis,w=s.reference[h]+s.reference[b]-y.mainAxis;p<k?p=k:p>w&&(p=w)}if(c){var v,x;const b=h==="y"?"width":"height",k=H8.has(Aa(i)),w=s.reference[f]-s.floating[b]+(k&&((v=a.offset)==null?void 0:v[f])||0)+(k?0:y.crossAxis),C=s.reference[f]+s.reference[b]+(k?0:((x=a.offset)==null?void 0:x[f])||0)-(k?y.crossAxis:0);g<w?g=w:g>C&&(g=C)}return{[h]:p,[f]:g}}}},mre=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=Pa(t,e),d=await em(e,c),f=Aa(i),h=Lf(i),p=Ps(i)==="y",{width:g,height:m}=s.floating;let y,v;f==="top"||f==="bottom"?(y=f,v=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=f,y=h==="end"?"top":"bottom");const x=m-d.top-d.bottom,b=g-d.left-d.right,k=il(m-d[y],x),w=il(g-d[v],b),C=!e.middlewareData.shift;let _=k,j=w;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(j=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=x),C&&!h){const E=Lr(d.left,0),P=Lr(d.right,0),O=Lr(d.top,0),D=Lr(d.bottom,0);p?j=g-2*(E!==0||P!==0?E+P:Lr(d.left,d.right)):_=m-2*(O!==0||D!==0?O+D:Lr(d.top,d.bottom))}await l({...e,availableWidth:j,availableHeight:_});const N=await a.getDimensions(o.floating);return g!==N.width||m!==N.height?{reset:{rects:!0}}:{}}}};function kw(){return typeof window<"u"}function Bf(t){return q8(t)?(t.nodeName||"").toLowerCase():"#document"}function Wr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qs(t){var e;return(e=(q8(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function q8(t){return kw()?t instanceof Node||t instanceof Wr(t).Node:!1}function ir(t){return kw()?t instanceof Element||t instanceof Wr(t).Element:!1}function Vs(t){return kw()?t instanceof HTMLElement||t instanceof Wr(t).HTMLElement:!1}function GM(t){return!kw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Wr(t).ShadowRoot}const gre=new Set(["inline","contents"]);function wg(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ei(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!gre.has(i)}const yre=new Set(["table","td","th"]);function vre(t){return yre.has(Bf(t))}const xre=[":popover-open",":modal"];function Cw(t){return xre.some(e=>{try{return t.matches(e)}catch{return!1}})}const bre=["transform","translate","scale","rotate","perspective"],wre=["transform","translate","scale","rotate","perspective","filter"],Sre=["paint","layout","strict","content"];function cO(t){const e=uO(),n=ir(t)?Ei(t):t;return bre.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||wre.some(r=>(n.willChange||"").includes(r))||Sre.some(r=>(n.contain||"").includes(r))}function kre(t){let e=sl(t);for(;Vs(e)&&!Ud(e);){if(cO(e))return e;if(Cw(e))return null;e=sl(e)}return null}function uO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Cre=new Set(["html","body","#document"]);function Ud(t){return Cre.has(Bf(t))}function Ei(t){return Wr(t).getComputedStyle(t)}function _w(t){return ir(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function sl(t){if(Bf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||GM(t)&&t.host||qs(t);return GM(e)?e.host:e}function K8(t){const e=sl(t);return Ud(e)?t.ownerDocument?t.ownerDocument.body:t.body:Vs(e)&&wg(e)?e:K8(e)}function tm(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=K8(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Wr(i);if(s){const o=D_(a);return e.concat(a,a.visualViewport||[],wg(i)?i:[],o&&n?tm(o):[])}return e.concat(i,tm(i,[],n))}function D_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Y8(t){const e=Ei(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Vs(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=T0(n)!==s||T0(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function dO(t){return ir(t)?t:t.contextElement}function pd(t){const e=dO(t);if(!Vs(e))return $s(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Y8(e);let a=(s?T0(n.width):n.width)/r,o=(s?T0(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const _re=$s(0);function G8(t){const e=Wr(t);return!uO()||!e.visualViewport?_re:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jre(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Wr(t)?!1:e}function Ic(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=dO(t);let a=$s(1);e&&(r?ir(r)&&(a=pd(r)):a=pd(t));const o=jre(s,n,r)?G8(s):$s(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const h=Wr(s),p=r&&ir(r)?Wr(r):r;let g=h,m=D_(g);for(;m&&r&&p!==g;){const y=pd(m),v=m.getBoundingClientRect(),x=Ei(m),b=v.left+(m.clientLeft+parseFloat(x.paddingLeft))*y.x,k=v.top+(m.clientTop+parseFloat(x.paddingTop))*y.y;l*=y.x,c*=y.y,d*=y.x,f*=y.y,l+=b,c+=k,g=Wr(m),m=D_(g)}}return P0({width:d,height:f,x:l,y:c})}function jw(t,e){const n=_w(t).scrollLeft;return e?e.left+n:Ic(qs(t)).left+n}function Q8(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-jw(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function Ere(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=qs(r),o=e?Cw(e.floating):!1;if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},c=$s(1);const d=$s(0),f=Vs(r);if((f||!f&&!s)&&((Bf(r)!=="body"||wg(a))&&(l=_w(r)),Vs(r))){const p=Ic(r);c=pd(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=a&&!f&&!s?Q8(a,l):$s(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function Nre(t){return Array.from(t.getClientRects())}function Tre(t){const e=qs(t),n=_w(t),r=t.ownerDocument.body,i=Lr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Lr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+jw(t);const o=-n.scrollTop;return Ei(r).direction==="rtl"&&(a+=Lr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}const QM=25;function Ore(t,e){const n=Wr(t),r=qs(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const d=uO();(!d||d&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=jw(r);if(c<=0){const d=r.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(r.clientWidth-f.clientWidth-p);g<=QM&&(s-=g)}else c<=QM&&(s+=c);return{width:s,height:a,x:o,y:l}}const Pre=new Set(["absolute","fixed"]);function Are(t,e){const n=Ic(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Vs(t)?pd(t):$s(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:a,height:o,x:l,y:c}}function XM(t,e,n){let r;if(e==="viewport")r=Ore(t,n);else if(e==="document")r=Tre(qs(t));else if(ir(e))r=Are(e,n);else{const i=G8(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return P0(r)}function X8(t,e){const n=sl(t);return n===e||!ir(n)||Ud(n)?!1:Ei(n).position==="fixed"||X8(n,e)}function Mre(t,e){const n=e.get(t);if(n)return n;let r=tm(t,[],!1).filter(o=>ir(o)&&Bf(o)!=="body"),i=null;const s=Ei(t).position==="fixed";let a=s?sl(t):t;for(;ir(a)&&!Ud(a);){const o=Ei(a),l=cO(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&Pre.has(i.position)||wg(a)&&!l&&X8(t,a))?r=r.filter(d=>d!==a):i=o,a=sl(a)}return e.set(t,r),r}function Dre(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Cw(e)?[]:Mre(e,this._c):[].concat(n),r],o=a[0],l=a.reduce((c,d)=>{const f=XM(e,d,i);return c.top=Lr(f.top,c.top),c.right=il(f.right,c.right),c.bottom=il(f.bottom,c.bottom),c.left=Lr(f.left,c.left),c},XM(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Rre(t){const{width:e,height:n}=Y8(t);return{width:e,height:n}}function Ire(t,e,n){const r=Vs(e),i=qs(e),s=n==="fixed",a=Ic(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=$s(0);function c(){l.x=jw(i)}if(r||!r&&!s)if((Bf(e)!=="body"||wg(i))&&(o=_w(e)),r){const p=Ic(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();s&&!r&&i&&c();const d=i&&!r&&!s?Q8(i,o):$s(0),f=a.left+o.scrollLeft-l.x-d.x,h=a.top+o.scrollTop-l.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function FS(t){return Ei(t).position==="static"}function JM(t,e){if(!Vs(t)||Ei(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return qs(t)===n&&(n=n.ownerDocument.body),n}function J8(t,e){const n=Wr(t);if(Cw(t))return n;if(!Vs(t)){let i=sl(t);for(;i&&!Ud(i);){if(ir(i)&&!FS(i))return i;i=sl(i)}return n}let r=JM(t,e);for(;r&&vre(r)&&FS(r);)r=JM(r,e);return r&&Ud(r)&&FS(r)&&!cO(r)?n:r||kre(t)||n}const $re=async function(t){const e=this.getOffsetParent||J8,n=this.getDimensions,r=await n(t.floating);return{reference:Ire(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Lre(t){return Ei(t).direction==="rtl"}const Bre={convertOffsetParentRelativeRectToViewportRelativeRect:Ere,getDocumentElement:qs,getClippingRect:Dre,getOffsetParent:J8,getElementRects:$re,getClientRects:Nre,getDimensions:Rre,getScale:pd,isElement:ir,isRTL:Lre};function Z8(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Fre(t,e){let n=null,r;const i=qs(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=c;if(o||e(),!h||!p)return;const g=py(f),m=py(i.clientWidth-(d+h)),y=py(i.clientHeight-(f+p)),v=py(d),b={rootMargin:-g+"px "+-m+"px "+-y+"px "+-v+"px",threshold:Lr(0,il(1,l))||1};let k=!0;function w(C){const _=C[0].intersectionRatio;if(_!==l){if(!k)return a();_?a(!1,_):r=setTimeout(()=>{a(!1,1e-7)},1e3)}_===1&&!Z8(c,t.getBoundingClientRect())&&a(),k=!1}try{n=new IntersectionObserver(w,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,b)}n.observe(t)}return a(!0),s}function ez(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=dO(t),d=i||s?[...c?tm(c):[],...tm(e)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=c&&o?Fre(c,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(v=>{let[x]=v;x&&x.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let g,m=l?Ic(t):null;l&&y();function y(){const v=Ic(t);m&&!Z8(m,v)&&n(),m=v,g=requestAnimationFrame(y)}return n(),()=>{var v;d.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const zre=fre,Vre=hre,Ure=cre,Wre=mre,Hre=ure,ZM=lre,qre=pre,Kre=(t,e,n)=>{const r=new Map,i={platform:Bre,...n},s={...i.platform,_c:r};return ore(t,e,{...i,platform:s})};var Yre=typeof document<"u",Gre=function(){},Rv=Yre?S.useLayoutEffect:Gre;function A0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!A0(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!A0(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function tz(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function eD(t,e){const n=tz(t);return Math.round(e*n)/n}function zS(t){const e=S.useRef(t);return Rv(()=>{e.current=t}),e}function nz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[d,f]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=S.useState(r);A0(h,r)||p(r);const[g,m]=S.useState(null),[y,v]=S.useState(null),x=S.useCallback(R=>{R!==C.current&&(C.current=R,m(R))},[]),b=S.useCallback(R=>{R!==_.current&&(_.current=R,v(R))},[]),k=s||g,w=a||y,C=S.useRef(null),_=S.useRef(null),j=S.useRef(d),N=l!=null,E=zS(l),P=zS(i),O=zS(c),D=S.useCallback(()=>{if(!C.current||!_.current)return;const R={placement:e,strategy:n,middleware:h};P.current&&(R.platform=P.current),Kre(C.current,_.current,R).then(L=>{const B={...L,isPositioned:O.current!==!1};A.current&&!A0(j.current,B)&&(j.current=B,Jc.flushSync(()=>{f(B)}))})},[h,e,n,P,O]);Rv(()=>{c===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[c]);const A=S.useRef(!1);Rv(()=>(A.current=!0,()=>{A.current=!1}),[]),Rv(()=>{if(k&&(C.current=k),w&&(_.current=w),k&&w){if(E.current)return E.current(k,w,D);D()}},[k,w,D,E,N]);const M=S.useMemo(()=>({reference:C,floating:_,setReference:x,setFloating:b}),[x,b]),$=S.useMemo(()=>({reference:k,floating:w}),[k,w]),I=S.useMemo(()=>{const R={position:n,left:0,top:0};if(!$.floating)return R;const L=eD($.floating,d.x),B=eD($.floating,d.y);return o?{...R,transform:"translate("+L+"px, "+B+"px)",...tz($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:B}},[n,o,$.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:D,refs:M,elements:$,floatingStyles:I}),[d,D,M,$,I])}const Qre=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?ZM({element:r.current,padding:i}).fn(n):{}:r?ZM({element:r,padding:i}).fn(n):{}}}},rz=(t,e)=>({...zre(t),options:[t,e]}),Xre=(t,e)=>({...Vre(t),options:[t,e]}),Jre=(t,e)=>({...qre(t),options:[t,e]}),iz=(t,e)=>({...Ure(t),options:[t,e]}),Zre=(t,e)=>({...Wre(t),options:[t,e]}),eie=(t,e)=>({...Hre(t),options:[t,e]}),sz=(t,e)=>({...Qre(t),options:[t,e]});var tie="Arrow",az=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return u.jsx(We.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});az.displayName=tie;var nie=az;function oz(t){const[e,n]=S.useState(void 0);return Dn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var fO="Popper",[lz,Ew]=Rf(fO),[rie,cz]=lz(fO),uz=t=>{const{__scopePopper:e,children:n}=t,[r,i]=S.useState(null);return u.jsx(rie,{scope:e,anchor:r,onAnchorChange:i,children:n})};uz.displayName=fO;var dz="PopperAnchor",fz=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=cz(dz,n),a=S.useRef(null),o=at(e,a),l=S.useRef(null);return S.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||a.current,c!==l.current&&s.onAnchorChange(l.current)}),r?null:u.jsx(We.div,{...i,ref:o})});fz.displayName=dz;var hO="PopperContent",[iie,sie]=lz(hO),hz=S.forwardRef((t,e)=>{var Z,_e,Y,re,ne,F;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=t,y=cz(hO,n),[v,x]=S.useState(null),b=at(e,Pe=>x(Pe)),[k,w]=S.useState(null),C=oz(k),_=(C==null?void 0:C.width)??0,j=(C==null?void 0:C.height)??0,N=r+(s!=="center"?"-"+s:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(c)?c:[c],O=P.length>0,D={padding:E,boundary:P.filter(oie),altBoundary:O},{refs:A,floatingStyles:M,placement:$,isPositioned:I,middlewareData:R}=nz({strategy:"fixed",placement:N,whileElementsMounted:(...Pe)=>ez(...Pe,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[rz({mainAxis:i+j,alignmentAxis:a}),l&&Xre({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Jre():void 0,...D}),l&&iz({...D}),Zre({...D,apply:({elements:Pe,rects:Se,availableWidth:ot,availableHeight:rt})=>{const{width:Dt,height:hr}=Se.reference,Pr=Pe.floating.style;Pr.setProperty("--radix-popper-available-width",`${ot}px`),Pr.setProperty("--radix-popper-available-height",`${rt}px`),Pr.setProperty("--radix-popper-anchor-width",`${Dt}px`),Pr.setProperty("--radix-popper-anchor-height",`${hr}px`)}}),k&&sz({element:k,padding:o}),lie({arrowWidth:_,arrowHeight:j}),h&&eie({strategy:"referenceHidden",...D})]}),[L,B]=gz($),W=cs(g);Dn(()=>{I&&(W==null||W())},[I,W]);const z=(Z=R.arrow)==null?void 0:Z.x,K=(_e=R.arrow)==null?void 0:_e.y,ie=((Y=R.arrow)==null?void 0:Y.centerOffset)!==0,[J,ye]=S.useState();return Dn(()=>{v&&ye(window.getComputedStyle(v).zIndex)},[v]),u.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:I?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(re=R.transformOrigin)==null?void 0:re.x,(ne=R.transformOrigin)==null?void 0:ne.y].join(" "),...((F=R.hide)==null?void 0:F.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(iie,{scope:n,placedSide:L,onArrowChange:w,arrowX:z,arrowY:K,shouldHideArrow:ie,children:u.jsx(We.div,{"data-side":L,"data-align":B,...m,ref:b,style:{...m.style,animation:I?void 0:"none"}})})})});hz.displayName=hO;var pz="PopperArrow",aie={top:"bottom",right:"left",bottom:"top",left:"right"},mz=S.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=sie(pz,r),a=aie[s.placedSide];return u.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:u.jsx(nie,{...i,ref:n,style:{...i.style,display:"block"}})})});mz.displayName=pz;function oie(t){return t!==null}var lie=t=>({name:"transformOrigin",options:t,fn(e){var y,v,x;const{placement:n,rects:r,middlewareData:i}=e,a=((y=i.arrow)==null?void 0:y.centerOffset)!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,d]=gz(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=i.arrow)==null?void 0:v.x)??0)+o/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let g="",m="";return c==="bottom"?(g=a?f:`${h}px`,m=`${-l}px`):c==="top"?(g=a?f:`${h}px`,m=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,m=a?f:`${p}px`):c==="left"&&(g=`${r.floating.width+l}px`,m=a?f:`${p}px`),{data:{x:g,y:m}}}});function gz(t){const[e,n="center"]=t.split("-");return[e,n]}var cie=uz,yz=fz,vz=hz,xz=mz,[Nw]=Rf("Tooltip",[Ew]),pO=Ew(),bz="TooltipProvider",uie=700,tD="tooltip.open",[die,wz]=Nw(bz),Sz=t=>{const{__scopeTooltip:e,delayDuration:n=uie,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,a=S.useRef(!0),o=S.useRef(!1),l=S.useRef(0);return S.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(die,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:S.useCallback(c=>{o.current=c},[]),disableHoverableContent:i,children:s})};Sz.displayName=bz;var kz="Tooltip",[SKe,Tw]=Nw(kz),R_="TooltipTrigger",fie=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Tw(R_,n),s=wz(R_,n),a=pO(n),o=S.useRef(null),l=at(e,o,i.onTriggerChange),c=S.useRef(!1),d=S.useRef(!1),f=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(yz,{asChild:!0,...a,children:u.jsx(We.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Ee(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ee(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Ee(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ee(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ee(t.onBlur,i.onClose),onClick:Ee(t.onClick,i.onClose)})})});fie.displayName=R_;var hie="TooltipPortal",[kKe,pie]=Nw(hie,{forceMount:void 0}),Wd="TooltipContent",Cz=S.forwardRef((t,e)=>{const n=pie(Wd,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,a=Tw(Wd,t.__scopeTooltip);return u.jsx(HT,{present:r||a.open,children:a.disableHoverableContent?u.jsx(_z,{side:i,...s,ref:e}):u.jsx(mie,{side:i,...s,ref:e})})}),mie=S.forwardRef((t,e)=>{const n=Tw(Wd,t.__scopeTooltip),r=wz(Wd,t.__scopeTooltip),i=S.useRef(null),s=at(e,i),[a,o]=S.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=S.useCallback(()=>{o(null),f(!1)},[f]),p=S.useCallback((g,m)=>{const y=g.currentTarget,v={x:g.clientX,y:g.clientY},x=bie(v,y.getBoundingClientRect()),b=wie(v,x),k=Sie(m.getBoundingClientRect()),w=Cie([...b,...k]);o(w),f(!0)},[f]);return S.useEffect(()=>()=>h(),[h]),S.useEffect(()=>{if(l&&d){const g=y=>p(y,d),m=y=>p(y,l);return l.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[l,d,p,h]),S.useEffect(()=>{if(a){const g=m=>{const y=m.target,v={x:m.clientX,y:m.clientY},x=(l==null?void 0:l.contains(y))||(d==null?void 0:d.contains(y)),b=!kie(v,a);x?h():b&&(h(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,d,a,c,h]),u.jsx(_z,{...t,ref:s})}),[gie,yie]=Nw(kz,{isInside:!1}),vie=ree("TooltipContent"),_z=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,l=Tw(Wd,n),c=pO(n),{onClose:d}=l;return S.useEffect(()=>(document.addEventListener(tD,d),()=>document.removeEventListener(tD,d)),[d]),S.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(yw,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(vz,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(vie,{children:r}),u.jsx(gie,{scope:n,isInside:!0,children:u.jsx(_ee,{id:l.contentId,role:"tooltip",children:i||r})})]})})});Cz.displayName=Wd;var jz="TooltipArrow",xie=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=pO(n);return yie(jz,n).isInside?null:u.jsx(xz,{...i,...r,ref:e})});xie.displayName=jz;function bie(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function wie(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Sie(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function kie(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],c=o.x,d=o.y,f=l.x,h=l.y;d>r!=h>r&&n<(f-c)*(r-d)/(h-d)+c&&(i=!i)}return i}function Cie(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),_ie(e)}function _ie(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var jie=Sz,Ez=Cz;const Eie=jie,Nie=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(Ez,{ref:r,sideOffset:e,className:Ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Nie.displayName=Ez.displayName;var Ow=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tie={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},wo,KN,vF,Oie=(vF=class{constructor(){Le(this,wo,Tie);Le(this,KN,!1)}setTimeoutProvider(t){ke(this,wo,t)}setTimeout(t,e){return U(this,wo).setTimeout(t,e)}clearTimeout(t){U(this,wo).clearTimeout(t)}setInterval(t,e){return U(this,wo).setInterval(t,e)}clearInterval(t){U(this,wo).clearInterval(t)}},wo=new WeakMap,KN=new WeakMap,vF),I_=new Oie;function Pie(t){setTimeout(t,0)}var Pw=typeof window>"u"||"Deno"in globalThis;function Ui(){}function Aie(t,e){return typeof t=="function"?t(e):t}function Mie(t){return typeof t=="number"&&t>=0&&t!==1/0}function Die(t,e){return Math.max(t+(e||0)-Date.now(),0)}function $_(t,e){return typeof t=="function"?t(e):t}function Rie(t,e){return typeof t=="function"?t(e):t}function nD(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==mO(a,e.options))return!1}else if(!rm(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function rD(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(nm(e.options.mutationKey)!==nm(s))return!1}else if(!rm(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function mO(t,e){return((e==null?void 0:e.queryKeyHashFn)||nm)(t)}function nm(t){return JSON.stringify(t,(e,n)=>L_(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function rm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>rm(t[n],e[n])):!1}var Iie=Object.prototype.hasOwnProperty;function Nz(t,e){if(t===e)return t;const n=iD(t)&&iD(e);if(!n&&!(L_(t)&&L_(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),a=s.length,o=n?new Array(a):{};let l=0;for(let c=0;c<a;c++){const d=n?c:s[c],f=t[d],h=e[d];if(f===h){o[d]=f,(n?c<i:Iie.call(t,d))&&l++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){o[d]=h;continue}const p=Nz(f,h);o[d]=p,p===f&&l++}return i===a&&l===i?t:o}function iD(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function L_(t){if(!sD(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!sD(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function sD(t){return Object.prototype.toString.call(t)==="[object Object]"}function $ie(t){return new Promise(e=>{I_.setTimeout(e,t)})}function Lie(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Nz(t,e):e}function Bie(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Fie(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var gO=Symbol();function Tz(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===gO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var fc,So,Ed,xF,zie=(xF=class extends Ow{constructor(){super();Le(this,fc);Le(this,So);Le(this,Ed);ke(this,Ed,e=>{if(!Pw&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,So)||this.setEventListener(U(this,Ed))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,So))==null||e.call(this),ke(this,So,void 0))}setEventListener(e){var n;ke(this,Ed,e),(n=U(this,So))==null||n.call(this),ke(this,So,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,fc)!==e&&(ke(this,fc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,fc)=="boolean"?U(this,fc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},fc=new WeakMap,So=new WeakMap,Ed=new WeakMap,xF),Oz=new zie;function Vie(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var Uie=Pie;function Wie(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=Uie;const s=o=>{e?t.push(o):i(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var rr=Wie(),Nd,ko,Td,bF,Hie=(bF=class extends Ow{constructor(){super();Le(this,Nd,!0);Le(this,ko);Le(this,Td);ke(this,Td,e=>{if(!Pw&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,ko)||this.setEventListener(U(this,Td))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,ko))==null||e.call(this),ke(this,ko,void 0))}setEventListener(e){var n;ke(this,Td,e),(n=U(this,ko))==null||n.call(this),ke(this,ko,e(this.setOnline.bind(this)))}setOnline(e){U(this,Nd)!==e&&(ke(this,Nd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Nd)}},Nd=new WeakMap,ko=new WeakMap,Td=new WeakMap,bF),M0=new Hie;function qie(t){return Math.min(1e3*2**t,3e4)}function Pz(t){return(t??"online")==="online"?M0.isOnline():!0}var B_=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Az(t){let e=!1,n=0,r;const i=Vie(),s=()=>i.status!=="pending",a=m=>{var y;if(!s()){const v=new B_(m);h(v),(y=t.onCancel)==null||y.call(t,v)}},o=()=>{e=!0},l=()=>{e=!1},c=()=>Oz.isFocused()&&(t.networkMode==="always"||M0.isOnline())&&t.canRun(),d=()=>Pz(t.networkMode)&&t.canRun(),f=m=>{s()||(r==null||r(),i.resolve(m))},h=m=>{s()||(r==null||r(),i.reject(m))},p=()=>new Promise(m=>{var y;r=v=>{(s()||c())&&m(v)},(y=t.onPause)==null||y.call(t)}).then(()=>{var m;r=void 0,s()||(m=t.onContinue)==null||m.call(t)}),g=()=>{if(s())return;let m;const y=n===0?t.initialPromise:void 0;try{m=y??t.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{var C;if(s())return;const x=t.retry??(Pw?0:3),b=t.retryDelay??qie,k=typeof b=="function"?b(n,v):b,w=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,v);if(e||!w){h(v);return}n++,(C=t.onFail)==null||C.call(t,n,v),$ie(k).then(()=>c()?void 0:p()).then(()=>{e?h(v):g()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?g():p().then(g),i)}}var hc,wF,Mz=(wF=class{constructor(){Le(this,hc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Mie(this.gcTime)&&ke(this,hc,I_.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Pw?1/0:5*60*1e3))}clearGcTimeout(){U(this,hc)&&(I_.clearTimeout(U(this,hc)),ke(this,hc,void 0))}},hc=new WeakMap,wF),pc,Od,li,mc,pn,ug,gc,Hi,ia,SF,Kie=(SF=class extends Mz{constructor(e){super();Le(this,Hi);Le(this,pc);Le(this,Od);Le(this,li);Le(this,mc);Le(this,pn);Le(this,ug);Le(this,gc);ke(this,gc,!1),ke(this,ug,e.defaultOptions),this.setOptions(e.options),this.observers=[],ke(this,mc,e.client),ke(this,li,U(this,mc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ke(this,pc,oD(this.options)),this.state=e.state??U(this,pc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=U(this,pn))==null?void 0:e.promise}setOptions(e){if(this.options={...U(this,ug),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=oD(this.options);n.data!==void 0&&(this.setState(aD(n.data,n.dataUpdatedAt)),ke(this,pc,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,li).remove(this)}setData(e,n){const r=Lie(this.state.data,e,this.options);return In(this,Hi,ia).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){In(this,Hi,ia).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=U(this,pn))==null?void 0:r.promise;return(i=U(this,pn))==null||i.cancel(e),n?n.then(Ui).catch(Ui):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,pc))}isActive(){return this.observers.some(e=>Rie(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>$_(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Die(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=U(this,pn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=U(this,pn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),U(this,li).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(U(this,pn)&&(U(this,gc)?U(this,pn).cancel({revert:!0}):U(this,pn).cancelRetry()),this.scheduleGc()),U(this,li).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||In(this,Hi,ia).call(this,{type:"invalidate"})}async fetch(e,n){var l,c,d,f,h,p,g,m,y,v,x,b;if(this.state.fetchStatus!=="idle"&&((l=U(this,pn))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(U(this,pn))return U(this,pn).continueRetry(),U(this,pn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const k=this.observers.find(w=>w.options.queryFn);k&&this.setOptions(k.options)}const r=new AbortController,i=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(ke(this,gc,!0),r.signal)})},s=()=>{const k=Tz(this.options,n),C=(()=>{const _={client:U(this,mc),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return ke(this,gc,!1),this.options.persister?this.options.persister(k,C,this):k(C)},o=(()=>{const k={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:U(this,mc),state:this.state,fetchFn:s};return i(k),k})();(c=this.options.behavior)==null||c.onFetch(o,this),ke(this,Od,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&In(this,Hi,ia).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),ke(this,pn,Az({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:k=>{k instanceof B_&&k.revert&&this.setState({...U(this,Od),fetchStatus:"idle"}),r.abort()},onFail:(k,w)=>{In(this,Hi,ia).call(this,{type:"failed",failureCount:k,error:w})},onPause:()=>{In(this,Hi,ia).call(this,{type:"pause"})},onContinue:()=>{In(this,Hi,ia).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const k=await U(this,pn).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(p=(h=U(this,li).config).onSuccess)==null||p.call(h,k,this),(m=(g=U(this,li).config).onSettled)==null||m.call(g,k,this.state.error,this),k}catch(k){if(k instanceof B_){if(k.silent)return U(this,pn).promise;if(k.revert){if(this.state.data===void 0)throw k;return this.state.data}}throw In(this,Hi,ia).call(this,{type:"error",error:k}),(v=(y=U(this,li).config).onError)==null||v.call(y,k,this),(b=(x=U(this,li).config).onSettled)==null||b.call(x,this.state.data,k,this),k}finally{this.scheduleGc()}}},pc=new WeakMap,Od=new WeakMap,li=new WeakMap,mc=new WeakMap,pn=new WeakMap,ug=new WeakMap,gc=new WeakMap,Hi=new WeakSet,ia=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Yie(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...aD(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ke(this,Od,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),rr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),U(this,li).notify({query:this,type:"updated",action:e})})},SF);function Yie(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Pz(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function aD(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function oD(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function lD(t){return{onFetch:(e,n)=>{var d,f,h,p,g;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},v=Tz(e.options,e.fetchOptions),x=async(b,k,w)=>{if(m)return Promise.reject();if(k==null&&b.pages.length)return Promise.resolve(b);const _=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:k,direction:w?"backward":"forward",meta:e.options.meta};return y(P),P})(),j=await v(_),{maxPages:N}=e.options,E=w?Fie:Bie;return{pages:E(b.pages,j,N),pageParams:E(b.pageParams,k,N)}};if(i&&s.length){const b=i==="backward",k=b?Gie:cD,w={pages:s,pageParams:a},C=k(r,w);o=await x(w,C,b)}else{const b=t??s.length;do{const k=l===0?a[0]??r.initialPageParam:cD(r,o);if(l>0&&k==null)break;o=await x(o,k),l++}while(l<b)}return o};e.options.persister?e.fetchFn=()=>{var m,y;return(y=(m=e.options).persister)==null?void 0:y.call(m,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function cD(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Gie(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var dg,ks,Zn,yc,Cs,ro,kF,Qie=(kF=class extends Mz{constructor(e){super();Le(this,Cs);Le(this,dg);Le(this,ks);Le(this,Zn);Le(this,yc);ke(this,dg,e.client),this.mutationId=e.mutationId,ke(this,Zn,e.mutationCache),ke(this,ks,[]),this.state=e.state||Xie(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){U(this,ks).includes(e)||(U(this,ks).push(e),this.clearGcTimeout(),U(this,Zn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ke(this,ks,U(this,ks).filter(n=>n!==e)),this.scheduleGc(),U(this,Zn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){U(this,ks).length||(this.state.status==="pending"?this.scheduleGc():U(this,Zn).remove(this))}continue(){var e;return((e=U(this,yc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,c,d,f,h,p,g,m,y,v,x,b,k,w,C,_,j,N;const n=()=>{In(this,Cs,ro).call(this,{type:"continue"})},r={client:U(this,dg),meta:this.options.meta,mutationKey:this.options.mutationKey};ke(this,yc,Az({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(E,P)=>{In(this,Cs,ro).call(this,{type:"failed",failureCount:E,error:P})},onPause:()=>{In(this,Cs,ro).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Zn).canRun(this)}));const i=this.state.status==="pending",s=!U(this,yc).canStart();try{if(i)n();else{In(this,Cs,ro).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=U(this,Zn).config).onMutate)==null?void 0:o.call(a,e,this,r));const P=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,r));P!==this.state.context&&In(this,Cs,ro).call(this,{type:"pending",context:P,variables:e,isPaused:s})}const E=await U(this,yc).start();return await((f=(d=U(this,Zn).config).onSuccess)==null?void 0:f.call(d,E,e,this.state.context,this,r)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,E,e,this.state.context,r)),await((m=(g=U(this,Zn).config).onSettled)==null?void 0:m.call(g,E,null,this.state.variables,this.state.context,this,r)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,E,null,e,this.state.context,r)),In(this,Cs,ro).call(this,{type:"success",data:E}),E}catch(E){try{throw await((b=(x=U(this,Zn).config).onError)==null?void 0:b.call(x,E,e,this.state.context,this,r)),await((w=(k=this.options).onError)==null?void 0:w.call(k,E,e,this.state.context,r)),await((_=(C=U(this,Zn).config).onSettled)==null?void 0:_.call(C,void 0,E,this.state.variables,this.state.context,this,r)),await((N=(j=this.options).onSettled)==null?void 0:N.call(j,void 0,E,e,this.state.context,r)),E}finally{In(this,Cs,ro).call(this,{type:"error",error:E})}}finally{U(this,Zn).runNext(this)}}},dg=new WeakMap,ks=new WeakMap,Zn=new WeakMap,yc=new WeakMap,Cs=new WeakSet,ro=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),rr.batch(()=>{U(this,ks).forEach(r=>{r.onMutationUpdate(e)}),U(this,Zn).notify({mutation:this,type:"updated",action:e})})},kF);function Xie(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ca,qi,fg,CF,Jie=(CF=class extends Ow{constructor(e={}){super();Le(this,ca);Le(this,qi);Le(this,fg);this.config=e,ke(this,ca,new Set),ke(this,qi,new Map),ke(this,fg,0)}build(e,n,r){const i=new Qie({client:e,mutationCache:this,mutationId:++Kg(this,fg)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){U(this,ca).add(e);const n=my(e);if(typeof n=="string"){const r=U(this,qi).get(n);r?r.push(e):U(this,qi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,ca).delete(e)){const n=my(e);if(typeof n=="string"){const r=U(this,qi).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&U(this,qi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=my(e);if(typeof n=="string"){const r=U(this,qi).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=my(e);if(typeof n=="string"){const i=(r=U(this,qi).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){rr.batch(()=>{U(this,ca).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,ca).clear(),U(this,qi).clear()})}getAll(){return Array.from(U(this,ca))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>rD(n,r))}findAll(e={}){return this.getAll().filter(n=>rD(e,n))}notify(e){rr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return rr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ui))))}},ca=new WeakMap,qi=new WeakMap,fg=new WeakMap,CF);function my(t){var e;return(e=t.options.scope)==null?void 0:e.id}var _s,_F,Zie=(_F=class extends Ow{constructor(e={}){super();Le(this,_s);this.config=e,ke(this,_s,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??mO(i,n);let a=this.get(s);return a||(a=new Kie({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){U(this,_s).has(e.queryHash)||(U(this,_s).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,_s).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,_s).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){rr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,_s).get(e)}getAll(){return[...U(this,_s).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>nD(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>nD(e,r)):n}notify(e){rr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){rr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){rr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},_s=new WeakMap,_F),It,Co,_o,Pd,Ad,jo,Md,Dd,jF,ese=(jF=class{constructor(t={}){Le(this,It);Le(this,Co);Le(this,_o);Le(this,Pd);Le(this,Ad);Le(this,jo);Le(this,Md);Le(this,Dd);ke(this,It,t.queryCache||new Zie),ke(this,Co,t.mutationCache||new Jie),ke(this,_o,t.defaultOptions||{}),ke(this,Pd,new Map),ke(this,Ad,new Map),ke(this,jo,0)}mount(){Kg(this,jo)._++,U(this,jo)===1&&(ke(this,Md,Oz.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,It).onFocus())})),ke(this,Dd,M0.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,It).onOnline())})))}unmount(){var t,e;Kg(this,jo)._--,U(this,jo)===0&&((t=U(this,Md))==null||t.call(this),ke(this,Md,void 0),(e=U(this,Dd))==null||e.call(this),ke(this,Dd,void 0))}isFetching(t){return U(this,It).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,Co).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,It).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,It).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime($_(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,It).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=U(this,It).get(r.queryHash),s=i==null?void 0:i.state.data,a=Aie(e,s);if(a!==void 0)return U(this,It).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return rr.batch(()=>U(this,It).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,It).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,It);rr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,It);return rr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=rr.batch(()=>U(this,It).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Ui).catch(Ui)}invalidateQueries(t,e={}){return rr.batch(()=>(U(this,It).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=rr.batch(()=>U(this,It).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Ui)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Ui)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,It).build(this,e);return n.isStaleByTime($_(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ui).catch(Ui)}fetchInfiniteQuery(t){return t.behavior=lD(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ui).catch(Ui)}ensureInfiniteQueryData(t){return t.behavior=lD(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return M0.isOnline()?U(this,Co).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,It)}getMutationCache(){return U(this,Co)}getDefaultOptions(){return U(this,_o)}setDefaultOptions(t){ke(this,_o,t)}setQueryDefaults(t,e){U(this,Pd).set(nm(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,Pd).values()],n={};return e.forEach(r=>{rm(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,Ad).set(nm(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Ad).values()],n={};return e.forEach(r=>{rm(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,_o).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=mO(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===gO&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,_o).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,It).clear(),U(this,Co).clear()}},It=new WeakMap,Co=new WeakMap,_o=new WeakMap,Pd=new WeakMap,Ad=new WeakMap,jo=new WeakMap,Md=new WeakMap,Dd=new WeakMap,jF),tse=S.createContext(void 0),nse=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(tse.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function im(){return im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},im.apply(this,arguments)}var To;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(To||(To={}));const uD="popstate";function rse(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return F_("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:D0(i)}return sse(e,n,null,t)}function Kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yO(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ise(){return Math.random().toString(36).substr(2,8)}function dD(t,e){return{usr:t.state,key:t.key,idx:e}}function F_(t,e,n,r){return n===void 0&&(n=null),im({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ff(e):e,{state:n,key:e&&e.key||r||ise()})}function D0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ff(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function sse(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=To.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(im({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=To.Pop;let y=d(),v=y==null?null:y-c;c=y,l&&l({action:o,location:m.location,delta:v})}function h(y,v){o=To.Push;let x=F_(m.location,y,v);c=d()+1;let b=dD(x,c),k=m.createHref(x);try{a.pushState(b,"",k)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(k)}s&&l&&l({action:o,location:m.location,delta:1})}function p(y,v){o=To.Replace;let x=F_(m.location,y,v);c=d();let b=dD(x,c),k=m.createHref(x);a.replaceState(b,"",k),s&&l&&l({action:o,location:m.location,delta:0})}function g(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof y=="string"?y:D0(y);return x=x.replace(/ $/,"%20"),Kt(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let m={get action(){return o},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(uD,f),l=y,()=>{i.removeEventListener(uD,f),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(y){return a.go(y)}};return m}var fD;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(fD||(fD={}));function ase(t,e,n){return n===void 0&&(n="/"),ose(t,e,n)}function ose(t,e,n,r){let i=typeof e=="string"?Ff(e):e,s=vO(i.pathname||"/",n);if(s==null)return null;let a=Dz(t);lse(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=bse(s);o=yse(a[l],c)}return o}function Dz(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Kt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Uo([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Kt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Dz(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:mse(c,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of Rz(s.path))i(s,a,l)}),e}function Rz(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Rz(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function lse(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gse(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cse=/^:[\w-]+$/,use=3,dse=2,fse=1,hse=10,pse=-2,hD=t=>t==="*";function mse(t,e){let n=t.split("/"),r=n.length;return n.some(hD)&&(r+=pse),e&&(r+=dse),n.filter(i=>!hD(i)).reduce((i,s)=>i+(cse.test(s)?use:s===""?fse:hse),r)}function gse(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function yse(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=vse({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Uo([s,f.pathname]),pathnameBase:_se(Uo([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Uo([s,f.pathnameBase]))}return a}function vse(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xse(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=o[f]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[f];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function xse(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yO(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function bse(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yO(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vO(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const wse=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sse=t=>wse.test(t);function kse(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ff(t):t,s;if(n)if(Sse(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),yO(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=pD(n.substring(1),"/"):s=pD(n,e)}else s=e;return{pathname:s,search:jse(r),hash:Ese(i)}}function pD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function VS(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cse(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xO(t,e){let n=Cse(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bO(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ff(t):(i=im({},t),Kt(!i.pathname||!i.pathname.includes("?"),VS("?","pathname","search",i)),Kt(!i.pathname||!i.pathname.includes("#"),VS("#","pathname","hash",i)),Kt(!i.search||!i.search.includes("#"),VS("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=kse(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Uo=t=>t.join("/").replace(/\/\/+/g,"/"),_se=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jse=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ese=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Nse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Iz=["post","put","patch","delete"];new Set(Iz);const Tse=["get",...Iz];new Set(Tse);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sm.apply(this,arguments)}const wO=S.createContext(null),Ose=S.createContext(null),pl=S.createContext(null),Aw=S.createContext(null),Ks=S.createContext({outlet:null,matches:[],isDataRoute:!1}),$z=S.createContext(null);function Pse(t,e){let{relative:n}=e===void 0?{}:e;zf()||Kt(!1);let{basename:r,navigator:i}=S.useContext(pl),{hash:s,pathname:a,search:o}=Bz(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Uo([r,a])),i.createHref({pathname:l,search:o,hash:s})}function zf(){return S.useContext(Aw)!=null}function Ys(){return zf()||Kt(!1),S.useContext(Aw).location}function Lz(t){S.useContext(pl).static||S.useLayoutEffect(t)}function Gs(){let{isDataRoute:t}=S.useContext(Ks);return t?qse():Ase()}function Ase(){zf()||Kt(!1);let t=S.useContext(wO),{basename:e,future:n,navigator:r}=S.useContext(pl),{matches:i}=S.useContext(Ks),{pathname:s}=Ys(),a=JSON.stringify(xO(i,n.v7_relativeSplatPath)),o=S.useRef(!1);return Lz(()=>{o.current=!0}),S.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=bO(c,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Uo([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,s,t])}const Mse=S.createContext(null);function Dse(t){let e=S.useContext(Ks).outlet;return e&&S.createElement(Mse.Provider,{value:t},e)}function Mw(){let{matches:t}=S.useContext(Ks),e=t[t.length-1];return e?e.params:{}}function Bz(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(pl),{matches:i}=S.useContext(Ks),{pathname:s}=Ys(),a=JSON.stringify(xO(i,r.v7_relativeSplatPath));return S.useMemo(()=>bO(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function Rse(t,e){return Ise(t,e)}function Ise(t,e,n,r){zf()||Kt(!1);let{navigator:i}=S.useContext(pl),{matches:s}=S.useContext(Ks),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Ys(),d;if(e){var f;let y=typeof e=="string"?Ff(e):e;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||Kt(!1),d=y}else d=c;let h=d.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=ase(t,{pathname:p}),m=zse(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Uo([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Uo([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&m?S.createElement(Aw.Provider,{value:{location:sm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:To.Pop}},m):m}function $se(){let t=Hse(),e=Nse(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const Lse=S.createElement($se,null);class Bse extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Ks.Provider,{value:this.props.routeContext},S.createElement($z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fse(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(wO);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Ks.Provider,{value:e},r)}function zse(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Kt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,g=!1,m=null,y=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||Lse,l&&(c<0&&h===0?(Kse("route-fallback"),g=!0,y=null):c===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,h+1)),x=()=>{let b;return p?b=m:g?b=y:f.route.Component?b=S.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,S.createElement(Fse,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?S.createElement(Bse,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var Fz=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Fz||{}),zz=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zz||{});function Vse(t){let e=S.useContext(wO);return e||Kt(!1),e}function Use(t){let e=S.useContext(Ose);return e||Kt(!1),e}function Wse(t){let e=S.useContext(Ks);return e||Kt(!1),e}function Vz(t){let e=Wse(),n=e.matches[e.matches.length-1];return n.route.id||Kt(!1),n.route.id}function Hse(){var t;let e=S.useContext($z),n=Use(),r=Vz();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function qse(){let{router:t}=Vse(Fz.UseNavigateStable),e=Vz(zz.UseNavigateStable),n=S.useRef(!1);return Lz(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,sm({fromRouteId:e},s)))},[t,e])}const mD={};function Kse(t,e,n){mD[t]||(mD[t]=!0)}function Yse(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Gse(t){let{to:e,replace:n,state:r,relative:i}=t;zf()||Kt(!1);let{future:s,static:a}=S.useContext(pl),{matches:o}=S.useContext(Ks),{pathname:l}=Ys(),c=Gs(),d=bO(e,xO(o,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return S.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Qse(t){return Dse(t.context)}function qe(t){Kt(!1)}function Xse(t){let{basename:e="/",children:n=null,location:r,navigationType:i=To.Pop,navigator:s,static:a=!1,future:o}=t;zf()&&Kt(!1);let l=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:s,static:a,future:sm({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Ff(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=r,m=S.useMemo(()=>{let y=vO(d,l);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:g},navigationType:i}},[l,d,f,h,p,g,i]);return m==null?null:S.createElement(pl.Provider,{value:c},S.createElement(Aw.Provider,{children:n,value:m}))}function Jse(t){let{children:e,location:n}=t;return Rse(z_(e),n)}new Promise(()=>{});function z_(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,z_(r.props.children,s));return}r.type!==qe&&Kt(!1),!r.props.index||!r.props.children||Kt(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=z_(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function V_(){return V_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V_.apply(this,arguments)}function Zse(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function eae(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tae(t,e){return t.button===0&&(!e||e==="_self")&&!eae(t)}function U_(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function nae(t,e){let n=U_(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const rae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iae="6";try{window.__reactRouterVersion=iae}catch{}const sae="startTransition",gD=Af[sae];function aae(t){let{basename:e,children:n,future:r,window:i}=t,s=S.useRef();s.current==null&&(s.current=rse({window:i,v5Compat:!0}));let a=s.current,[o,l]=S.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},d=S.useCallback(f=>{c&&gD?gD(()=>l(f)):l(f)},[l,c]);return S.useLayoutEffect(()=>a.listen(d),[a,d]),S.useEffect(()=>Yse(r),[r]),S.createElement(Xse,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const oae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fe=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,h=Zse(e,rae),{basename:p}=S.useContext(pl),g,m=!1;if(typeof c=="string"&&lae.test(c)&&(g=c,oae))try{let b=new URL(window.location.href),k=c.startsWith("//")?new URL(b.protocol+c):new URL(c),w=vO(k.pathname,p);k.origin===b.origin&&w!=null?c=w+k.search+k.hash:m=!0}catch{}let y=Pse(c,{relative:i}),v=cae(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function x(b){r&&r(b),b.defaultPrevented||v(b)}return S.createElement("a",V_({},h,{href:g||y,onClick:m||s?r:x,ref:n,target:l}))});var yD;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(yD||(yD={}));var vD;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(vD||(vD={}));function cae(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Gs(),c=Ys(),d=Bz(t,{relative:a});return S.useCallback(f=>{if(tae(f,n)){f.preventDefault();let h=r!==void 0?r:D0(c)===D0(d);l(t,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,r,i,n,t,s,a,o])}function uae(t){let e=S.useRef(U_(t)),n=S.useRef(!1),r=Ys(),i=S.useMemo(()=>nae(r.search,n.current?null:e.current),[r.search]),s=Gs(),a=S.useCallback((o,l)=>{const c=U_(typeof o=="function"?o(i):o);n.current=!0,s("?"+c,l)},[s,i]);return[i,a]}const SO=S.createContext({});function kO(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const CO=typeof window<"u",Uz=CO?S.useLayoutEffect:S.useEffect,Dw=S.createContext(null);function _O(t,e){t.indexOf(e)===-1&&t.push(e)}function jO(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ma=(t,e,n)=>n>e?e:n<t?t:n;let EO=()=>{};const Da={},Wz=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Hz(t){return typeof t=="object"&&t!==null}const qz=t=>/^0[^.\s]+$/u.test(t);function NO(t){let e;return()=>(e===void 0&&(e=t()),e)}const bi=t=>t,dae=(t,e)=>n=>e(t(n)),Sg=(...t)=>t.reduce(dae),am=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class TO{constructor(){this.subscriptions=[]}add(e){return _O(this.subscriptions,e),()=>jO(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ls=t=>t*1e3,gi=t=>t/1e3;function Kz(t,e){return e?t*(1e3/e):0}const Yz=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,fae=1e-7,hae=12;function pae(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=Yz(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>fae&&++o<hae);return a}function kg(t,e,n,r){if(t===e&&n===r)return bi;const i=s=>pae(s,0,1,t,n);return s=>s===0||s===1?s:Yz(i(s),e,r)}const Gz=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Qz=t=>e=>1-t(1-e),Xz=kg(.33,1.53,.69,.99),OO=Qz(Xz),Jz=Gz(OO),Zz=t=>(t*=2)<1?.5*OO(t):.5*(2-Math.pow(2,-10*(t-1))),PO=t=>1-Math.sin(Math.acos(t)),e7=Qz(PO),t7=Gz(PO),mae=kg(.42,0,1,1),gae=kg(0,0,.58,1),n7=kg(.42,0,.58,1),yae=t=>Array.isArray(t)&&typeof t[0]!="number",r7=t=>Array.isArray(t)&&typeof t[0]=="number",vae={linear:bi,easeIn:mae,easeInOut:n7,easeOut:gae,circIn:PO,circInOut:t7,circOut:e7,backIn:OO,backInOut:Jz,backOut:Xz,anticipate:Zz},xae=t=>typeof t=="string",xD=t=>{if(r7(t)){EO(t.length===4);const[e,n,r,i]=t;return kg(e,n,r,i)}else if(xae(t))return vae[t];return t},gy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bae(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(c.schedule(d),t()),d(o)}const c={schedule:(d,f=!1,h=!1)=>{const g=h&&i?n:r;return f&&a.add(d),g.has(d)||g.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(d))}};return c}const wae=40;function i7(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=gy.reduce((b,k)=>(b[k]=bae(s),b),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:f,preRender:h,render:p,postRender:g}=a,m=()=>{const b=Da.useManualTiming?i.timestamp:performance.now();n=!1,Da.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,wae),1)),i.timestamp=b,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),d.process(i),f.process(i),h.process(i),p.process(i),g.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},y=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:gy.reduce((b,k)=>{const w=a[k];return b[k]=(C,_=!1,j=!1)=>(n||y(),w.schedule(C,_,j)),b},{}),cancel:b=>{for(let k=0;k<gy.length;k++)a[gy[k]].cancel(b)},state:i,steps:a}}const{schedule:_t,cancel:al,state:Nn,steps:US}=i7(typeof requestAnimationFrame<"u"?requestAnimationFrame:bi,!0);let Iv;function Sae(){Iv=void 0}const kr={now:()=>(Iv===void 0&&kr.set(Nn.isProcessing||Da.useManualTiming?Nn.timestamp:performance.now()),Iv),set:t=>{Iv=t,queueMicrotask(Sae)}},s7=t=>e=>typeof e=="string"&&e.startsWith(t),a7=s7("--"),kae=s7("var(--"),AO=t=>kae(t)?Cae.test(t.split("/*")[0].trim()):!1,Cae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},om={...Vf,transform:t=>Ma(0,1,t)},yy={...Vf,default:1},mp=t=>Math.round(t*1e5)/1e5,MO=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _ae(t){return t==null}const jae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,DO=(t,e)=>n=>!!(typeof n=="string"&&jae.test(n)&&n.startsWith(t)||e&&!_ae(n)&&Object.prototype.hasOwnProperty.call(n,e)),o7=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(MO);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Eae=t=>Ma(0,255,t),WS={...Vf,transform:t=>Math.round(Eae(t))},ec={test:DO("rgb","red"),parse:o7("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+WS.transform(t)+", "+WS.transform(e)+", "+WS.transform(n)+", "+mp(om.transform(r))+")"};function Nae(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const W_={test:DO("#"),parse:Nae,transform:ec.transform},Cg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),io=Cg("deg"),Bs=Cg("%"),be=Cg("px"),Tae=Cg("vh"),Oae=Cg("vw"),bD={...Bs,parse:t=>Bs.parse(t)/100,transform:t=>Bs.transform(t*100)},Ju={test:DO("hsl","hue"),parse:o7("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Bs.transform(mp(e))+", "+Bs.transform(mp(n))+", "+mp(om.transform(r))+")"},Zt={test:t=>ec.test(t)||W_.test(t)||Ju.test(t),parse:t=>ec.test(t)?ec.parse(t):Ju.test(t)?Ju.parse(t):W_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ec.transform(t):Ju.transform(t),getAnimatableNone:t=>{const e=Zt.parse(t);return e.alpha=0,Zt.transform(e)}},Pae=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Aae(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(MO))==null?void 0:e.length)||0)+(((n=t.match(Pae))==null?void 0:n.length)||0)>0}const l7="number",c7="color",Mae="var",Dae="var(",wD="${}",Rae=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lm(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(Rae,l=>(Zt.test(l)?(r.color.push(s),i.push(c7),n.push(Zt.parse(l))):l.startsWith(Dae)?(r.var.push(s),i.push(Mae),n.push(l)):(r.number.push(s),i.push(l7),n.push(parseFloat(l))),++s,wD)).split(wD);return{values:n,split:o,indexes:r,types:i}}function u7(t){return lm(t).values}function d7(t){const{split:e,types:n}=lm(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===l7?s+=mp(i[a]):o===c7?s+=Zt.transform(i[a]):s+=i[a]}return s}}const Iae=t=>typeof t=="number"?0:Zt.test(t)?Zt.getAnimatableNone(t):t;function $ae(t){const e=u7(t);return d7(t)(e.map(Iae))}const ol={test:Aae,parse:u7,createTransformer:d7,getAnimatableNone:$ae};function HS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Lae({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=HS(l,o,t+1/3),s=HS(l,o,t),a=HS(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function R0(t,e){return n=>n>0?e:t}const Tt=(t,e,n)=>t+(e-t)*n,qS=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Bae=[W_,ec,Ju],Fae=t=>Bae.find(e=>e.test(t));function SD(t){const e=Fae(t);if(!e)return!1;let n=e.parse(t);return e===Ju&&(n=Lae(n)),n}const kD=(t,e)=>{const n=SD(t),r=SD(e);if(!n||!r)return R0(t,e);const i={...n};return s=>(i.red=qS(n.red,r.red,s),i.green=qS(n.green,r.green,s),i.blue=qS(n.blue,r.blue,s),i.alpha=Tt(n.alpha,r.alpha,s),ec.transform(i))},H_=new Set(["none","hidden"]);function zae(t,e){return H_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Vae(t,e){return n=>Tt(t,e,n)}function RO(t){return typeof t=="number"?Vae:typeof t=="string"?AO(t)?R0:Zt.test(t)?kD:Hae:Array.isArray(t)?f7:typeof t=="object"?Zt.test(t)?kD:Uae:R0}function f7(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>RO(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function Uae(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=RO(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Wae(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],o=t.values[a]??0;n[i]=o,r[s]++}return n}const Hae=(t,e)=>{const n=ol.createTransformer(e),r=lm(t),i=lm(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?H_.has(t)&&!i.values.length||H_.has(e)&&!r.values.length?zae(t,e):Sg(f7(Wae(r,i),i.values),n):R0(t,e)};function h7(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Tt(t,e,n):RO(t)(t,e)}const qae=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>_t.update(e,n),stop:()=>al(e),now:()=>Nn.isProcessing?Nn.timestamp:kr.now()}},p7=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},I0=2e4;function IO(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<I0;)e+=n,r=t.next(e);return e>=I0?1/0:e}function Kae(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(IO(r),I0);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:gi(i)}}const Yae=5;function m7(t,e,n){const r=Math.max(e-Yae,0);return Kz(n-t(r),e-r)}const $t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},KS=.001;function Gae({duration:t=$t.duration,bounce:e=$t.bounce,velocity:n=$t.velocity,mass:r=$t.mass}){let i,s,a=1-e;a=Ma($t.minDamping,$t.maxDamping,a),t=Ma($t.minDuration,$t.maxDuration,gi(t)),a<1?(i=c=>{const d=c*a,f=d*t,h=d-n,p=q_(c,a),g=Math.exp(-f);return KS-h/p*g},s=c=>{const f=c*a*t,h=f*n+n,p=Math.pow(a,2)*Math.pow(c,2)*t,g=Math.exp(-f),m=q_(Math.pow(c,2),a);return(-i(c)+KS>0?-1:1)*((h-p)*g)/m}):(i=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-KS+d*f},s=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const o=5/t,l=Xae(i,s,o);if(t=Ls(t),isNaN(l))return{stiffness:$t.stiffness,damping:$t.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const Qae=12;function Xae(t,e,n){let r=n;for(let i=1;i<Qae;i++)r=r-t(r)/e(r);return r}function q_(t,e){return t*Math.sqrt(1-e*e)}const Jae=["duration","bounce"],Zae=["stiffness","damping","mass"];function CD(t,e){return e.some(n=>t[n]!==void 0)}function eoe(t){let e={velocity:$t.velocity,stiffness:$t.stiffness,damping:$t.damping,mass:$t.mass,isResolvedFromDuration:!1,...t};if(!CD(t,Zae)&&CD(t,Jae))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Ma(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:$t.mass,stiffness:i,damping:s}}else{const n=Gae(t);e={...e,...n,mass:$t.mass},e.isResolvedFromDuration=!0}return e}function $0(t=$t.visualDuration,e=$t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=eoe({...n,velocity:-gi(n.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*d)),y=a-s,v=gi(Math.sqrt(l/d)),x=Math.abs(y)<5;r||(r=x?$t.restSpeed.granular:$t.restSpeed.default),i||(i=x?$t.restDelta.granular:$t.restDelta.default);let b;if(m<1){const w=q_(v,m);b=C=>{const _=Math.exp(-m*v*C);return a-_*((g+m*v*y)/w*Math.sin(w*C)+y*Math.cos(w*C))}}else if(m===1)b=w=>a-Math.exp(-v*w)*(y+(g+v*y)*w);else{const w=v*Math.sqrt(m*m-1);b=C=>{const _=Math.exp(-m*v*C),j=Math.min(w*C,300);return a-_*((g+m*v*y)*Math.sinh(j)+w*y*Math.cosh(j))/w}}const k={calculatedDuration:p&&f||null,next:w=>{const C=b(w);if(p)o.done=w>=f;else{let _=w===0?g:0;m<1&&(_=w===0?Ls(g):m7(b,w,C));const j=Math.abs(_)<=r,N=Math.abs(a-C)<=i;o.done=j&&N}return o.value=o.done?a:C,o},toString:()=>{const w=Math.min(IO(k),I0),C=p7(_=>k.next(w*_).value,w,30);return w+"ms "+C},toTransition:()=>{}};return k}$0.applyToOptions=t=>{const e=Kae(t,100,$0);return t.ease=e.ease,t.duration=Ls(e.duration),t.type="keyframes",t};function K_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},p=j=>o!==void 0&&j<o||l!==void 0&&j>l,g=j=>o===void 0?l:l===void 0||Math.abs(o-j)<Math.abs(l-j)?o:l;let m=n*e;const y=f+m,v=a===void 0?y:a(y);v!==y&&(m=v-f);const x=j=>-m*Math.exp(-j/r),b=j=>v+x(j),k=j=>{const N=x(j),E=b(j);h.done=Math.abs(N)<=c,h.value=h.done?v:E};let w,C;const _=j=>{p(h.value)&&(w=j,C=$0({keyframes:[h.value,g(h.value)],velocity:m7(b,j,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return _(0),{calculatedDuration:null,next:j=>{let N=!1;return!C&&w===void 0&&(N=!0,k(j),_(j)),w!==void 0&&j>=w?C.next(j-w):(!N&&k(j),h)}}}function toe(t,e,n){const r=[],i=n||Da.mix||h7,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||bi:e;o=Sg(l,o)}r.push(o)}return r}function noe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(EO(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=toe(e,r,i),l=o.length,c=d=>{if(a&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=am(t[f],t[f+1],d);return o[f](h)};return n?d=>c(Ma(t[0],t[s-1],d)):c}function roe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=am(0,e,r);t.push(Tt(n,1,i))}}function ioe(t){const e=[0];return roe(e,t.length-1),e}function soe(t,e){return t.map(n=>n*e)}function aoe(t,e){return t.map(()=>e||n7).splice(0,t.length-1)}function gp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=yae(r)?r.map(xD):xD(r),s={done:!1,value:e[0]},a=soe(n&&n.length===e.length?n:ioe(e),t),o=noe(a,e,{ease:Array.isArray(i)?i:aoe(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const ooe=t=>t!==null;function $O(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(ooe),o=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const loe={decay:K_,inertia:K_,tween:gp,keyframes:gp,spring:$0};function g7(t){typeof t.type=="string"&&(t.type=loe[t.type])}class LO{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const coe=t=>t/100;class BO extends LO{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==kr.now()&&this.tick(kr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;g7(e);const{type:n=gp,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=n||gp;l!==gp&&typeof o[0]!="number"&&(this.mixKeyframes=Sg(coe,h7(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=IO(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:p,type:g,onUpdate:m,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,k=r;if(f){const j=Math.min(this.currentTime,i)/o;let N=Math.floor(j),E=j%1;!E&&j>=1&&(E=1),E===1&&N--,N=Math.min(N,f+1),!!(N%2)&&(h==="reverse"?(E=1-E,p&&(E-=p/o)):h==="mirror"&&(k=a)),b=Ma(0,1,E)*o}const w=x?{done:!1,value:d[0]}:k.next(b);s&&(w.value=s(w.value));let{done:C}=w;!x&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return _&&g!==K_&&(w.value=$O(d,this.options,y,this.speed)),m&&m(w.value),_&&this.finish(),w}then(e,n){return this.finished.then(e,n)}get duration(){return gi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gi(e)}get time(){return gi(this.currentTime)}set time(e){var n;e=Ls(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(kr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=gi(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=qae,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(kr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function uoe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const tc=t=>t*180/Math.PI,Y_=t=>{const e=tc(Math.atan2(t[1],t[0]));return G_(e)},doe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Y_,rotateZ:Y_,skewX:t=>tc(Math.atan(t[1])),skewY:t=>tc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},G_=t=>(t=t%360,t<0&&(t+=360),t),_D=Y_,jD=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ED=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),foe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jD,scaleY:ED,scale:t=>(jD(t)+ED(t))/2,rotateX:t=>G_(tc(Math.atan2(t[6],t[5]))),rotateY:t=>G_(tc(Math.atan2(-t[2],t[0]))),rotateZ:_D,rotate:_D,skewX:t=>tc(Math.atan(t[4])),skewY:t=>tc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Q_(t){return t.includes("scale")?1:0}function X_(t,e){if(!t||t==="none")return Q_(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=foe,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=doe,i=o}if(!i)return Q_(e);const s=r[e],a=i[1].split(",").map(poe);return typeof s=="function"?s(a):a[s]}const hoe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return X_(n,e)};function poe(t){return parseFloat(t.trim())}const Uf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wf=new Set(Uf),ND=t=>t===Vf||t===be,moe=new Set(["x","y","z"]),goe=Uf.filter(t=>!moe.has(t));function yoe(t){const e=[];return goe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const bc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>X_(e,"x"),y:(t,{transform:e})=>X_(e,"y")};bc.translateX=bc.x;bc.translateY=bc.y;const wc=new Set;let J_=!1,Z_=!1,ej=!1;function y7(){if(Z_){const t=Array.from(wc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=yoe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))==null||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Z_=!1,J_=!1,wc.forEach(t=>t.complete(ej)),wc.clear()}function v7(){wc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Z_=!0)})}function voe(){ej=!0,v7(),y7(),ej=!1}class FO{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(wc.add(this),J_||(J_=!0,_t.read(v7),_t.resolveKeyframes(y7))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}uoe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),wc.delete(this)}cancel(){this.state==="scheduled"&&(wc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const xoe=t=>t.startsWith("--");function boe(t,e,n){xoe(e)?t.style.setProperty(e,n):t.style[e]=n}const woe=NO(()=>window.ScrollTimeline!==void 0),Soe={};function koe(t,e){const n=NO(t);return()=>Soe[e]??n()}const x7=koe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,TD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qh([0,.65,.55,1]),circOut:qh([.55,0,1,.45]),backIn:qh([.31,.01,.66,-.59]),backOut:qh([.33,1.53,.69,.99])};function b7(t,e){if(t)return typeof t=="function"?x7()?p7(t,e):"ease-out":r7(t)?qh(t):Array.isArray(t)?t.map(n=>b7(n,e)||TD.easeOut):TD[t]}function Coe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const f=b7(o,i);Array.isArray(f)&&(d.easing=f);const h={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),t.animate(d,h)}function w7(t){return typeof t=="function"&&"applyToOptions"in t}function _oe({type:t,...e}){return w7(t)&&x7()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class joe extends LO{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,EO(typeof e.type!="string");const c=_oe(e);this.animation=Coe(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=$O(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):boe(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return gi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gi(e)}get time(){return gi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ls(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&woe()?(this.animation.timeline=e,bi):n(this)}}const S7={anticipate:Zz,backInOut:Jz,circInOut:t7};function Eoe(t){return t in S7}function Noe(t){typeof t.ease=="string"&&Eoe(t.ease)&&(t.ease=S7[t.ease])}const OD=10;class Toe extends joe{constructor(e){Noe(e),g7(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new BO({...a,autoplay:!1}),l=Ls(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-OD).value,o.sample(l).value,OD),o.stop()}}const PD=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ol.test(t)||t==="0")&&!t.startsWith("url("));function Ooe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Poe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=PD(i,e),o=PD(s,e);return!a||!o?!1:Ooe(t)||(n==="spring"||w7(n))&&r}function tj(t){t.duration=0,t.type="keyframes"}const Aoe=new Set(["opacity","clipPath","filter","transform"]),Moe=NO(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Doe(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return Moe()&&n&&Aoe.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const Roe=40;class Ioe extends LO{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:d,...f}){var g;super(),this.stop=()=>{var m,y;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=kr.now();const h={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:c,element:d,...f},p=(d==null?void 0:d.KeyframeResolver)||FO;this.keyframeResolver=new p(o,(m,y,v)=>this.onKeyframesResolved(m,y,h,!v),l,c,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=kr.now(),Poe(e,s,a,o)||((Da.instantAnimations||!l)&&(d==null||d($O(e,r,n))),e[0]=e[e.length-1],tj(r),r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Roe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!c&&Doe(h)?new Toe({...h,element:h.motionValue.owner.current}):new BO(h);p.finished.then(()=>this.notifyFinished()).catch(bi),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),voe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const $oe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Loe(t){const e=$oe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function k7(t,e,n=1){const[r,i]=Loe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return Wz(a)?parseFloat(a):a}return AO(i)?k7(i,e,n+1):i}function zO(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const C7=new Set(["width","height","top","left","right","bottom",...Uf]),Boe={test:t=>t==="auto",parse:t=>t},_7=t=>e=>e.test(t),j7=[Vf,be,Bs,io,Oae,Tae,Boe],AD=t=>j7.find(_7(t));function Foe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||qz(t):!0}const zoe=new Set(["brightness","contrast","saturate","opacity"]);function Voe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(MO)||[];if(!r)return t;const i=n.replace(r,"");let s=zoe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Uoe=/\b([a-z-]*)\(.*?\)/gu,nj={...ol,getAnimatableNone:t=>{const e=t.match(Uoe);return e?e.map(Voe).join(" "):t}},MD={...Vf,transform:Math.round},Woe={rotate:io,rotateX:io,rotateY:io,rotateZ:io,scale:yy,scaleX:yy,scaleY:yy,scaleZ:yy,skew:io,skewX:io,skewY:io,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:om,originX:bD,originY:bD,originZ:be},VO={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be,...Woe,zIndex:MD,fillOpacity:om,strokeOpacity:om,numOctaves:MD},Hoe={...VO,color:Zt,backgroundColor:Zt,outlineColor:Zt,fill:Zt,stroke:Zt,borderColor:Zt,borderTopColor:Zt,borderRightColor:Zt,borderBottomColor:Zt,borderLeftColor:Zt,filter:nj,WebkitFilter:nj},E7=t=>Hoe[t];function N7(t,e){let n=E7(t);return n!==nj&&(n=ol),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const qoe=new Set(["auto","none","0"]);function Koe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!qoe.has(s)&&lm(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=N7(n,i)}class Yoe extends FO{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),AO(c))){const d=k7(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!C7.has(r)||e.length!==2)return;const[i,s]=e,a=AD(i),o=AD(s);if(a!==o)if(ND(a)&&ND(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else bc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Foe(e[i]))&&r.push(i);r.length&&Koe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=bc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function T7(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const O7=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function P7(t){return Hz(t)&&"offsetHeight"in t}const DD=30,Goe=t=>!isNaN(parseFloat(t));class Qoe{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=kr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=kr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Goe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new TO);const r=this.events[e].add(n);return e==="change"?()=>{r(),_t.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=kr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>DD)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,DD);return Kz(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hd(t,e){return new Qoe(t,e)}const{schedule:UO}=i7(queueMicrotask,!1),Fi={x:!1,y:!1};function A7(){return Fi.x||Fi.y}function Xoe(t){return t==="x"||t==="y"?Fi[t]?null:(Fi[t]=!0,()=>{Fi[t]=!1}):Fi.x||Fi.y?null:(Fi.x=Fi.y=!0,()=>{Fi.x=Fi.y=!1})}function M7(t,e){const n=T7(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function RD(t){return!(t.pointerType==="touch"||A7())}function Joe(t,e,n={}){const[r,i,s]=M7(t,n),a=o=>{if(!RD(o))return;const{target:l}=o,c=e(l,o);if(typeof c!="function"||!l)return;const d=f=>{RD(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const D7=(t,e)=>e?t===e?!0:D7(t,e.parentElement):!1,WO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Zoe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ele(t){return Zoe.has(t.tagName)||t.tabIndex!==-1}const $v=new WeakSet;function ID(t){return e=>{e.key==="Enter"&&t(e)}}function YS(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tle=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=ID(()=>{if($v.has(n))return;YS(n,"down");const i=ID(()=>{YS(n,"up")}),s=()=>YS(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function $D(t){return WO(t)&&!A7()}function nle(t,e,n={}){const[r,i,s]=M7(t,n),a=o=>{const l=o.currentTarget;if(!$D(o))return;$v.add(l);const c=e(l,o),d=(p,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),$v.has(l)&&$v.delete(l),$D(p)&&typeof c=="function"&&c(p,{success:g})},f=p=>{d(p,l===window||l===document||n.useGlobalTarget||D7(l,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),P7(o)&&(o.addEventListener("focus",c=>tle(c,i)),!ele(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function R7(t){return Hz(t)&&"ownerSVGElement"in t}function rle(t){return R7(t)&&t.tagName==="svg"}const Kn=t=>!!(t&&t.getVelocity),ile=[...j7,Zt,ol],sle=t=>ile.find(_7(t)),HO=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function LD(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ale(...t){return e=>{let n=!1;const r=t.map(i=>{const s=LD(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():LD(t[i],null)}}}}function ole(...t){return S.useCallback(ale(...t),t)}class lle extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=P7(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function cle({children:t,isPresent:e,anchorX:n,root:r}){const i=S.useId(),s=S.useRef(null),a=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=S.useContext(HO),l=ole(s,t==null?void 0:t.ref);return S.useInsertionEffect(()=>{const{width:c,height:d,top:f,left:h,right:p}=a.current;if(e||!s.current||!c||!d)return;const g=n==="left"?`left: ${h}`:`right: ${p}`;s.current.dataset.motionPopId=i;const m=document.createElement("style");o&&(m.nonce=o);const y=r??document.head;return y.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${g}px !important;
            top: ${f}px !important;
          }
        `),()=>{y.contains(m)&&y.removeChild(m)}},[e]),u.jsx(lle,{isPresent:e,childRef:s,sizeRef:a,children:S.cloneElement(t,{ref:l})})}const ule=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:l})=>{const c=kO(dle),d=S.useId();let f=!0,h=S.useMemo(()=>(f=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:p=>{c.set(p,!0);for(const g of c.values())if(!g)return;r&&r()},register:p=>(c.set(p,!1),()=>c.delete(p))}),[n,c,r]);return s&&f&&(h={...h}),S.useMemo(()=>{c.forEach((p,g)=>c.set(g,!1))},[n]),S.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),a==="popLayout"&&(t=u.jsx(cle,{isPresent:n,anchorX:o,root:l,children:t})),u.jsx(Dw.Provider,{value:h,children:t})};function dle(){return new Map}function I7(t=!0){const e=S.useContext(Dw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=S.useId();S.useEffect(()=>{if(t)return i(s)},[t]);const a=S.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const vy=t=>t.key||"";function BD(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const Hf=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[c,d]=I7(a),f=S.useMemo(()=>BD(t),[t]),h=a&&!c?[]:f.map(vy),p=S.useRef(!0),g=S.useRef(f),m=kO(()=>new Map),[y,v]=S.useState(f),[x,b]=S.useState(f);Uz(()=>{p.current=!1,g.current=f;for(let C=0;C<x.length;C++){const _=vy(x[C]);h.includes(_)?m.delete(_):m.get(_)!==!0&&m.set(_,!1)}},[x,h.length,h.join("-")]);const k=[];if(f!==y){let C=[...f];for(let _=0;_<x.length;_++){const j=x[_],N=vy(j);h.includes(N)||(C.splice(_,0,j),k.push(j))}return s==="wait"&&k.length&&(C=k),b(BD(C)),v(f),null}const{forceRender:w}=S.useContext(SO);return u.jsx(u.Fragment,{children:x.map(C=>{const _=vy(C),j=a&&!c?!1:f===x||h.includes(_),N=()=>{if(m.has(_))m.set(_,!0);else return;let E=!0;m.forEach(P=>{P||(E=!1)}),E&&(w==null||w(),b(g.current),a&&(d==null||d()),r&&r())};return u.jsx(ule,{isPresent:j,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:j?void 0:N,anchorX:o,children:C},_)})})},$7=S.createContext({strict:!1}),FD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qd={};for(const t in FD)qd[t]={isEnabled:e=>FD[t].some(n=>!!e[n])};function fle(t){for(const e in t)qd[e]={...qd[e],...t[e]}}const hle=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function L0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||hle.has(t)}let L7=t=>!L0(t);function ple(t){typeof t=="function"&&(L7=e=>e.startsWith("on")?!L0(e):t(e))}try{ple(require("@emotion/is-prop-valid").default)}catch{}function mle(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(L7(i)||n===!0&&L0(i)||!e&&!L0(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Rw=S.createContext({});function Iw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function cm(t){return typeof t=="string"||Array.isArray(t)}const qO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],KO=["initial",...qO];function $w(t){return Iw(t.animate)||KO.some(e=>cm(t[e]))}function B7(t){return!!($w(t)||t.variants)}function gle(t,e){if($w(t)){const{initial:n,animate:r}=t;return{initial:n===!1||cm(n)?n:void 0,animate:cm(r)?r:void 0}}return t.inherit!==!1?e:{}}function yle(t){const{initial:e,animate:n}=gle(t,S.useContext(Rw));return S.useMemo(()=>({initial:e,animate:n}),[zD(e),zD(n)])}function zD(t){return Array.isArray(t)?t.join(" "):t}function VD(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Sh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(be.test(t))t=parseFloat(t);else return t;const n=VD(t,e.target.x),r=VD(t,e.target.y);return`${n}% ${r}%`}},vle={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ol.parse(t);if(i.length>5)return r;const s=ol.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=Tt(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}},rj={borderRadius:{...Sh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sh,borderTopRightRadius:Sh,borderBottomLeftRadius:Sh,borderBottomRightRadius:Sh,boxShadow:vle};function F7(t,{layout:e,layoutId:n}){return Wf.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rj[t]||t==="opacity")}const xle={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ble=Uf.length;function wle(t,e,n){let r="",i=!0;for(let s=0;s<ble;s++){const a=Uf[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=O7(o,VO[a]);if(!l){i=!1;const d=xle[a]||a;r+=`${d}(${c}) `}n&&(e[a]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function YO(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(Wf.has(l)){a=!0;continue}else if(a7(l)){i[l]=c;continue}else{const d=O7(c,VO[l]);l.startsWith("origin")?(o=!0,s[l]=d):r[l]=d}}if(e.transform||(a||n?r.transform=wle(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const GO=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function z7(t,e,n){for(const r in e)!Kn(e[r])&&!F7(r,n)&&(t[r]=e[r])}function Sle({transformTemplate:t},e){return S.useMemo(()=>{const n=GO();return YO(n,e,t),Object.assign({},n.vars,n.style)},[e])}function kle(t,e){const n=t.style||{},r={};return z7(r,n,t),Object.assign(r,Sle(t,e)),r}function Cle(t,e){const n={},r=kle(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const _le={offset:"stroke-dashoffset",array:"stroke-dasharray"},jle={offset:"strokeDashoffset",array:"strokeDasharray"};function Ele(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?_le:jle;t[s.offset]=be.transform(-r);const a=be.transform(e),o=be.transform(n);t[s.array]=`${a} ${o}`}function V7(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,c,d){if(YO(t,o,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h}=t;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&Ele(f,i,s,a,!1)}const U7=()=>({...GO(),attrs:{}}),W7=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Nle(t,e,n,r){const i=S.useMemo(()=>{const s=U7();return V7(s,e,W7(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};z7(s,t.style,t),i.style={...s,...i.style}}return i}const Tle=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function QO(t){return typeof t!="string"||t.includes("-")?!1:!!(Tle.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ole(t,e,n,{latestValues:r},i,s=!1){const o=(QO(t)?Nle:Cle)(e,r,i,t),l=mle(e,typeof t=="string",s),c=t!==S.Fragment?{...l,...o,ref:n}:{},{children:d}=e,f=S.useMemo(()=>Kn(d)?d.get():d,[d]);return S.createElement(t,{...c,children:f})}function UD(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function XO(t,e,n,r){if(typeof e=="function"){const[i,s]=UD(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=UD(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Lv(t){return Kn(t)?t.get():t}function Ple({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Ale(n,r,i,t),renderState:e()}}function Ale(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=Lv(s[h]);let{initial:a,animate:o}=t;const l=$w(t),c=B7(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?o:a;if(f&&typeof f!="boolean"&&!Iw(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const g=XO(t,h[p]);if(g){const{transitionEnd:m,transition:y,...v}=g;for(const x in v){let b=v[x];if(Array.isArray(b)){const k=d?b.length-1:0;b=b[k]}b!==null&&(i[x]=b)}for(const x in m)i[x]=m[x]}}}return i}const H7=t=>(e,n)=>{const r=S.useContext(Rw),i=S.useContext(Dw),s=()=>Ple(t,e,r,i);return n?s():kO(s)};function JO(t,e,n){var s;const{style:r}=t,i={};for(const a in r)(Kn(r[a])||e.style&&Kn(e.style[a])||F7(a,t)||((s=n==null?void 0:n.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=r[a]);return i}const Mle=H7({scrapeMotionValuesFromProps:JO,createRenderState:GO});function q7(t,e,n){const r=JO(t,e,n);for(const i in t)if(Kn(t[i])||Kn(e[i])){const s=Uf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const Dle=H7({scrapeMotionValuesFromProps:q7,createRenderState:U7}),Rle=Symbol.for("motionComponentSymbol");function Zu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Ile(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Zu(n)&&(n.current=r))},[e])}const ZO=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$le="framerAppearId",K7="data-"+ZO($le),Y7=S.createContext({});function Lle(t,e,n,r,i){var m,y;const{visualElement:s}=S.useContext(Rw),a=S.useContext($7),o=S.useContext(Dw),l=S.useContext(HO).reducedMotion,c=S.useRef(null);r=r||a.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,f=S.useContext(Y7);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&Ble(c.current,n,i,f);const h=S.useRef(!1);S.useInsertionEffect(()=>{d&&h.current&&d.update(n,o)});const p=n[K7],g=S.useRef(!!p&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,p))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,p)));return Uz(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),g.current&&d.animationState&&d.animationState.animateChanges())}),S.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,p)}),g.current=!1),d.enteringChildren=void 0)}),d}function Ble(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:G7(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Zu(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function G7(t){if(t)return t.options.allowProjection!==!1?t.projection:G7(t.parent)}function GS(t,{forwardMotionProps:e=!1}={},n,r){n&&fle(n);const i=QO(t)?Dle:Mle;function s(o,l){let c;const d={...S.useContext(HO),...o,layoutId:Fle(o)},{isStatic:f}=d,h=yle(o),p=i(o,f);if(!f&&CO){zle();const g=Vle(d);c=g.MeasureLayout,h.visualElement=Lle(t,p,d,r,g.ProjectionNode)}return u.jsxs(Rw.Provider,{value:h,children:[c&&h.visualElement?u.jsx(c,{visualElement:h.visualElement,...d}):null,Ole(t,o,Ile(p,h.visualElement,l),p,f,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=S.forwardRef(s);return a[Rle]=t,a}function Fle({layoutId:t}){const e=S.useContext(SO).id;return e&&t!==void 0?e+"-"+t:t}function zle(t,e){S.useContext($7).strict}function Vle(t){const{drag:e,layout:n}=qd;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Ule(t,e){if(typeof Proxy>"u")return GS;const n=new Map,r=(s,a)=>GS(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,GS(a,void 0,t,e)),n.get(a))})}function Q7({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Wle({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Hle(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function QS(t){return t===void 0||t===1}function ij({scale:t,scaleX:e,scaleY:n}){return!QS(t)||!QS(e)||!QS(n)}function Ll(t){return ij(t)||X7(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function X7(t){return WD(t.x)||WD(t.y)}function WD(t){return t&&t!=="0%"}function B0(t,e,n){const r=t-n,i=e*r;return n+i}function HD(t,e,n,r,i){return i!==void 0&&(t=B0(t,i,r)),B0(t,n,r)+e}function sj(t,e=0,n=1,r,i){t.min=HD(t.min,e,n,r,i),t.max=HD(t.max,e,n,r,i)}function J7(t,{x:e,y:n}){sj(t.x,e.translate,e.scale,e.originPoint),sj(t.y,n.translate,n.scale,n.originPoint)}const qD=.999999999999,KD=1.0000000000001;function qle(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&td(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,J7(t,a)),r&&Ll(s.latestValues)&&td(t,s.latestValues))}e.x<KD&&e.x>qD&&(e.x=1),e.y<KD&&e.y>qD&&(e.y=1)}function ed(t,e){t.min=t.min+e,t.max=t.max+e}function YD(t,e,n,r,i=.5){const s=Tt(t.min,t.max,i);sj(t,e,n,s,r)}function td(t,e){YD(t.x,e.x,e.scaleX,e.scale,e.originX),YD(t.y,e.y,e.scaleY,e.scale,e.originY)}function Z7(t,e){return Q7(Hle(t.getBoundingClientRect(),e))}function Kle(t,e,n){const r=Z7(t,n),{scroll:i}=e;return i&&(ed(r.x,i.offset.x),ed(r.y,i.offset.y)),r}const GD=()=>({translate:0,scale:1,origin:0,originPoint:0}),nd=()=>({x:GD(),y:GD()}),QD=()=>({min:0,max:0}),on=()=>({x:QD(),y:QD()}),aj={current:null},eV={current:!1};function Yle(){if(eV.current=!0,!!CO)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>aj.current=t.matches;t.addEventListener("change",e),e()}else aj.current=!1}const Gle=new WeakMap;function Qle(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Kn(i))t.addValue(r,i);else if(Kn(s))t.addValue(r,Hd(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Hd(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const XD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Xle{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=FO,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=kr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,_t.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=$w(n),this.isVariantNode=B7(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&Kn(p)&&p.set(l[h])}}mount(e){var n;this.current=e,Gle.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),eV.current||Yle(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:aj.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),al(this.notifyUpdate),al(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Wf.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&_t.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qd){const n=qd[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):on()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<XD.length;r++){const i=XD[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Qle(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Hd(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Wz(r)||qz(r))?r=parseFloat(r):!sle(r)&&ol.test(n)&&(r=N7(e,n)),this.setBaseTarget(e,Kn(r)?r.get():r)),Kn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=XO(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Kn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new TO),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){UO.render(this.render)}}class tV extends Xle{constructor(){super(...arguments),this.KeyframeResolver=Yoe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function nV(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function Jle(t){return window.getComputedStyle(t)}class Zle extends tV{constructor(){super(...arguments),this.type="html",this.renderInstance=nV}readValueFromInstance(e,n){var r;if(Wf.has(n))return(r=this.projection)!=null&&r.isProjecting?Q_(n):hoe(e,n);{const i=Jle(e),s=(a7(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Z7(e,n)}build(e,n,r){YO(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return JO(e,n,r)}}const rV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ece(t,e,n,r){nV(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(rV.has(i)?i:ZO(i),e.attrs[i])}class tce extends tV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=on}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Wf.has(n)){const r=E7(n);return r&&r.default||0}return n=rV.has(n)?n:ZO(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return q7(e,n,r)}build(e,n,r){V7(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){ece(e,n,r,i)}mount(e){this.isSVGTag=W7(e.tagName),super.mount(e)}}const nce=(t,e)=>QO(t)?new tce(e):new Zle(e,{allowProjection:t!==S.Fragment});function md(t,e,n){const r=t.getProps();return XO(r,e,n!==void 0?n:r.custom,t)}const oj=t=>Array.isArray(t);function rce(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Hd(n))}function ice(t){return oj(t)?t[t.length-1]||0:t}function sce(t,e){const n=md(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=ice(s[a]);rce(t,a,o)}}function ace(t){return!!(Kn(t)&&t.add)}function lj(t,e){const n=t.getValue("willChange");if(ace(n))return n.add(e);if(!n&&Da.WillChange){const r=new Da.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function iV(t){return t.props[K7]}const oce=t=>t!==null;function lce(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(oce),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const cce={type:"spring",stiffness:500,damping:25,restSpeed:10},uce=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dce={type:"keyframes",duration:.8},fce={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hce=(t,{keyframes:e})=>e.length>2?dce:Wf.has(t)?t.startsWith("scale")?uce(e[1]):cce:fce;function pce({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const e2=(t,e,n,r={},i,s)=>a=>{const o=zO(r,t)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ls(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};pce(o)||Object.assign(d,hce(t,d)),d.duration&&(d.duration=Ls(d.duration)),d.repeatDelay&&(d.repeatDelay=Ls(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(tj(d),d.delay===0&&(f=!0)),(Da.instantAnimations||Da.skipAnimations)&&(f=!0,tj(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,f&&!s&&e.get()!==void 0){const h=lce(d.keyframes,o);if(h!==void 0){_t.update(()=>{d.onUpdate(h),d.onComplete()});return}}return o.isSync?new BO(d):new Ioe(d)};function mce({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sV(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const d in o){const f=t.getValue(d,t.latestValues[d]??null),h=o[d];if(h===void 0||c&&mce(c,d))continue;const p={delay:n,...zO(s||{},d)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const v=iV(t);if(v){const x=window.MotionHandoffAnimation(v,d,_t);x!==null&&(p.startTime=x,m=!0)}}lj(t,d),f.start(e2(d,f,h,t.shouldReduceMotion&&C7.has(d)?{type:!1}:p,t,m));const y=f.animation;y&&l.push(y)}return a&&Promise.all(l).then(()=>{_t.update(()=>{a&&sce(t,a)})}),l}function aV(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,d)=>c.sortNodePosition(d)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:o-s*r}function cj(t,e,n={}){var l;const r=md(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(sV(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return gce(t,e,c,d,f,h,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,d]=o==="beforeChildren"?[s,a]:[a,s];return c().then(()=>d())}else return Promise.all([s(),a(n.delay)])}function gce(t,e,n=0,r=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(cj(l,e,{...a,delay:n+(typeof r=="function"?0:r)+aV(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function yce(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>cj(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=cj(t,e,n);else{const i=typeof e=="function"?md(t,e,n.custom):e;r=Promise.all(sV(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function oV(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const vce=KO.length;function lV(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?lV(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<vce;n++){const r=KO[n],i=t.props[r];(cm(i)||i===!1)&&(e[r]=i)}return e}const xce=[...qO].reverse(),bce=qO.length;function wce(t){return e=>Promise.all(e.map(({animation:n,options:r})=>yce(t,n,r)))}function Sce(t){let e=wce(t),n=JD(),r=!0;const i=l=>(c,d)=>{var h;const f=md(t,d,l==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:g,...m}=f;c={...c,...m,...g}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,d=lV(t.parent)||{},f=[],h=new Set;let p={},g=1/0;for(let y=0;y<bce;y++){const v=xce[y],x=n[v],b=c[v]!==void 0?c[v]:d[v],k=cm(b),w=v===l?x.isActive:null;w===!1&&(g=y);let C=b===d[v]&&b!==c[v]&&k;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),x.protectedKeys={...p},!x.isActive&&w===null||!b&&!x.prevProp||Iw(b)||typeof b=="boolean")continue;const _=kce(x.prevProp,b);let j=_||v===l&&x.isActive&&!C&&k||y>g&&k,N=!1;const E=Array.isArray(b)?b:[b];let P=E.reduce(i(v),{});w===!1&&(P={});const{prevResolvedValues:O={}}=x,D={...O,...P},A=I=>{j=!0,h.has(I)&&(N=!0,h.delete(I)),x.needsAnimating[I]=!0;const R=t.getValue(I);R&&(R.liveStyle=!1)};for(const I in D){const R=P[I],L=O[I];if(p.hasOwnProperty(I))continue;let B=!1;oj(R)&&oj(L)?B=!oV(R,L):B=R!==L,B?R!=null?A(I):h.add(I):R!==void 0&&h.has(I)?A(I):x.protectedKeys[I]=!0}x.prevProp=b,x.prevResolvedValues=P,x.isActive&&(p={...p,...P}),r&&t.blockInitialAnimation&&(j=!1);const M=C&&_;j&&(!M||N)&&f.push(...E.map(I=>{const R={type:v};if(typeof I=="string"&&r&&!M&&t.manuallyAnimateOnMount&&t.parent){const{parent:L}=t,B=md(L,I);if(L.enteringChildren&&B){const{delayChildren:W}=B.transition||{};R.delay=aV(L.enteringChildren,t,W)}}return{animation:I,options:R}}))}if(h.size){const y={};if(typeof c.initial!="boolean"){const v=md(t,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(y.transition=v.transition)}h.forEach(v=>{const x=t.getBaseTarget(v),b=t.getValue(v);b&&(b.liveStyle=!0),y[v]=x??null}),f.push({animation:y})}let m=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(f):Promise.resolve()}function o(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),n[l].isActive=c;const d=a(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=JD()}}}function kce(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!oV(e,t):!1}function Ol(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JD(){return{animate:Ol(!0),whileInView:Ol(),whileHover:Ol(),whileTap:Ol(),whileDrag:Ol(),whileFocus:Ol(),exit:Ol()}}class ml{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Cce extends ml{constructor(e){super(e),e.animationState||(e.animationState=Sce(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Iw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let _ce=0;class jce extends ml{constructor(){super(...arguments),this.id=_ce++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Ece={animation:{Feature:Cce},exit:{Feature:jce}};function um(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function _g(t){return{point:{x:t.pageX,y:t.pageY}}}const Nce=t=>e=>WO(e)&&t(e,_g(e));function yp(t,e,n,r){return um(t,e,Nce(n),r)}const cV=1e-4,Tce=1-cV,Oce=1+cV,uV=.01,Pce=0-uV,Ace=0+uV;function sr(t){return t.max-t.min}function Mce(t,e,n){return Math.abs(t-e)<=n}function ZD(t,e,n,r=.5){t.origin=r,t.originPoint=Tt(e.min,e.max,t.origin),t.scale=sr(n)/sr(e),t.translate=Tt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Tce&&t.scale<=Oce||isNaN(t.scale))&&(t.scale=1),(t.translate>=Pce&&t.translate<=Ace||isNaN(t.translate))&&(t.translate=0)}function vp(t,e,n,r){ZD(t.x,e.x,n.x,r?r.originX:void 0),ZD(t.y,e.y,n.y,r?r.originY:void 0)}function eR(t,e,n){t.min=n.min+e.min,t.max=t.min+sr(e)}function Dce(t,e,n){eR(t.x,e.x,n.x),eR(t.y,e.y,n.y)}function tR(t,e,n){t.min=e.min-n.min,t.max=t.min+sr(e)}function F0(t,e,n){tR(t.x,e.x,n.x),tR(t.y,e.y,n.y)}function ai(t){return[t("x"),t("y")]}const dV=({current:t})=>t?t.ownerDocument.defaultView:null,nR=(t,e)=>Math.abs(t-e);function Rce(t,e){const n=nR(t.x,e.x),r=nR(t.y,e.y);return Math.sqrt(n**2+r**2)}class fV{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=JS(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=Rce(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:m}=h,{timestamp:y}=Nn;this.history.push({...m,timestamp:y});const{onStart:v,onMove:x}=this.handlers;p||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=XS(p,this.transformPagePoint),_t.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:g,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=JS(h.type==="pointercancel"?this.lastMoveEventInfo:XS(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,v),m&&m(h,v)},!WO(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const o=_g(e),l=XS(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Nn;this.history=[{...c,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,JS(l,this.history)),this.removeListeners=Sg(yp(this.contextWindow,"pointermove",this.handlePointerMove),yp(this.contextWindow,"pointerup",this.handlePointerUp),yp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),al(this.updatePoint)}}function XS(t,e){return e?{point:e(t.point)}:t}function rR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function JS({point:t},e){return{point:t,delta:rR(t,hV(e)),offset:rR(t,Ice(e)),velocity:$ce(e,.1)}}function Ice(t){return t[0]}function hV(t){return t[t.length-1]}function $ce(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=hV(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ls(e)));)n--;if(!r)return{x:0,y:0};const s=gi(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Lce(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Tt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Tt(n,t,r.max):Math.min(t,n)),t}function iR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Bce(t,{top:e,left:n,bottom:r,right:i}){return{x:iR(t.x,n,i),y:iR(t.y,e,r)}}function sR(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Fce(t,e){return{x:sR(t.x,e.x),y:sR(t.y,e.y)}}function zce(t,e){let n=.5;const r=sr(t),i=sr(e);return i>r?n=am(e.min,e.max-r,t.min):r>i&&(n=am(t.min,t.max-i,e.min)),Ma(0,1,n)}function Vce(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const uj=.35;function Uce(t=uj){return t===!1?t=0:t===!0&&(t=uj),{x:aR(t,"left","right"),y:aR(t,"top","bottom")}}function aR(t,e,n){return{min:oR(t,e),max:oR(t,n)}}function oR(t,e){return typeof t=="number"?t:t[e]||0}const Wce=new WeakMap;class Hce{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=on(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_g(f).point)},a=(f,h)=>{const{drag:p,dragPropagation:g,onDragStart:m}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Xoe(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ai(v=>{let x=this.getAxisMotionValue(v).get()||0;if(Bs.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const k=b.layout.layoutBox[v];k&&(x=sr(k)*(parseFloat(x)/100))}}this.originPoint[v]=x}),m&&_t.postRender(()=>m(f,h)),lj(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:m,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=h;if(g&&this.currentDirection===null){this.currentDirection=qce(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),y&&y(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>ai(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new fV(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:dV(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&_t.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!xy(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Lce(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Zu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Bce(r.layoutBox,e):this.constraints=!1,this.elastic=Uce(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ai(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Vce(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Kle(r,i.root,this.visualElement.getTransformPagePoint());let a=Fce(i.layout.layoutBox,s);if(n){const o=n(Wle(a));this.hasMutatedConstraints=!!o,o&&(a=Q7(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=ai(d=>{if(!xy(d,n,this.currentDirection))return;let f=l&&l[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return lj(this.visualElement,e),r.start(e2(e,r,0,n,this.visualElement,!1))}stopAnimation(){ai(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ai(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ai(n=>{const{drag:r}=this.getProps();if(!xy(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-Tt(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ai(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=zce({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ai(a=>{if(!xy(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Tt(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;Wce.set(this.visualElement,this);const e=this.visualElement.current,n=yp(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Zu(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),_t.read(r);const a=um(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ai(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=uj,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function xy(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function qce(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Kce extends ml{constructor(e){super(e),this.removeGroupControls=bi,this.removeListeners=bi,this.controls=new Hce(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bi}unmount(){this.removeGroupControls(),this.removeListeners()}}const lR=t=>(e,n)=>{t&&_t.postRender(()=>t(e,n))};class Yce extends ml{constructor(){super(...arguments),this.removePointerDownListener=bi}onPointerDown(e){this.session=new fV(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dV(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:lR(e),onStart:lR(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&_t.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=yp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let ZS=!1;class Gce extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),ZS&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Bv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,ZS=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||_t.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),UO.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;ZS=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pV(t){const[e,n]=I7(),r=S.useContext(SO);return u.jsx(Gce,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(Y7),isPresent:e,safeToRemove:n})}function Qce(t,e,n){const r=Kn(t)?t:Hd(t);return r.start(e2("",r,e,n)),r.animation}const Xce=(t,e)=>t.depth-e.depth;class Jce{constructor(){this.children=[],this.isDirty=!1}add(e){_O(this.children,e),this.isDirty=!0}remove(e){jO(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Xce),this.isDirty=!1,this.children.forEach(e)}}function Zce(t,e){const n=kr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(al(r),t(s-e))};return _t.setup(r,!0),()=>al(r)}const mV=["TopLeft","TopRight","BottomLeft","BottomRight"],eue=mV.length,cR=t=>typeof t=="string"?parseFloat(t):t,uR=t=>typeof t=="number"||be.test(t);function tue(t,e,n,r,i,s){i?(t.opacity=Tt(0,n.opacity??1,nue(r)),t.opacityExit=Tt(e.opacity??1,0,rue(r))):s&&(t.opacity=Tt(e.opacity??1,n.opacity??1,r));for(let a=0;a<eue;a++){const o=`border${mV[a]}Radius`;let l=dR(e,o),c=dR(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||uR(l)===uR(c)?(t[o]=Math.max(Tt(cR(l),cR(c),r),0),(Bs.test(c)||Bs.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=Tt(e.rotate||0,n.rotate||0,r))}function dR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nue=gV(0,.5,e7),rue=gV(.5,.95,bi);function gV(t,e,n){return r=>r<t?0:r>e?1:n(am(t,e,r))}function fR(t,e){t.min=e.min,t.max=e.max}function $i(t,e){fR(t.x,e.x),fR(t.y,e.y)}function hR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function pR(t,e,n,r,i){return t-=e,t=B0(t,1/n,r),i!==void 0&&(t=B0(t,1/i,r)),t}function iue(t,e=0,n=1,r=.5,i,s=t,a=t){if(Bs.test(e)&&(e=parseFloat(e),e=Tt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Tt(s.min,s.max,r);t===s&&(o-=e),t.min=pR(t.min,e,n,o,i),t.max=pR(t.max,e,n,o,i)}function mR(t,e,[n,r,i],s,a){iue(t,e[n],e[r],e[i],e.scale,s,a)}const sue=["x","scaleX","originX"],aue=["y","scaleY","originY"];function gR(t,e,n,r){mR(t.x,e,sue,n?n.x:void 0,r?r.x:void 0),mR(t.y,e,aue,n?n.y:void 0,r?r.y:void 0)}function yR(t){return t.translate===0&&t.scale===1}function yV(t){return yR(t.x)&&yR(t.y)}function vR(t,e){return t.min===e.min&&t.max===e.max}function oue(t,e){return vR(t.x,e.x)&&vR(t.y,e.y)}function xR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vV(t,e){return xR(t.x,e.x)&&xR(t.y,e.y)}function bR(t){return sr(t.x)/sr(t.y)}function wR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class lue{constructor(){this.members=[]}add(e){_O(this.members,e),e.scheduleRender()}remove(e){if(jO(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cue(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:g}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const ek=["","X","Y","Z"],uue=1e3;let due=0;function tk(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function xV(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=iV(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",_t,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&xV(r)}function bV({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=due++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pue),this.nodes.forEach(vue),this.nodes.forEach(xue),this.nodes.forEach(mue)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Jce)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new TO),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=R7(a)&&!rle(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;_t.read(()=>{f=window.innerWidth}),t(a,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,d&&d(),d=Zce(h,250),Bv.hasAnimatedSinceResize&&(Bv.hasAnimatedSinceResize=!1,this.nodes.forEach(CR)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||Cue,{onLayoutAnimationStart:m,onLayoutAnimationComplete:y}=c.getProps(),v=!this.targetLayout||!vV(this.targetLayout,p),x=!f&&h;if(this.options.layoutRoot||this.resumeFrom||x||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...zO(g,"layout"),onPlay:m,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,x)}else f||CR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),al(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bue),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(SR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(kR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(yue),this.nodes.forEach(fue),this.nodes.forEach(hue)):this.nodes.forEach(kR),this.clearAllSnapshots();const o=kr.now();Nn.delta=Ma(0,1e3/60,o-Nn.timestamp),Nn.timestamp=o,Nn.isProcessing=!0,US.update.process(Nn),US.preRender.process(Nn),US.render.process(Nn),Nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,UO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gue),this.sharedNodes.forEach(wue)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sr(this.snapshot.measuredBox.x)&&!sr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=on(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!yV(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||Ll(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),_ue(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return on();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(jue))){const{scroll:d}=this.root;d&&(ed(o.x,d.offset.x),ed(o.y,d.offset.y))}return o}removeElementScroll(a){var l;const o=on();if($i(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&$i(o,a),ed(o.x,f.offset.x),ed(o.y,f.offset.y))}return o}applyTransform(a,o=!1){const l=on();$i(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&td(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ll(d.latestValues)&&td(l,d.latestValues)}return Ll(this.latestValues)&&td(l,this.latestValues),l}removeTransform(a){const o=on();$i(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ll(c.latestValues))continue;ij(c.latestValues)&&c.updateSnapshot();const d=on(),f=c.measurePageBox();$i(d,f),gR(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ll(this.latestValues)&&gR(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var p;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=Nn.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=on(),this.targetWithTransforms=on()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Dce(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$i(this.target,this.layout.layoutBox),J7(this.target,this.targetDelta)):$i(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ij(this.parent.latestValues)||X7(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),F0(this.relativeTargetOrigin,o,l),$i(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Nn.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;$i(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;qle(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=on());const{target:p}=a;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hR(this.prevProjectionDelta.x,this.projectionDelta.x),hR(this.prevProjectionDelta.y,this.projectionDelta.y)),vp(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!wR(this.projectionDelta.x,this.prevProjectionDelta.x)||!wR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nd(),this.projectionDelta=nd(),this.projectionDeltaWithTransform=nd()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=nd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=on(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,y=this.getStack(),v=!y||y.members.length<=1,x=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(kue));this.animationProgress=0;let b;this.mixTargetDelta=k=>{const w=k/1e3;_R(f.x,a.x,w),_R(f.y,a.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(F0(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Sue(this.relativeTarget,this.relativeTargetOrigin,h,w),b&&oue(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=on()),$i(b,this.relativeTarget)),m&&(this.animationValues=d,tue(d,c,this.latestValues,w,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(al(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_t.update(()=>{Bv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hd(0)),this.currentAnimation=Qce(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uue),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&wV(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||on();const f=sr(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const h=sr(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+h}$i(o,l),td(o,d),vp(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new lue),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&tk("z",a,c,this.animationValues);for(let d=0;d<ek.length;d++)tk(`rotate${ek[d]}`,a,c,this.animationValues),tk(`skew${ek[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Lv(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Lv(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ll(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=cue(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),a.transform=f;const{x:h,y:p}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in rj){if(d[g]===void 0)continue;const{correct:m,applyTo:y,isCSSVariable:v}=rj[g],x=f==="none"?d[g]:m(d[g],c);if(y){const b=y.length;for(let k=0;k<b;k++)a[y[k]]=x}else v?this.options.visualElement.renderState.vars[g]=x:a[g]=x}this.options.layoutId&&(a.pointerEvents=c===this?Lv(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(SR),this.root.sharedNodes.clear()}}}function fue(t){t.updateLayout()}function hue(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?ai(f=>{const h=a?e.measuredBox[f]:e.layoutBox[f],p=sr(h);h.min=r[f].min,h.max=h.min+p}):wV(s,e.layoutBox,r)&&ai(f=>{const h=a?e.measuredBox[f]:e.layoutBox[f],p=sr(r[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const o=nd();vp(o,r,e.layoutBox);const l=nd();a?vp(l,t.applyTransform(i,!0),e.measuredBox):vp(l,r,e.layoutBox);const c=!yV(o);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=on();F0(g,e.layoutBox,h.layoutBox);const m=on();F0(m,r,p.layoutBox),vV(g,m)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function pue(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function mue(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function gue(t){t.clearSnapshot()}function SR(t){t.clearMeasurements()}function kR(t){t.isLayoutDirty=!1}function yue(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function CR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function vue(t){t.resolveTargetDelta()}function xue(t){t.calcProjection()}function bue(t){t.resetSkewAndRotation()}function wue(t){t.removeLeadSnapshot()}function _R(t,e,n){t.translate=Tt(e.translate,0,n),t.scale=Tt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function jR(t,e,n,r){t.min=Tt(e.min,n.min,r),t.max=Tt(e.max,n.max,r)}function Sue(t,e,n,r){jR(t.x,e.x,n.x,r),jR(t.y,e.y,n.y,r)}function kue(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Cue={duration:.45,ease:[.4,0,.1,1]},ER=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),NR=ER("applewebkit/")&&!ER("chrome/")?Math.round:bi;function TR(t){t.min=NR(t.min),t.max=NR(t.max)}function _ue(t){TR(t.x),TR(t.y)}function wV(t,e,n){return t==="position"||t==="preserve-aspect"&&!Mce(bR(e),bR(n),.2)}function jue(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Eue=bV({attachResizeListener:(t,e)=>um(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nk={current:void 0},SV=bV({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!nk.current){const t=new Eue({});t.mount(window),t.setOptions({layoutScroll:!0}),nk.current=t}return nk.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Nue={pan:{Feature:Yce},drag:{Feature:Kce,ProjectionNode:SV,MeasureLayout:pV}};function OR(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&_t.postRender(()=>s(e,_g(e)))}class Tue extends ml{mount(){const{current:e}=this.node;e&&(this.unmount=Joe(e,(n,r)=>(OR(this.node,r,"Start"),i=>OR(this.node,i,"End"))))}unmount(){}}class Oue extends ml{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sg(um(this.node.current,"focus",()=>this.onFocus()),um(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function PR(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&_t.postRender(()=>s(e,_g(e)))}class Pue extends ml{mount(){const{current:e}=this.node;e&&(this.unmount=nle(e,(n,r)=>(PR(this.node,r,"Start"),(i,{success:s})=>PR(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dj=new WeakMap,rk=new WeakMap,Aue=t=>{const e=dj.get(t.target);e&&e(t)},Mue=t=>{t.forEach(Aue)};function Due({root:t,...e}){const n=t||document;rk.has(n)||rk.set(n,{});const r=rk.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Mue,{root:t,...e})),r[i]}function Rue(t,e,n){const r=Due(e);return dj.set(t,n),r.observe(t),()=>{dj.delete(t),r.unobserve(t)}}const Iue={some:0,all:1};class $ue extends ml{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Iue[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return Rue(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Lue(e,n))&&this.startObserver()}unmount(){}}function Lue({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Bue={inView:{Feature:$ue},tap:{Feature:Pue},focus:{Feature:Oue},hover:{Feature:Tue}},Fue={layout:{ProjectionNode:SV,MeasureLayout:pV}},zue={...Ece,...Bue,...Nue,...Fue},de=Ule(zue,nce),Vue={some:0,all:1};function Uue(t,e,{root:n,margin:r,amount:i="some"}={}){const s=T7(t),a=new WeakMap,o=c=>{c.forEach(d=>{const f=a.get(d.target);if(d.isIntersecting!==!!f)if(d.isIntersecting){const h=e(d.target,d);typeof h=="function"?a.set(d.target,h):l.unobserve(d.target)}else typeof f=="function"&&(f(d),a.delete(d.target))})},l=new IntersectionObserver(o,{root:n,rootMargin:r,threshold:typeof i=="number"?i:Vue[i]});return s.forEach(c=>l.observe(c)),()=>l.disconnect()}function tu(t,{root:e,margin:n,amount:r,once:i=!1,initial:s=!1}={}){const[a,o]=S.useState(s);return S.useEffect(()=>{if(!t.current||i&&a)return;const l=()=>(o(!0),i?void 0:()=>o(!1)),c={root:e&&e.current||void 0,margin:n,amount:r};return Uue(t.current,l,c)},[e,t,n,i,r]),a}const AR="/assets/logo-CgXiLAqE.png",Zr=()=>{const t=Ys(),[e,n]=S.useState(0),[r,i]=S.useState(!1),[s,a]=S.useState(!1),[o,l]=S.useState("up"),[c,d]=S.useState(!0),f=S.useRef(0);t.pathname,S.useEffect(()=>{let w=!1;const C=()=>{w||(window.requestAnimationFrame(()=>{const _=window.scrollY;n(_),_>f.current?(l("down"),_>50&&d(!1)):(l("up"),d(!0)),f.current=_,w=!1}),w=!0)};return window.addEventListener("scroll",C,{passive:!0}),()=>window.removeEventListener("scroll",C)},[]),S.useEffect(()=>{const w=()=>{i(window.innerWidth<768)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),S.useEffect(()=>{a(!1)},[t.pathname]);const h=50,p=80,g=Math.max(0,Math.min(1,(e-h)/(p-h))),m=Math.max(0,1-g),y=Math.min(1,g),v=Math.max(.3,1-g),x=Math.min(1,.5+g);if(!r)return u.jsx("header",{className:Ke("fixed top-0 left-0 right-0 z-[1000] transition-all duration-300 overflow-visible",e>p?"h-[80px] bg-[rgba(241,243,224,0.95)] backdrop-blur-[15px] shadow-lg":"h-[120px] bg-transparent"),children:u.jsxs("nav",{className:"h-full mx-auto px-8 max-w-7xl flex items-center justify-center relative",children:[u.jsxs("div",{className:"flex items-center gap-8 absolute left-8",children:[u.jsxs("a",{href:"/",className:Ke("font-medium transition-colors relative group",e>p?"text-[#778873] hover:text-[#A1BC98]":"text-white hover:text-[#A1BC98]"),children:["Home",u.jsx("span",{className:"absolute bottom-[-4px] left-0 w-0 h-[2px] bg-[#A1BC98] group-hover:w-full transition-all duration-300"})]}),u.jsxs("a",{href:"/villas",className:Ke("font-medium transition-colors relative group",e>p?"text-[#778873] hover:text-[#A1BC98]":"text-white hover:text-[#A1BC98]"),children:["Our Villas",u.jsx("span",{className:"absolute bottom-[-4px] left-0 w-0 h-[2px] bg-[#A1BC98] group-hover:w-full transition-all duration-300"})]}),u.jsxs("a",{href:"/gallery",className:Ke("font-medium transition-colors relative group",e>p?"text-[#778873] hover:text-[#A1BC98]":"text-white hover:text-[#A1BC98]"),children:["Gallery",u.jsx("span",{className:"absolute bottom-[-4px] left-0 w-0 h-[2px] bg-[#A1BC98] group-hover:w-full transition-all duration-300"})]})]}),u.jsxs("a",{href:"/",className:"flex items-center justify-center h-full cursor-pointer hover:opacity-80 transition-opacity",children:[u.jsx(de.div,{style:{opacity:m,scale:v,color:e>p?"#2d3a29":"white"},transition:{duration:.5,ease:"easeInOut"},className:"absolute",children:u.jsxs("span",{className:"text-4xl font-bold whitespace-nowrap",style:{fontFamily:"'Knewave', cursive"},children:[u.jsx("span",{children:"Stay"}),u.jsx("span",{className:"text-[#A1BC98]",children:"in"}),u.jsx("span",{children:"UBUD"})]})}),u.jsx(de.div,{style:{opacity:y,scale:x,height:e>p?"70px":"100px"},transition:{duration:.5,ease:"easeInOut"},className:"absolute flex items-center",children:u.jsx("img",{src:AR,alt:"StayinUBUD",className:"object-contain h-full"})})]}),u.jsxs("div",{className:"flex items-center gap-8 absolute right-8",children:[u.jsxs("a",{href:"/about",className:Ke("font-medium transition-colors relative group",e>p?"text-[#778873] hover:text-[#A1BC98]":"text-white hover:text-[#A1BC98]"),children:["About Us",u.jsx("span",{className:"absolute bottom-[-4px] left-0 w-0 h-[2px] bg-[#A1BC98] group-hover:w-full transition-all duration-300"})]}),u.jsxs("a",{href:"/contact",className:Ke("font-medium transition-colors relative group",e>p?"text-[#778873] hover:text-[#A1BC98]":"text-white hover:text-[#A1BC98]"),children:["Contact",u.jsx("span",{className:"absolute bottom-[-4px] left-0 w-0 h-[2px] bg-[#A1BC98] group-hover:w-full transition-all duration-300"})]}),u.jsxs("a",{href:"/blog",className:Ke("font-medium transition-colors relative group",e>p?"text-[#778873] hover:text-[#A1BC98]":"text-white hover:text-[#A1BC98]"),children:["Blog",u.jsx("span",{className:"absolute bottom-[-4px] left-0 w-0 h-[2px] bg-[#A1BC98] group-hover:w-full transition-all duration-300"})]})]})]})});const b=e>p,k=c||e<50;return u.jsxs(u.Fragment,{children:[u.jsx("header",{className:Ke("fixed z-[1000] transition-all duration-300",k?"opacity-100":"opacity-0 pointer-events-none",b&&k?"top-0 left-0 right-0 w-[90%] max-w-[480px] mx-auto h-[80px] left-1/2 -translate-x-1/2 mt-[15px] rounded-[50px] bg-[rgba(241,243,224,0.95)] backdrop-blur-[15px] shadow-lg":"top-0 left-0 right-0 w-full h-[80px] bg-transparent"),children:u.jsxs("nav",{className:"h-full px-4 flex items-center justify-between",children:[u.jsx("button",{onClick:()=>a(!s),className:"p-2 hover:bg-black/10 rounded-lg transition-colors z-[1001]","aria-label":s?"Close menu":"Open menu",children:u.jsx(de.div,{animate:{rotate:s?180:0},transition:{duration:.3},children:s?u.jsx(dn,{size:24,className:Ke("transition-colors",e>p?"text-[#778873]":"text-white")}):u.jsx(k8,{size:24,className:Ke("transition-colors",e>p?"text-[#778873]":"text-white")})})}),u.jsxs("div",{className:"flex-1 flex items-center justify-center",children:[u.jsx(de.div,{style:{opacity:m,scale:v},transition:{duration:.4,ease:"easeInOut"},className:"absolute",children:u.jsxs("span",{className:"text-2xl font-bold whitespace-nowrap",style:{fontFamily:"'Knewave', cursive"},children:[u.jsx("span",{className:"text-white",children:"Stay"}),u.jsx("span",{className:"text-[#A1BC98]",children:"in"}),u.jsx("span",{className:"text-white",children:"UBUD"})]})}),u.jsx(de.div,{style:{opacity:y,scale:x},transition:{duration:.4,ease:"easeInOut"},className:"absolute",children:u.jsx("img",{src:AR,alt:"StayinUBUD",className:"h-[70px] object-contain"})})]})]})}),u.jsx(Hf,{children:s&&u.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-[998]",onClick:()=>a(!1)})}),u.jsx(de.div,{initial:{y:"-100%",opacity:0},animate:s?{y:0,opacity:1}:{y:"-100%",opacity:0},transition:{duration:.4,ease:"easeInOut"},className:Ke("fixed left-0 right-0 mx-auto w-[90%] max-w-[480px] bg-[rgba(241,243,224,0.95)] backdrop-blur-[15px] rounded-[24px] shadow-lg z-[999] overflow-hidden transition-all duration-300",b&&k?"top-[110px]":"top-[140px]"),children:u.jsxs("nav",{className:"divide-y divide-[#F1F3E0]",children:[u.jsx("a",{href:"/",onClick:()=>a(!1),className:"flex items-center px-6 py-4 text-[#2d3a29] font-medium hover:bg-[#A1BC98]/15 transition-colors",children:u.jsx("span",{className:"text-lg",children:"Home"})}),u.jsx("a",{href:"/villas",onClick:()=>a(!1),className:"flex items-center px-6 py-4 text-[#2d3a29] font-medium hover:bg-[#A1BC98]/15 transition-colors",children:u.jsx("span",{className:"text-lg",children:"Our Villas"})}),u.jsx("a",{href:"/gallery",onClick:()=>a(!1),className:"flex items-center px-6 py-4 text-[#2d3a29] font-medium hover:bg-[#A1BC98]/15 transition-colors",children:u.jsx("span",{className:"text-lg",children:"Gallery"})}),u.jsx("a",{href:"/about",onClick:()=>a(!1),className:"flex items-center px-6 py-4 text-[#2d3a29] font-medium hover:bg-[#A1BC98]/15 transition-colors",children:u.jsx("span",{className:"text-lg",children:"About Us"})}),u.jsx("a",{href:"/blog",onClick:()=>a(!1),className:"flex items-center px-6 py-4 text-[#2d3a29] font-medium hover:bg-[#A1BC98]/15 transition-colors",children:u.jsx("span",{className:"text-lg",children:"Blog"})})]})})]})},kV=6048e5,Wue=864e5,Lw=6e4,Bw=36e5,Hue=1e3,MR=Symbol.for("constructDateFrom");function et(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&MR in t?t[MR](e):t instanceof Date?new t.constructor(e):new Date(e)}function he(t,e){return et(e||t,t)}function as(t,e,n){const r=he(t,n==null?void 0:n.in);return isNaN(e)?et((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function ds(t,e,n){const r=he(t,n==null?void 0:n.in);if(isNaN(e))return et(t,NaN);if(!e)return r;const i=r.getDate(),s=et(t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const a=s.getDate();return i>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function CV(t,e,n){return et(t,+he(t)+e)}function que(t,e,n){return CV(t,e*Bw)}let Kue={};function nu(){return Kue}function Ra(t,e){var o,l,c,d;const n=nu(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=he(t,e==null?void 0:e.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Kd(t,e){return Ra(t,{...e,weekStartsOn:1})}function _V(t,e){const n=he(t,e==null?void 0:e.in),r=n.getFullYear(),i=et(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Kd(i),a=et(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Kd(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function z0(t){const e=he(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function za(t,...e){const n=et.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function $c(t,e){const n=he(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Yd(t,e,n){const[r,i]=za(n==null?void 0:n.in,t,e),s=$c(r),a=$c(i),o=+s-z0(s),l=+a-z0(a);return Math.round((o-l)/Wue)}function Yue(t,e){const n=_V(t,e),r=et(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Kd(r)}function dm(t,e,n){const r=he(t,n==null?void 0:n.in);return r.setTime(r.getTime()+e*Lw),r}function t2(t,e,n){return ds(t,e*3,n)}function Gue(t,e,n){return CV(t,e*1e3)}function V0(t,e,n){return as(t,e*7,n)}function va(t,e,n){return ds(t,e*12,n)}function DR(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=et.bind(null,i));const s=he(i,r);(!n||n<s||isNaN(+s))&&(n=s)}),et(r,n||NaN)}function RR(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=et.bind(null,i));const s=he(i,r);(!n||n>s||isNaN(+s))&&(n=s)}),et(r,n||NaN)}function Que(t,e,n){const[r,i]=za(n==null?void 0:n.in,t,e);return+$c(r)==+$c(i)}function xa(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function U0(t){return!(!xa(t)&&typeof t!="number"||isNaN(+he(t)))}function W0(t,e,n){const[r,i]=za(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),a=r.getMonth()-i.getMonth();return s*12+a}function Oo(t,e){const n=he(t,e==null?void 0:e.in);return Math.trunc(n.getMonth()/3)+1}function H0(t,e,n){const[r,i]=za(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),a=Oo(r)-Oo(i);return s*4+a}function q0(t,e,n){const[r,i]=za(n==null?void 0:n.in,t,e);return r.getFullYear()-i.getFullYear()}function Xue(t,e,n){const[r,i]=za(n==null?void 0:n.in,t,e),s=IR(r,i),a=Math.abs(Yd(r,i));r.setDate(r.getDate()-s*a);const o=+(IR(r,i)===-s),l=s*(a-o);return l===0?0:l}function IR(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function jV(t,e){const n=he(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function EV(t,e){const n=he(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function fj(t,e){const n=he(t,e==null?void 0:e.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function NV(t,e){const n=he(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function TV(t,e){const n=he(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Fw(t,e){const n=he(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Jue(t,e){var o,l;const n=nu(),r=n.weekStartsOn??((l=(o=n.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??0,i=he(t,e==null?void 0:e.in),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}const Zue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ede=(t,e,n)=>{let r;const i=Zue[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ik(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const tde={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nde={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rde={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ide={date:ik({formats:tde,defaultWidth:"full"}),time:ik({formats:nde,defaultWidth:"full"}),dateTime:ik({formats:rde,defaultWidth:"full"})},sde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ade=(t,e,n,r)=>sde[t];function kh(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const ode={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ude={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hde=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},pde={ordinalNumber:hde,era:kh({values:ode,defaultWidth:"wide"}),quarter:kh({values:lde,defaultWidth:"wide",argumentCallback:t=>t-1}),month:kh({values:cde,defaultWidth:"wide"}),day:kh({values:ude,defaultWidth:"wide"}),dayPeriod:kh({values:dde,defaultWidth:"wide",formattingValues:fde,defaultFormattingWidth:"wide"})};function Ch(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?gde(o,f=>f.test(a)):mde(o,f=>f.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}function mde(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function gde(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function yde(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const vde=/^(\d+)(th|st|nd|rd)?/i,xde=/\d+/i,bde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wde={any:[/^b/i,/^(a|c)/i]},Sde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kde={any:[/1/i,/2/i,/3/i,/4/i]},Cde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_de={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ede={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ode={ordinalNumber:yde({matchPattern:vde,parsePattern:xde,valueCallback:t=>parseInt(t,10)}),era:Ch({matchPatterns:bde,defaultMatchWidth:"wide",parsePatterns:wde,defaultParseWidth:"any"}),quarter:Ch({matchPatterns:Sde,defaultMatchWidth:"wide",parsePatterns:kde,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ch({matchPatterns:Cde,defaultMatchWidth:"wide",parsePatterns:_de,defaultParseWidth:"any"}),day:Ch({matchPatterns:jde,defaultMatchWidth:"wide",parsePatterns:Ede,defaultParseWidth:"any"}),dayPeriod:Ch({matchPatterns:Nde,defaultMatchWidth:"any",parsePatterns:Tde,defaultParseWidth:"any"})},OV={code:"en-US",formatDistance:ede,formatLong:ide,formatRelative:ade,localize:pde,match:Ode,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Pde(t,e){const n=he(t,e==null?void 0:e.in);return Yd(n,Fw(n))+1}function n2(t,e){const n=he(t,e==null?void 0:e.in),r=+Kd(n)-+Yue(n);return Math.round(r/kV)+1}function r2(t,e){var d,f,h,p;const n=he(t,e==null?void 0:e.in),r=n.getFullYear(),i=nu(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=et((e==null?void 0:e.in)||t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=Ra(a,e),l=et((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Ra(l,e);return+n>=+o?r+1:+n>=+c?r:r-1}function Ade(t,e){var o,l,c,d;const n=nu(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=r2(t,e),s=et((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Ra(s,e)}function PV(t,e){const n=he(t,e==null?void 0:e.in),r=+Ra(n,e)-+Ade(n,e);return Math.round(r/kV)+1}function Xe(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const eo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Xe(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Xe(n+1,2)},d(t,e){return Xe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Xe(t.getHours()%12||12,e.length)},H(t,e){return Xe(t.getHours(),e.length)},m(t,e){return Xe(t.getMinutes(),e.length)},s(t,e){return Xe(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Xe(i,e.length)}},pu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$R={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return eo.y(t,e)},Y:function(t,e,n,r){const i=r2(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Xe(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Xe(s,e.length)},R:function(t,e){const n=_V(t);return Xe(n,e.length)},u:function(t,e){const n=t.getFullYear();return Xe(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Xe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Xe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return eo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Xe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=PV(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Xe(i,e.length)},I:function(t,e,n){const r=n2(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Xe(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):eo.d(t,e)},D:function(t,e,n){const r=Pde(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Xe(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Xe(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Xe(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Xe(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=pu.noon:r===0?i=pu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=pu.evening:r>=12?i=pu.afternoon:r>=4?i=pu.morning:i=pu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return eo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):eo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Xe(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Xe(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):eo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):eo.s(t,e)},S:function(t,e){return eo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return BR(r);case"XXXX":case"XX":return Bl(r);case"XXXXX":case"XXX":default:return Bl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return BR(r);case"xxxx":case"xx":return Bl(r);case"xxxxx":case"xxx":default:return Bl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+LR(r,":");case"OOOO":default:return"GMT"+Bl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+LR(r,":");case"zzzz":default:return"GMT"+Bl(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Xe(r,e.length)},T:function(t,e,n){return Xe(+t,e.length)}};function LR(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Xe(s,2)}function BR(t,e){return t%60===0?(t>0?"-":"+")+Xe(Math.abs(t)/60,2):Bl(t,e)}function Bl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Xe(Math.trunc(r/60),2),s=Xe(r%60,2);return n+i+e+s}const FR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},AV=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Mde=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return FR(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",FR(r,e)).replace("{{time}}",AV(i,e))},hj={p:AV,P:Mde},Dde=/^D+$/,Rde=/^Y+$/,Ide=["D","DD","YY","YYYY"];function $de(t){return Dde.test(t)}function Lde(t){return Rde.test(t)}function Bde(t,e,n){const r=Fde(t,e,n);if(console.warn(r),Ide.includes(t))throw new RangeError(r)}function Fde(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ude=/^'([^]*?)'?$/,Wde=/''/g,Hde=/[a-zA-Z]/;function zR(t,e,n){var d,f,h,p,g,m,y,v;const r=nu(),i=(n==null?void 0:n.locale)??r.locale??OV,s=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((m=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((v=(y=r.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,o=he(t,n==null?void 0:n.in);if(!U0(o))throw new RangeError("Invalid time value");let l=e.match(Vde).map(x=>{const b=x[0];if(b==="p"||b==="P"){const k=hj[b];return k(x,i.formatLong)}return x}).join("").match(zde).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:qde(x)};if($R[b])return{isToken:!0,value:x};if(b.match(Hde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Lde(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&$de(b))&&Bde(b,e,String(t));const k=$R[b[0]];return k(o,b,i.localize,c)}).join("")}function qde(t){const e=t.match(Ude);return e?e[1].replace(Wde,"'"):t}function VR(t,e){return he(t,e==null?void 0:e.in).getDate()}function Kde(t,e){return he(t,e==null?void 0:e.in).getDay()}function Yde(t,e){const n=he(t,e==null?void 0:e.in),r=n.getFullYear(),i=n.getMonth(),s=et(n,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function Gde(){return Object.assign({},nu())}function zn(t,e){return he(t,e==null?void 0:e.in).getHours()}function Qde(t,e){const n=he(t,e==null?void 0:e.in).getDay();return n===0?7:n}function Vn(t,e){return he(t,e==null?void 0:e.in).getMinutes()}function br(t,e){return he(t,e==null?void 0:e.in).getMonth()}function Wo(t){return he(t).getSeconds()}function pj(t){return+he(t)}function De(t,e){return he(t,e==null?void 0:e.in).getFullYear()}function ba(t,e){return+he(t)>+he(e)}function As(t,e){return+he(t)<+he(e)}function Xde(t,e){return+he(t)==+he(e)}function Jde(t,e){const n=Zde(e)?new e(0):et(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function Zde(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const efe=10;class MV{constructor(){ae(this,"subPriority",0)}validate(e,n){return!0}}class tfe extends MV{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class nfe extends MV{constructor(n,r){super();ae(this,"priority",efe);ae(this,"subPriority",-1);this.context=n||(i=>et(r,i))}set(n,r){return r.timestampIsSet?n:et(n,Jde(n,this.context))}}class Ye{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new tfe(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class rfe extends Ye{constructor(){super(...arguments);ae(this,"priority",140);ae(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Wt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ts={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ht(t,e){return t&&{value:e(t.value),rest:t.rest}}function Ot(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Os(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(i*Bw+s*Lw+a*Hue),rest:e.slice(n[0].length)}}function DV(t){return Ot(Wt.anyDigitsSigned,t)}function zt(t,e){switch(t){case 1:return Ot(Wt.singleDigit,e);case 2:return Ot(Wt.twoDigits,e);case 3:return Ot(Wt.threeDigits,e);case 4:return Ot(Wt.fourDigits,e);default:return Ot(new RegExp("^\\d{1,"+t+"}"),e)}}function K0(t,e){switch(t){case 1:return Ot(Wt.singleDigitSigned,e);case 2:return Ot(Wt.twoDigitsSigned,e);case 3:return Ot(Wt.threeDigitsSigned,e);case 4:return Ot(Wt.fourDigitsSigned,e);default:return Ot(new RegExp("^-?\\d{1,"+t+"}"),e)}}function i2(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function RV(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,a=Math.trunc(s/100)*100,o=t>=s%100;i=t+a-(o?100:0)}return n?i:1-i}function IV(t){return t%400===0||t%4===0&&t%100!==0}class ife extends Ye{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=a=>({year:a,isTwoDigitYear:r==="yy"});switch(r){case"y":return Ht(zt(4,n),s);case"yo":return Ht(i.ordinalNumber(n,{unit:"year"}),s);default:return Ht(zt(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const o=RV(i.year,s);return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class sfe extends Ye{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=a=>({year:a,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Ht(zt(4,n),s);case"Yo":return Ht(i.ordinalNumber(n,{unit:"year"}),s);default:return Ht(zt(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const a=r2(n,s);if(i.isTwoDigitYear){const l=RV(i.year,a);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Ra(n,s)}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Ra(n,s)}}class afe extends Ye{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return K0(r==="R"?4:r.length,n)}set(n,r,i){const s=et(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),Kd(s)}}class ofe extends Ye{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return K0(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class lfe extends Ye{constructor(){super(...arguments);ae(this,"priority",120);ae(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return zt(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class cfe extends Ye{constructor(){super(...arguments);ae(this,"priority",120);ae(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return zt(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class ufe extends Ye{constructor(){super(...arguments);ae(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ae(this,"priority",110)}parse(n,r,i){const s=a=>a-1;switch(r){case"M":return Ht(Ot(Wt.month,n),s);case"MM":return Ht(zt(2,n),s);case"Mo":return Ht(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class dfe extends Ye{constructor(){super(...arguments);ae(this,"priority",110);ae(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=a=>a-1;switch(r){case"L":return Ht(Ot(Wt.month,n),s);case"LL":return Ht(zt(2,n),s);case"Lo":return Ht(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function ffe(t,e,n){const r=he(t,n==null?void 0:n.in),i=PV(r,n)-e;return r.setDate(r.getDate()-i*7),he(r,n==null?void 0:n.in)}class hfe extends Ye{constructor(){super(...arguments);ae(this,"priority",100);ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Ot(Wt.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return zt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return Ra(ffe(n,i,s),s)}}function pfe(t,e,n){const r=he(t,n==null?void 0:n.in),i=n2(r,n)-e;return r.setDate(r.getDate()-i*7),r}class mfe extends Ye{constructor(){super(...arguments);ae(this,"priority",100);ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Ot(Wt.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return zt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return Kd(pfe(n,i))}}const gfe=[31,28,31,30,31,30,31,31,30,31,30,31],yfe=[31,29,31,30,31,30,31,31,30,31,30,31];class vfe extends Ye{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"subPriority",1);ae(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Ot(Wt.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return zt(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=IV(i),a=n.getMonth();return s?r>=1&&r<=yfe[a]:r>=1&&r<=gfe[a]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class xfe extends Ye{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"subpriority",1);ae(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Ot(Wt.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return zt(r.length,n)}}validate(n,r){const i=n.getFullYear();return IV(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function s2(t,e,n){var f,h,p,g;const r=nu(),i=(n==null?void 0:n.weekStartsOn)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,s=he(t,n==null?void 0:n.in),a=s.getDay(),l=(e%7+7)%7,c=7-i,d=e<0||e>6?e-(a+c)%7:(l+c)%7-(a+c)%7;return as(s,d,n)}class bfe extends Ye{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=s2(n,i,s),n.setHours(0,0,0,0),n}}class wfe extends Ye{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const a=o=>{const l=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Ht(zt(r.length,n),a);case"eo":return Ht(i.ordinalNumber(n,{unit:"day"}),a);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=s2(n,i,s),n.setHours(0,0,0,0),n}}class Sfe extends Ye{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const a=o=>{const l=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Ht(zt(r.length,n),a);case"co":return Ht(i.ordinalNumber(n,{unit:"day"}),a);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=s2(n,i,s),n.setHours(0,0,0,0),n}}function kfe(t,e,n){const r=he(t,n==null?void 0:n.in),i=Qde(r,n),s=e-i;return as(r,s,n)}class Cfe extends Ye{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=a=>a===0?7:a;switch(r){case"i":case"ii":return zt(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Ht(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return Ht(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Ht(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Ht(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=kfe(n,i),n.setHours(0,0,0,0),n}}class _fe extends Ye{constructor(){super(...arguments);ae(this,"priority",80);ae(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(i2(i),0,0,0),n}}class jfe extends Ye{constructor(){super(...arguments);ae(this,"priority",80);ae(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(i2(i),0,0,0),n}}class Efe extends Ye{constructor(){super(...arguments);ae(this,"priority",80);ae(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(i2(i),0,0,0),n}}class Nfe extends Ye{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Ot(Wt.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return zt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class Tfe extends Ye{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Ot(Wt.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return zt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class Ofe extends Ye{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Ot(Wt.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return zt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class Pfe extends Ye{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Ot(Wt.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return zt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class Afe extends Ye{constructor(){super(...arguments);ae(this,"priority",60);ae(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Ot(Wt.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return zt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class Mfe extends Ye{constructor(){super(...arguments);ae(this,"priority",50);ae(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Ot(Wt.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return zt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class Dfe extends Ye{constructor(){super(...arguments);ae(this,"priority",30);ae(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return Ht(zt(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class Rfe extends Ye{constructor(){super(...arguments);ae(this,"priority",10);ae(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Os(Ts.basicOptionalMinutes,n);case"XX":return Os(Ts.basic,n);case"XXXX":return Os(Ts.basicOptionalSeconds,n);case"XXXXX":return Os(Ts.extendedOptionalSeconds,n);case"XXX":default:return Os(Ts.extended,n)}}set(n,r,i){return r.timestampIsSet?n:et(n,n.getTime()-z0(n)-i)}}class Ife extends Ye{constructor(){super(...arguments);ae(this,"priority",10);ae(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Os(Ts.basicOptionalMinutes,n);case"xx":return Os(Ts.basic,n);case"xxxx":return Os(Ts.basicOptionalSeconds,n);case"xxxxx":return Os(Ts.extendedOptionalSeconds,n);case"xxx":default:return Os(Ts.extended,n)}}set(n,r,i){return r.timestampIsSet?n:et(n,n.getTime()-z0(n)-i)}}class $fe extends Ye{constructor(){super(...arguments);ae(this,"priority",40);ae(this,"incompatibleTokens","*")}parse(n){return DV(n)}set(n,r,i){return[et(n,i*1e3),{timestampIsSet:!0}]}}class Lfe extends Ye{constructor(){super(...arguments);ae(this,"priority",20);ae(this,"incompatibleTokens","*")}parse(n){return DV(n)}set(n,r,i){return[et(n,i),{timestampIsSet:!0}]}}const Bfe={G:new rfe,y:new ife,Y:new sfe,R:new afe,u:new ofe,Q:new lfe,q:new cfe,M:new ufe,L:new dfe,w:new hfe,I:new mfe,d:new vfe,D:new xfe,E:new bfe,e:new wfe,c:new Sfe,i:new Cfe,a:new _fe,b:new jfe,B:new Efe,h:new Nfe,H:new Tfe,K:new Ofe,k:new Pfe,m:new Afe,s:new Mfe,S:new Dfe,X:new Rfe,x:new Ife,t:new $fe,T:new Lfe},Ffe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vfe=/^'([^]*?)'?$/,Ufe=/''/g,Wfe=/\S/,Hfe=/[a-zA-Z]/;function qfe(t,e,n,r){var y,v,x,b,k,w,C,_;const i=()=>et((r==null?void 0:r.in)||n,NaN),s=Gde(),a=(r==null?void 0:r.locale)??s.locale??OV,o=(r==null?void 0:r.firstWeekContainsDate)??((v=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((b=(x=s.locale)==null?void 0:x.options)==null?void 0:b.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((w=(k=r==null?void 0:r.locale)==null?void 0:k.options)==null?void 0:w.weekStartsOn)??s.weekStartsOn??((_=(C=s.locale)==null?void 0:C.options)==null?void 0:_.weekStartsOn)??0;if(!e)return t?i():he(n,r==null?void 0:r.in);const c={firstWeekContainsDate:o,weekStartsOn:l,locale:a},d=[new nfe(r==null?void 0:r.in,n)],f=e.match(zfe).map(j=>{const N=j[0];if(N in hj){const E=hj[N];return E(j,a.formatLong)}return j}).join("").match(Ffe),h=[];for(let j of f){const N=j[0],E=Bfe[N];if(E){const{incompatibleTokens:P}=E;if(Array.isArray(P)){const D=h.find(A=>P.includes(A.token)||A.token===N);if(D)throw new RangeError(`The format string mustn't contain \`${D.fullToken}\` and \`${j}\` at the same time`)}else if(E.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${j}\` and any other token at the same time`);h.push({token:N,fullToken:j});const O=E.run(t,j,a.match,c);if(!O)return i();d.push(O.setter),t=O.rest}else{if(N.match(Hfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(j==="''"?j="'":N==="'"&&(j=Kfe(j)),t.indexOf(j)===0)t=t.slice(j.length);else return i()}}if(t.length>0&&Wfe.test(t))return i();const p=d.map(j=>j.priority).sort((j,N)=>N-j).filter((j,N,E)=>E.indexOf(j)===N).map(j=>d.filter(N=>N.priority===j).sort((N,E)=>E.subPriority-N.subPriority)).map(j=>j[0]);let g=he(n,r==null?void 0:r.in);if(isNaN(+g))return i();const m={};for(const j of p){if(!j.validate(g,c))return i();const N=j.set(g,m,c);Array.isArray(N)?(g=N[0],Object.assign(m,N[1])):g=N}return g}function Kfe(t){return t.match(Vfe)[1].replace(Ufe,"'")}function Yfe(t,e,n){const[r,i]=za(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function Gfe(t,e,n){const[r,i]=za(n==null?void 0:n.in,t,e);return+fj(r)==+fj(i)}function Qfe(t,e,n){const[r,i]=za(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()}function fm(t,e,n){const r=+he(t,n==null?void 0:n.in),[i,s]=[+he(e.start,n==null?void 0:n.in),+he(e.end,n==null?void 0:n.in)].sort((a,o)=>a-o);return r>=i&&r<=s}function Xfe(t,e,n){return as(t,-1,n)}function Jfe(t,e){const n=()=>et(e==null?void 0:e.in,NaN),i=nhe(t);let s;if(i.date){const c=rhe(i.date,2);s=ihe(c.restDateString,c.year)}if(!s||isNaN(+s))return n();const a=+s;let o=0,l;if(i.time&&(o=she(i.time),isNaN(o)))return n();if(i.timezone){if(l=ahe(i.timezone),isNaN(l))return n()}else{const c=new Date(a+o),d=he(0,e==null?void 0:e.in);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return he(a+o+l,e==null?void 0:e.in)}const by={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Zfe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ehe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,the=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nhe(t){const e={},n=t.split(by.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],by.timeZoneDelimiter.test(e.date)&&(e.date=t.split(by.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=by.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function rhe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function ihe(t,e){if(e===null)return new Date(NaN);const n=t.match(Zfe);if(!n)return new Date(NaN);const r=!!n[4],i=_h(n[1]),s=_h(n[2])-1,a=_h(n[3]),o=_h(n[4]),l=_h(n[5])-1;if(r)return dhe(e,o,l)?ohe(e,o,l):new Date(NaN);{const c=new Date(0);return!che(e,s,a)||!uhe(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,a)),c)}}function _h(t){return t?parseInt(t):1}function she(t){const e=t.match(ehe);if(!e)return NaN;const n=sk(e[1]),r=sk(e[2]),i=sk(e[3]);return fhe(n,r,i)?n*Bw+r*Lw+i*1e3:NaN}function sk(t){return t&&parseFloat(t.replace(",","."))||0}function ahe(t){if(t==="Z")return 0;const e=t.match(the);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return hhe(r,i)?n*(r*Bw+i*Lw):NaN}function ohe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const lhe=[31,null,31,30,31,30,31,31,30,31,30,31];function $V(t){return t%400===0||t%4===0&&t%100!==0}function che(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(lhe[e]||($V(t)?29:28))}function uhe(t,e){return e>=1&&e<=($V(t)?366:365)}function dhe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function fhe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function hhe(t,e){return e>=0&&e<=59}function Ir(t,e,n){const r=he(t,n==null?void 0:n.in),i=r.getFullYear(),s=r.getDate(),a=et(t,0);a.setFullYear(i,e,15),a.setHours(0,0,0,0);const o=Yde(a);return r.setMonth(e,Math.min(s,o)),r}function Fv(t,e,n){const r=he(t,n==null?void 0:n.in);return r.setHours(e),r}function zv(t,e,n){const r=he(t,n==null?void 0:n.in);return r.setMinutes(e),r}function Pu(t,e,n){const r=he(t,n==null?void 0:n.in),i=Math.trunc(r.getMonth()/3)+1,s=e-i;return Ir(r,r.getMonth()+s*3)}function Vv(t,e,n){const r=he(t,n==null?void 0:n.in);return r.setSeconds(e),r}function ws(t,e,n){const r=he(t,n==null?void 0:n.in);return isNaN(+r)?et(t,NaN):(r.setFullYear(e),r)}function Sc(t,e,n){return ds(t,-e,n)}function LV(t,e,n){return t2(t,-1,n)}function UR(t,e,n){return V0(t,-1,n)}function Gd(t,e,n){return va(t,-e,n)}var phe=typeof document<"u",mhe=function(){},Y0=phe?S.useLayoutEffect:mhe;const ghe={...Af},yhe=ghe.useInsertionEffect,vhe=yhe||(t=>t());function xhe(t){const e=S.useRef(()=>{});return vhe(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}const bhe={...Af};let WR=!1,whe=0;const HR=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+whe++;function She(){const[t,e]=S.useState(()=>WR?HR():void 0);return Y0(()=>{t==null&&e(HR())},[]),S.useEffect(()=>{WR=!0},[]),t}const khe=bhe.useId,BV=khe||She,Che=S.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:a}},width:o=14,height:l=7,tipRadius:c=0,strokeWidth:d=0,staticOffset:f,stroke:h,d:p,style:{transform:g,...m}={},...y}=e,v=BV(),[x,b]=S.useState(!1);if(Y0(()=>{if(!i)return;Ei(i).direction==="rtl"&&b(!0)},[i]),!i)return null;const[k,w]=r.split("-"),C=k==="top"||k==="bottom";let _=f;(C&&a!=null&&a.x||!C&&a!=null&&a.y)&&(_=null);const j=d*2,N=j/2,E=o/2*(c/-8+1),P=l/2*c/4,O=!!p,D=_&&w==="end"?"bottom":"top";let A=_&&w==="end"?"right":"left";_&&x&&(A=w==="end"?"left":"right");const M=(s==null?void 0:s.x)!=null?_||s.x:"",$=(s==null?void 0:s.y)!=null?_||s.y:"",I=p||"M0,0"+(" H"+o)+(" L"+(o-E)+","+(l-P))+(" Q"+o/2+","+l+" "+E+","+(l-P))+" Z",R={top:O?"rotate(180deg)":"",left:O?"rotate(90deg)":"rotate(-90deg)",bottom:O?"":"rotate(180deg)",right:O?"rotate(-90deg)":"rotate(90deg)"}[k];return u.jsxs("svg",{...y,"aria-hidden":!0,ref:n,width:O?o:o+j,height:o,viewBox:"0 0 "+o+" "+(l>o?l:o),style:{position:"absolute",pointerEvents:"none",[A]:M,[D]:$,[k]:C||O?"100%":"calc(100% - "+j/2+"px)",transform:[R,g].filter(L=>!!L).join(" "),...m},children:[j>0&&u.jsx("path",{clipPath:"url(#"+v+")",fill:"none",stroke:h,strokeWidth:j+(p?0:1),d:I}),u.jsx("path",{stroke:j&&!p?y.fill:"none",d:I}),u.jsx("clipPath",{id:v,children:u.jsx("rect",{x:-N,y:N*(O?-1:1),width:o+j,height:o})})]})});function _he(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var r;(r=t.get(e))==null||r.delete(n)}}}const jhe=S.createContext(null),Ehe=S.createContext(null),Nhe=()=>{var t;return((t=S.useContext(jhe))==null?void 0:t.id)||null},The=()=>S.useContext(Ehe);function Ohe(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=BV(),s=S.useRef({}),[a]=S.useState(()=>_he()),o=Nhe()!=null,[l,c]=S.useState(r.reference),d=xhe((p,g,m)=>{s.current.openEvent=p?g:void 0,a.emit("openchange",{open:p,event:g,reason:m,nested:o}),n==null||n(p,g,m)}),f=S.useMemo(()=>({setPositionReference:c}),[]),h=S.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return S.useMemo(()=>({dataRef:s,open:e,onOpenChange:d,elements:h,events:a,floatingId:i,refs:f}),[e,d,h,a,i,f])}function Phe(t){t===void 0&&(t={});const{nodeId:e}=t,n=Ohe({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,a]=S.useState(null),[o,l]=S.useState(null),d=(i==null?void 0:i.domReference)||s,f=S.useRef(null),h=The();Y0(()=>{d&&(f.current=d)},[d]);const p=nz({...t,elements:{...i,...o&&{reference:o}}}),g=S.useCallback(b=>{const k=ir(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),getClientRects:()=>b.getClientRects(),contextElement:b}:b;l(k),p.refs.setReference(k)},[p.refs]),m=S.useCallback(b=>{(ir(b)||b===null)&&(f.current=b,a(b)),(ir(p.refs.reference.current)||p.refs.reference.current===null||b!==null&&!ir(b))&&p.refs.setReference(b)},[p.refs]),y=S.useMemo(()=>({...p.refs,setReference:m,setPositionReference:g,domReference:f}),[p.refs,m,g]),v=S.useMemo(()=>({...p.elements,domReference:d}),[p.elements,d]),x=S.useMemo(()=>({...p,...r,refs:y,elements:v,nodeId:e}),[p,y,v,e,r]);return Y0(()=>{r.dataRef.current.floatingContext=x;const b=h==null?void 0:h.nodesRef.current.find(k=>k.id===e);b&&(b.context=x)}),S.useMemo(()=>({...p,context:x,refs:y,elements:v}),[p,y,v,x])}/*!
  react-datepicker v9.0.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var mj=function(e,n){return mj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},mj(e,n)};function Rn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");mj(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ae=function(){return Ae=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},Ae.apply(this,arguments)};function Ms(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Ahe=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,s=t.className,a=t.children,o=t.inline,l=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return T.createElement("div",{className:s,"aria-label":l,role:o?void 0:"dialog","aria-modal":o?void 0:"true"},a)},Mhe=function(t,e){var n=S.useRef(null),r=S.useRef(t);S.useEffect(function(){r.current=t},[t]);var i=S.useCallback(function(s){var a,o=s.composed&&s.composedPath&&s.composedPath().find(function(l){return l instanceof Node})||s.target;n.current&&!n.current.contains(o)&&(e&&o instanceof HTMLElement&&o.classList.contains(e)||(a=r.current)===null||a===void 0||a.call(r,s))},[e]);return S.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},zw=function(t){var e=t.children,n=t.onClickOutside,r=t.className,i=t.containerRef,s=t.style,a=t.ignoreClass,o=Mhe(n,a);return T.createElement("div",{className:r,style:s,ref:function(l){o.current=l,i&&(i.current=l)}},e)},wy=null,qR=!1;function FV(){if(qR)return wy;qR=!0;try{wy=require("date-fns-tz")}catch{wy=null}return wy}function KR(t,e){if(!e)return t;var n=FV();return n?n.toZonedTime(t,e):t}function Js(t,e){if(!e)return t;var n=FV();return n?n.fromZonedTime(t,e):t}var te;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(te||(te={}));function zV(){var t=typeof window<"u"?window:globalThis;return t}var jg=12;function Ue(t){if(t==null)return new Date;var e=typeof t=="string"?Jfe(t):he(t);return yr(e)?e:new Date}function Pl(t,e,n,r,i){i===void 0&&(i=Ue());for(var s=Qd(n)||Qd(a2()),a=Array.isArray(e)?e:[e],o=0,l=a;o<l.length;o++){var c=l[o],d=qfe(t,c,i,{locale:s});if(yr(d)&&(!r||t===xt(d,c,n)))return d}return null}function Dhe(t,e){if(e===void 0&&(e=Ue()),!t)return null;var n=t.match(/\b(1\d{3}|2\d{3})\b/);if(!n||!n[1])return null;var r=parseInt(n[1],10),i=t.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),s=i&&i[1]?parseInt(i[1],10)-1:e.getMonth();return new Date(r,s,1)}function yr(t){return U0(t)}function xt(t,e,n){if(n==="en")return zR(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Qd(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||Qd(a2()),zR(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function mr(t,e){var n=e.dateFormat,r=e.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return t&&xt(t,i,r)||""}var VV=" - ";function Rhe(t,e,n){if(!t&&!e)return"";var r=t?mr(t,n):"",i=e?mr(e,n):"",s=n.rangeSeparator||VV;return"".concat(r).concat(s).concat(i)}function Ihe(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?mr(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=mr(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function Zs(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,s=i===void 0?0:i,a=e.second,o=a===void 0?0:a;return Fv(zv(Vv(t,o),s),r)}function $he(t){return n2(t)}function Lhe(t,e){return xt(t,"ddd",e)}function Kh(t){return $c(t)}function Ho(t,e,n){var r=Qd(e||a2());return Ra(t,{locale:r,weekStartsOn:n})}function wa(t){return NV(t)}function Yh(t){return Fw(t)}function YR(t){return fj(t)}function GR(){return $c(Ue())}function QR(t){return jV(t)}function Bhe(t){return Jue(t)}function Fhe(t){return EV(t)}function Es(t,e){return t&&e?Qfe(t,e):!t&&!e}function tr(t,e){return t&&e?Yfe(t,e):!t&&!e}function G0(t,e){return t&&e?Gfe(t,e):!t&&!e}function $e(t,e){return t&&e?Que(t,e):!t&&!e}function nc(t,e){return t&&e?Xde(t,e):!t&&!e}function Fl(t,e,n){var r,i=$c(e),s=jV(n);try{r=fm(t,{start:i,end:s})}catch{r=!1}return r}function a2(){var t=zV();return t.__localeId__}function Qd(t){if(typeof t=="string"){var e=zV();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function zhe(t,e,n){return e(xt(t,"EEEE",n))}function Vhe(t,e){return xt(t,"EEEEEE",e)}function Uhe(t,e){return xt(t,"EEE",e)}function o2(t,e){return xt(Ir(Ue(),t),"LLLL",e)}function UV(t,e){return xt(Ir(Ue(),t),"LLL",e)}function Whe(t,e){return xt(Pu(Ue(),t),"QQQ",e)}function fi(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,a=n.excludeDateIntervals,o=n.includeDates,l=n.includeDateIntervals,c=n.filterDate,d=n.disabled;return d?!0:Eg(t,{minDate:r,maxDate:i})||s&&s.some(function(f){return f instanceof Date?$e(t,f):$e(t,f.date)})||a&&a.some(function(f){var h=f.start,p=f.end;return fm(t,{start:h,end:p})})||o&&!o.some(function(f){return $e(t,f)})||l&&!l.some(function(f){var h=f.start,p=f.end;return fm(t,{start:h,end:p})})||c&&!c(Ue(t))||!1}function l2(t,e){var n=e===void 0?{}:e,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var a=s.start,o=s.end;return fm(t,{start:a,end:o})}):r&&r.some(function(s){var a;return s instanceof Date?$e(t,s):$e(t,(a=s.date)!==null&&a!==void 0?a:new Date)})||!1}function WV(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,a=n.includeDates,o=n.filterDate;return Eg(t,{minDate:r?NV(r):void 0,maxDate:i?EV(i):void 0})||(s==null?void 0:s.some(function(l){return tr(t,l instanceof Date?l:l.date)}))||a&&!a.some(function(l){return tr(t,l)})||o&&!o(Ue(t))||!1}function Sy(t,e,n,r){var i=De(t),s=br(t),a=De(e),o=br(e),l=De(r);return i===a&&i===l?s<=n&&n<=o:i<a?l===i&&s<=n||l===a&&o>=n||l<a&&l>i:!1}function Hhe(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,a=n.includeDates;return Eg(t,{minDate:r,maxDate:i})||s&&s.some(function(o){return tr(o instanceof Date?o:o.date,t)})||a&&!a.some(function(o){return tr(o,t)})||!1}function ky(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,a=n.includeDates,o=n.filterDate,l=n.disabled;return l?!0:Eg(t,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(c){return G0(t,c instanceof Date?c:c.date)}))||a&&!a.some(function(c){return G0(t,c)})||o&&!o(Ue(t))||!1}function Cy(t,e,n){if(!e||!n||!U0(e)||!U0(n))return!1;var r=De(e),i=De(n);return r<=t&&i>=t}function Uv(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,a=n.includeDates,o=n.filterDate,l=n.disabled;if(l)return!0;var c=new Date(t,0,1);return Eg(c,{minDate:r?Fw(r):void 0,maxDate:i?TV(i):void 0})||(s==null?void 0:s.some(function(d){return Es(c,d instanceof Date?d:d.date)}))||a&&!a.some(function(d){return Es(c,d)})||o&&!o(Ue(c))||!1}function _y(t,e,n,r){var i=De(t),s=Oo(t),a=De(e),o=Oo(e),l=De(r);return i===a&&i===l?s<=n&&n<=o:i<a?l===i&&s<=n||l===a&&o>=n||l<a&&l>i:!1}function Eg(t,e){var n,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(n=i&&Yd(t,i)<0||s&&Yd(t,s)>0)!==null&&n!==void 0?n:!1}function XR(t,e){return e.some(function(n){return zn(n)===zn(t)&&Vn(n)===Vn(t)&&Wo(n)===Wo(t)})}function JR(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,i=n.includeTimes,s=n.filterTime;return r&&XR(t,r)||i&&!XR(t,i)||s&&!s(t)||!1}function ZR(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Ue();i=Fv(i,zn(t)),i=zv(i,Vn(t)),i=Vv(i,Wo(t));var s=Ue();s=Fv(s,zn(n)),s=zv(s,Vn(n)),s=Vv(s,Wo(n));var a=Ue();a=Fv(a,zn(r)),a=zv(a,Vn(r)),a=Vv(a,Wo(r));var o;try{o=!fm(i,{start:s,end:a})}catch{o=!1}return o}function eI(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Sc(t,1);return r&&W0(r,s)>0||i&&i.every(function(a){return W0(a,s)>0})||!1}function tI(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=ds(t,1);return r&&W0(s,r)>0||i&&i.every(function(a){return W0(s,a)>0})||!1}function qhe(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Fw(t),a=LV(s);return r&&H0(r,a)>0||i&&i.every(function(o){return H0(o,a)>0})||!1}function Khe(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=TV(t),a=t2(s,1);return r&&H0(a,r)>0||i&&i.every(function(o){return H0(a,o)>0})||!1}function nI(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Gd(t,1);return r&&q0(r,s)>0||i&&i.every(function(a){return q0(a,s)>0})||!1}function Yhe(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.yearItemNumber,s=i===void 0?jg:i,a=Yh(Gd(t,s)),o=fa(a,s).endPeriod,l=r&&De(r);return l&&l>o||!1}function rI(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=va(t,1);return r&&q0(s,r)>0||i&&i.every(function(a){return q0(s,a)>0})||!1}function Ghe(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.yearItemNumber,s=i===void 0?jg:i,a=va(t,s),o=fa(a,s).startPeriod,l=r&&De(r);return l&&l<o||!1}function HV(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return Yd(i,e)>=0});return RR(r)}else return n?RR(n):e}function qV(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return Yd(i,e)<=0});return DR(r)}else return n?DR(n):e}function iI(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=t.length;i<s;i++){var a=t[i];if(xa(a)){var o=xt(a,"MM.dd.yyyy"),l=r.get(o)||[];l.includes(e)||(l.push(e),r.set(o,l))}else if(typeof a=="object"){var c=Object.keys(a),d=(n=c[0])!==null&&n!==void 0?n:"",f=a[d];if(typeof d=="string"&&Array.isArray(f))for(var h=0,p=f.length;h<p;h++){var g=f[h];if(g){var o=xt(g,"MM.dd.yyyy"),l=r.get(o)||[];l.includes(d)||(l.push(d),r.set(o,l))}}}}return r}function Qhe(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function Xhe(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var i=r.date,s=r.holidayName;if(xa(i)){var a=xt(i,"MM.dd.yyyy"),o=n.get(a)||{className:"",holidayNames:[]};if(!("className"in o&&o.className===e&&Qhe(o.holidayNames,[s]))){o.className=e;var l=o.holidayNames;o.holidayNames=l?Ms(Ms([],l,!0),[s],!1):[s],n.set(a,o)}}}),n}function Jhe(t,e,n,r,i){for(var s=i.length,a=[],o=0;o<s;o++){var l=t,c=i[o];c&&(l=que(l,zn(c)),l=dm(l,Vn(c)),l=Gue(l,Wo(c)));var d=dm(t,(n+1)*r);ba(l,e)&&As(l,d)&&c!=null&&a.push(c)}return a}function mu(t){return t<10?"0".concat(t):"".concat(t)}function fa(t,e){e===void 0&&(e=jg);var n=Math.ceil(De(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function Zhe(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function sI(t){var e=t.getSeconds(),n=t.getMilliseconds();return he(t.getTime()-e*1e3-n)}function KV(t,e){return sI(t).getTime()===sI(e).getTime()}function aI(t){if(!xa(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function ak(t,e){if(!xa(t)||!xa(e))throw new Error("Invalid date received");var n=aI(t),r=aI(e);return As(n,r)}function YV(t){return t.key===te.Space}var ok=function(t){Rn(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=T.createRef(),r.onTimeChange=function(i){var s,a;r.setState({time:i});var o=r.props.date,l=o instanceof Date&&!isNaN(+o),c=l?o:new Date;if(i!=null&&i.includes(":")){var d=i.split(":"),f=d[0],h=d[1];c.setHours(Number(f)),c.setMinutes(Number(h))}(a=(s=r.props).onChange)===null||a===void 0||a.call(s,c)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,a=s.date,o=s.timeString,l=s.customTimeInput;return l?S.cloneElement(l,{date:a,value:i,onChange:r.onTimeChange}):T.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var c;(c=r.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:i,onChange:function(c){r.onTimeChange(c.target.value||o)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return T.createElement("div",{className:"react-datepicker__input-time-container"},T.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),T.createElement("div",{className:"react-datepicker-time__input-container"},T.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(S.Component),epe=function(t){Rn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=S.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,s,a=r.key;a===te.Space&&(r.preventDefault(),r.key=te.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isSameDay=function(r){return $e(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return n.isSameDayOrWeek(a)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),fi(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate,disabled:n.props.disabled})},n.isExcluded=function(){return l2(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return $e(n.props.day,Ho(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&$e(r,Ho(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,s=r.highlightDates;if(!s)return!1;var a=xt(i,"MM.dd.yyyy");return s.get(a)},n.getHolidaysClass=function(){var r,i=n.props,s=i.day,a=i.holidays;if(!a)return[void 0];var o=xt(s,"MM.dd.yyyy");return a.has(o)?[(r=a.get(o))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,s=r.startDate,a=r.endDate;return!s||!a?!1:Fl(i,s,a)},n.isInSelectingRange=function(){var r,i=n.props,s=i.day,a=i.selectsStart,o=i.selectsEnd,l=i.selectsRange,c=i.selectsDisabledDaysInRange,d=i.startDate,f=i.swapRange,h=i.endDate,p=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;if(n.isAfterMonth()||n.isBeforeMonth()||!(a||o||l)||!p||!c&&n.isDisabled())return!1;if(a&&h&&(As(p,h)||nc(p,h)))return Fl(s,p,h);if(o&&d&&(ba(p,d)||nc(p,d)))return Fl(s,d,p);if(l&&d&&!h){if(nc(p,d)||ba(p,d))return Fl(s,d,p);if(f&&As(p,d))return Fl(s,p,d)}return!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,a=i.startDate,o=i.selectsStart,l=i.swapRange,c=i.selectsRange,d=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return o?$e(s,d):c&&l&&a&&d?$e(s,As(d,a)?d:a):$e(s,a)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,a=i.endDate,o=i.selectsEnd,l=i.selectsRange,c=i.swapRange,d=i.startDate,f=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return o?$e(s,f):l&&c&&d&&f?$e(s,As(f,d)?d:f):l?$e(s,f):$e(s,a)},n.isRangeStart=function(){var r=n.props,i=r.day,s=r.startDate,a=r.endDate;return!s||!a?!1:$e(s,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,s=r.startDate,a=r.endDate;return!s||!a?!1:$e(a,i)},n.isWeekend=function(){var r=Kde(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===br(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(br(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Ue())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return me("react-datepicker__day",i,"react-datepicker__day--"+Lhe(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,a=s===void 0?"Choose":s,o=r.ariaLabelPrefixWhenDisabled,l=o===void 0?"Not available":o,c=n.isDisabled()||n.isExcluded()?l:a;return"".concat(c," ").concat(xt(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,s=r.holidays,a=s===void 0?new Map:s,o=r.excludeDates,l=xt(i,"MM.dd.yyyy"),c=[];return a.has(l)&&c.push.apply(c,a.get(l).holidayNames),n.isExcluded()&&c.push(o==null?void 0:o.filter(function(d){return d instanceof Date?$e(d,i):$e(d==null?void 0:d.date,i)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),c.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&$e(i,r))?0:-1;return s},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(VR(n.props.day),n.props.day):VR(n.props.day)},n.render=function(){return T.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"gridcell",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&T.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(S.Component),tpe=function(t){Rn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=S.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,s,a=r.key;a===te.Space&&(r.preventDefault(),r.key=te.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!$e(n.props.date,n.props.selected)&&$e(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||$e(n.props.date,n.props.selected)&&$e(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&$e(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,s=n.ariaLabelPrefix,a=s===void 0?e.defaultProps.ariaLabelPrefix:s,o=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o&&!i,"react-datepicker__week-number--selected":!!o&&$e(this.props.date,this.props.selected)};return T.createElement("div",{ref:this.weekNumberEl,className:me(l),"aria-label":"".concat(a," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},r)},e}(S.Component),npe=function(t){Rn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return fi(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,s){for(var a,o,l,c=new Date(r),d=0;d<7;d++){var f=new Date(r);f.setDate(f.getDate()+d);var h=!n.isDisabled(f);if(h){c=f;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(c,i,s),n.props.showWeekPicker&&n.handleDayClick(c,s),((a=n.props.shouldCloseOnSelect)!==null&&a!==void 0?a:e.defaultProps.shouldCloseOnSelect)&&((l=(o=n.props).setOpen)===null||l===void 0||l.call(o,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):$he(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=as(r,6),s=new Date(r);s<=i;){if(!n.isDisabled(s))return!1;s=as(s,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],s=n.formatWeekNumber(r);if(n.props.showWeekNumber){var a=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,s):void 0;i.push(T.createElement(tpe,Ae({key:"W"},e.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:a})))}return i.concat([0,1,2,3,4,5,6].map(function(o){var l=as(r,o);return T.createElement(epe,Ae({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return Ho(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!$e(n.startOfWeek(),n.props.selected)&&$e(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":$e(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},r=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return T.createElement("div",{className:me(n,r),role:"row"},this.renderDays())},e}(S.Component),jh,rpe=6,gd={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},lk=(jh={},jh[gd.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},jh[gd.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},jh[gd.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},jh),jy=1;function oI(t,e){return t?gd.FOUR_COLUMNS:e?gd.TWO_COLUMNS:gd.THREE_COLUMNS}var ipe=function(t){Rn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=Ms([],Array(12),!0).map(function(){return S.createRef()}),n.QUARTER_REFS=Ms([],Array(4),!0).map(function(){return S.createRef()}),n.isDisabled=function(r){return fi(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate,disabled:n.props.disabled})},n.isExcluded=function(r){return l2(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var s,a;(a=(s=n.props).onDayClick)===null||a===void 0||a.call(s,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,s;(s=(i=n.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,s=i.day,a=i.startDate,o=i.endDate;return!a||!o?!1:tr(Ir(s,r),a)},n.isRangeStartQuarter=function(r){var i=n.props,s=i.day,a=i.startDate,o=i.endDate;return!a||!o?!1:G0(Pu(s,r),a)},n.isRangeEndMonth=function(r){var i=n.props,s=i.day,a=i.startDate,o=i.endDate;return!a||!o?!1:tr(Ir(s,r),o)},n.isRangeEndQuarter=function(r){var i=n.props,s=i.day,a=i.startDate,o=i.endDate;return!a||!o?!1:G0(Pu(s,r),o)},n.isInSelectingRangeMonth=function(r){var i,s=n.props,a=s.day,o=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.startDate,f=s.endDate,h=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(o||l||c)||!h?!1:o&&f?Sy(h,f,r,a):l&&d||c&&d&&!f?Sy(d,h,r,a):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,a=s.day,o=s.startDate,l=s.selectsStart,c=Ir(a,r),d=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l?tr(c,d):tr(c,o)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,a=s.day,o=s.endDate,l=s.selectsEnd,c=s.selectsRange,d=Ir(a,r),f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l||c?tr(d,f):tr(d,o)},n.isInSelectingRangeQuarter=function(r){var i,s=n.props,a=s.day,o=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.startDate,f=s.endDate,h=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(o||l||c)||!h?!1:o&&f?_y(h,f,r,a):l&&d||c&&d&&!f?_y(d,h,r,a):!1},n.isWeekInMonth=function(r){var i=n.props.day,s=as(r,6);return tr(r,i)||tr(s,i)},n.isCurrentMonth=function(r,i){return De(r)===De(Ue())&&i===br(Ue())},n.isCurrentQuarter=function(r,i){return De(r)===De(Ue())&&i===Oo(Ue())},n.isSelectedMonth=function(r,i,s){return br(s)===i&&De(r)===De(s)},n.isSelectMonthInList=function(r,i,s){return s.some(function(a){return n.isSelectedMonth(r,i,a)})},n.isSelectedQuarter=function(r,i,s){return Oo(s)===i&&De(r)===De(s)},n.isSelectQuarterInList=function(r,i,s){return s.some(function(a){return n.isSelectedQuarter(r,i,a)})},n.isMonthSelected=function(){var r=n.props,i=r.day,s=r.selected,a=r.selectedDates,o=r.selectsMultiple,l=br(i);return o?a==null?void 0:a.some(function(c){return n.isSelectedMonth(i,l,c)}):!!s&&n.isSelectedMonth(i,l,s)},n.isQuarterSelected=function(){var r=n.props,i=r.day,s=r.selected,a=r.selectedDates,o=r.selectsMultiple,l=Oo(i);return o?a==null?void 0:a.some(function(c){return n.isSelectedQuarter(i,l,c)}):!!s&&n.isSelectedQuarter(i,l,s)},n.renderWeeks=function(){if(!yr(n.props.day))return[];for(var r=[],i=n.props.fixedHeight,s=0,a=!1,o=Ho(wa(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(g){return n.props.showWeekPicker?Ho(g,n.props.locale,n.props.calendarStartDay):n.props.preSelection},c=function(g){return n.props.showWeekPicker?Ho(g,n.props.locale,n.props.calendarStartDay):n.props.selected},d=n.props.selected?c(n.props.selected):void 0,f=n.props.preSelection?l(n.props.preSelection):void 0;r.push(T.createElement(npe,Ae({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:o,month:br(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:d,preSelection:f,showWeekNumber:n.props.showWeekNumbers}))),!a;){s++,o=V0(o,1);var h=i&&s>=rpe,p=!i&&!n.isWeekInMonth(o);if(h||p)if(n.props.peekNextMonth)a=!0;else break}return r},n.onMonthClick=function(r,i){var s=n.isMonthDisabledForLabelDate(i),a=s.isDisabled,o=s.labelDate;a||n.handleDayClick(wa(o),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),s=i.isDisabled,a=i.labelDate;s||n.handleDayMouseEnter(wa(a))},n.handleMonthNavigation=function(r,i){var s,a,o,l;(a=(s=n.props).setPreSelection)===null||a===void 0||a.call(s,i),(l=(o=n.MONTH_REFS[r])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,i,s){var a,o=n.props,l=o.selected,c=o.preSelection,d=o.setPreSelection,f=o.minDate,h=o.maxDate,p=o.showFourColumnMonthYearPicker,g=o.showTwoColumnMonthYearPicker;if(c){var m=oI(p,g),y=n.getVerticalOffset(m),v=(a=lk[m])===null||a===void 0?void 0:a.grid,x=function(_,j,N){var E,P,O=j,D=N;switch(_){case te.ArrowRight:O=ds(j,jy),D=N===11?0:N+jy;break;case te.ArrowLeft:O=Sc(j,jy),D=N===0?11:N-jy;break;case te.ArrowUp:O=Sc(j,y),D=!((E=v==null?void 0:v[0])===null||E===void 0)&&E.includes(N)?N+12-y:N-y;break;case te.ArrowDown:O=ds(j,y),D=!((P=v==null?void 0:v[v.length-1])===null||P===void 0)&&P.includes(N)?N-12+y:N+y;break}return{newCalculatedDate:O,newCalculatedMonth:D}},b=function(_,j,N){for(var E=40,P=_,O=!1,D=0,A=x(P,j,N),M=A.newCalculatedDate,$=A.newCalculatedMonth;!O;){if(D>=E){M=j,$=N;break}if(f&&M<f){P=te.ArrowRight;var I=x(P,M,$);M=I.newCalculatedDate,$=I.newCalculatedMonth}if(h&&M>h){P=te.ArrowLeft;var I=x(P,M,$);M=I.newCalculatedDate,$=I.newCalculatedMonth}if(Hhe(M,n.props)){var I=x(P,M,$);M=I.newCalculatedDate,$=I.newCalculatedMonth}else O=!0;D++}return{newCalculatedDate:M,newCalculatedMonth:$}};if(i===te.Enter){n.isMonthDisabled(s)||(n.onMonthClick(r,s),d==null||d(l));return}var k=b(i,c,s),w=k.newCalculatedDate,C=k.newCalculatedMonth;switch(i){case te.ArrowRight:case te.ArrowLeft:case te.ArrowUp:case te.ArrowDown:n.handleMonthNavigation(C,w);break}}},n.getVerticalOffset=function(r){var i,s;return(s=(i=lk[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(r,i){var s=n.props,a=s.disabledKeyboardNavigation,o=s.handleOnMonthKeyDown,l=r.key;l!==te.Tab&&r.preventDefault(),a||n.handleKeyboardNavigation(r,l,i),o&&o(r)},n.onQuarterClick=function(r,i){var s=Pu(n.props.day,i);ky(s,n.props)||n.handleDayClick(YR(s),r)},n.onQuarterMouseEnter=function(r){var i=Pu(n.props.day,r);ky(i,n.props)||n.handleDayMouseEnter(YR(i))},n.handleQuarterNavigation=function(r,i){var s,a,o,l;n.isDisabled(i)||n.isExcluded(i)||((a=(s=n.props).setPreSelection)===null||a===void 0||a.call(s,i),(l=(o=n.QUARTER_REFS[r-1])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,i){var s,a,o=r.key;if(!n.props.disabledKeyboardNavigation)switch(o){case te.Enter:n.onQuarterClick(r,i),(a=(s=n.props).setPreSelection)===null||a===void 0||a.call(s,n.props.selected);break;case te.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,t2(n.props.preSelection,1));break;case te.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,LV(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var i,s=n.props,a=s.day,o=s.disabled,l=s.minDate,c=s.maxDate,d=s.excludeDates,f=s.includeDates,h=Ir(a,r);return o?{isDisabled:!0,labelDate:Ir(a,r)}:{isDisabled:(i=(l||c||d||f)&&WV(h,n.props))!==null&&i!==void 0?i:!1,labelDate:h}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,s=i.day,a=i.startDate,o=i.endDate,l=i.preSelection,c=i.monthClassName,d=c?c(Ir(s,r)):void 0,f=n.getSelection();return me("react-datepicker__month-text","react-datepicker__month-".concat(r),d,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":f?n.isSelectMonthInList(s,r,f):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(s,r,l)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":a&&o?Sy(a,o,r,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(s,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=br(n.props.preSelection),s=n.isMonthDisabledForLabelDate(i).isDisabled,a=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return a},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Oo(n.props.preSelection),s=ky(n.props.day,n.props),a=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return a},n.getAriaLabel=function(r){var i=n.props,s=i.chooseDayAriaLabelPrefix,a=s===void 0?"Choose":s,o=i.disabledDayAriaLabelPrefix,l=o===void 0?"Not available":o,c=i.day,d=i.locale,f=Ir(c,r),h=n.isDisabled(f)||n.isExcluded(f)?l:a;return"".concat(h," ").concat(xt(f,"MMMM yyyy",d))},n.getQuarterClassNames=function(r){var i=n.props,s=i.day,a=i.startDate,o=i.endDate,l=i.minDate,c=i.maxDate,d=i.excludeDates,f=i.includeDates,h=i.filterDate,p=i.preSelection,g=i.disabledKeyboardNavigation,m=i.disabled,y=(l||c||d||f||h||m)&&ky(Pu(s,r),n.props),v=n.getSelection();return me("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":v?n.isSelectQuarterInList(s,r,v):void 0,"react-datepicker__quarter-text--keyboard-selected":!g&&p&&n.isSelectedQuarter(s,r,p)&&!n.isQuarterSelected()&&!y,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":a&&o?_y(a,o,r,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(s,r)})},n.getMonthContent=function(r){var i=n.props,s=i.showFullMonthYearPicker,a=i.renderMonthContent,o=i.locale,l=i.day,c=UV(r,o),d=o2(r,o);return a?a(r,c,d,l):s?d:c},n.getQuarterContent=function(r){var i,s=n.props,a=s.renderQuarterContent,o=s.locale,l=Whe(r,o);return(i=a==null?void 0:a(r,l))!==null&&i!==void 0?i:l},n.renderMonths=function(){var r,i=n.props,s=i.showTwoColumnMonthYearPicker,a=i.showFourColumnMonthYearPicker,o=i.day,l=i.selected,c=(r=lk[oI(a,s)])===null||r===void 0?void 0:r.grid;return c==null?void 0:c.map(function(d,f){return T.createElement("div",{className:"react-datepicker__month-wrapper",key:f},d.map(function(h,p){return T.createElement("div",{ref:n.MONTH_REFS[h],key:p,onClick:function(g){n.onMonthClick(g,h)},onKeyDown:function(g){YV(g)&&(g.preventDefault(),g.key=te.Enter),n.onMonthKeyDown(g,h)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(h)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(h)}:void 0,tabIndex:Number(n.getTabIndex(h)),className:n.getMonthClassNames(h),"aria-disabled":n.isMonthDisabled(h),role:"option","aria-label":n.getAriaLabel(h),"aria-current":n.isCurrentMonth(o,h)?"date":void 0,"aria-selected":l?n.isSelectedMonth(o,h,l):void 0},n.getMonthContent(h))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,s=r.selected,a=[1,2,3,4];return T.createElement("div",{className:"react-datepicker__quarter-wrapper"},a.map(function(o,l){return T.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(c){n.onQuarterClick(c,o)},onKeyDown:function(c){n.onQuarterKeyDown(c,o)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(o)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(o)}:void 0,className:n.getQuarterClassNames(o),"aria-selected":s?n.isSelectedQuarter(i,o,s):void 0,tabIndex:Number(n.getQuarterTabIndex(o)),"aria-current":n.isCurrentQuarter(i,o)?"date":void 0},n.getQuarterContent(o))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,s=r.selectsStart,a=r.selectsEnd,o=r.showMonthYearPicker,l=r.showQuarterYearPicker,c=r.showWeekPicker;return me("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||a)},{"react-datepicker__monthPicker":o},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,s=n.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,s=n.day,a=n.ariaLabelPrefix,o=a===void 0?"Month ":a,l=o?o.trim()+" ":"",c=yr(s)?"".concat(l).concat(xt(s,"MMMM, yyyy",this.props.locale)):"",d=r||i;return d?T.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":c,role:"listbox"},r?this.renderMonths():this.renderQuarters()):T.createElement("div",{role:"table"},this.props.dayNamesHeader&&T.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&T.createElement("div",{role:"rowgroup"},this.props.monthHeader),T.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":c,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&T.createElement("div",{role:"rowgroup"},this.props.monthFooter))},e}(S.Component),spe=function(t){Rn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.monthOptionButtonsRef={},n.isSelectedMonth=function(r){return n.props.month===r},n.handleOptionKeyDown=function(r,i){var s;switch(i.key){case"Enter":i.preventDefault(),n.onChange(r);break;case"Escape":i.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{i.preventDefault();var a=(r+(i.key==="ArrowUp"?-1:1)+n.props.monthNames.length)%n.props.monthNames.length;(s=n.monthOptionButtonsRef[a])===null||s===void 0||s.focus();break}}},n.renderOptions=function(){return n.monthOptionButtonsRef={},n.props.monthNames.map(function(r,i){return T.createElement("div",{ref:function(s){n.monthOptionButtonsRef[i]=s,n.isSelectedMonth(i)&&(s==null||s.focus())},role:"button",tabIndex:0,className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),onKeyDown:n.handleOptionKeyDown.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?T.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return T.createElement(zw,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(S.Component),ape=function(t){Rn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,s){return T.createElement("option",{key:i,value:s},i)})},n.renderSelectMode=function(r){return T.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return T.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},T.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),T.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return T.createElement(spe,Ae({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,s=[n.renderReadView(!i,r)];return i&&s.unshift(n.renderDropdown(r)),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return UV(s,n.props.locale)}:function(s){return o2(s,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return T.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(S.Component);function ope(t,e){for(var n=[],r=wa(t),i=wa(e);!ba(r,i);)n.push(Ue(r)),r=ds(r,1);return n}var lpe=function(t){Rn(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=pj(i),a=Es(r.props.date,i)&&tr(r.props.date,i);return T.createElement("div",{className:a?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":a?"true":void 0},a?T.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",xt(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:ope(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=me({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return T.createElement(zw,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(S.Component),cpe=function(t){Rn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=wa(n.props.minDate),i=wa(n.props.maxDate),s=[];!ba(r,i);){var a=pj(r);s.push(T.createElement("option",{key:a,value:a},xt(r,n.props.dateFormat,n.props.locale))),r=ds(r,1)}return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return T.createElement("select",{value:pj(wa(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=xt(n.props.date,n.props.dateFormat,n.props.locale);return T.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},T.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),T.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return T.createElement(lpe,Ae({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Ue(r);Es(n.props.date,i)&&tr(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return T.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(S.Component),upe=function(t){Rn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(r){var i,s;(n.props.minTime||n.props.maxTime)&&ZR(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&JR(r,n.props)||(s=(i=n.props).onChange)===null||s===void 0||s.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&KV(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&ZR(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&JR(r,n.props)},n.liClasses=function(r){var i,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(zn(r)*3600+Vn(r)*60+Wo(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(r,i){var s,a;r.key===te.Space&&(r.preventDefault(),r.key=te.Enter),(r.key===te.ArrowUp||r.key===te.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===te.ArrowDown||r.key===te.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===te.Enter&&n.handleClick(i),(a=(s=n.props).handleOnKeyDown)===null||a===void 0||a.call(s,r)},n.renderTimes=function(){for(var r,i=[],s=typeof n.props.format=="string"?n.props.format:"p",a=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,o=n.props.selected||n.props.openToDate||Ue(),l=Kh(o),c=n.props.injectTimes&&n.props.injectTimes.sort(function(y,v){return y.getTime()-v.getTime()}),d=60*Zhe(o),f=d/a,h=0;h<f;h++){var p=dm(l,h*a);if(i.push(p),c){var g=Jhe(l,p,h,a,c);i=i.concat(g)}}var m=i.reduce(function(y,v){return v.getTime()<=o.getTime()?v:y},i[0]);return i.map(function(y){return T.createElement("li",{key:y.valueOf(),onClick:n.handleClick.bind(n,y),className:n.liClasses(y),ref:function(v){y===m&&(n.centerLi=v)},onKeyDown:function(v){n.handleOnKeyDown(v,y)},tabIndex:y===m?0:-1,role:"option","aria-selected":n.isSelectedTime(y)?"true":void 0,"aria-disabled":n.isDisabledTime(y)?"true":void 0},xt(y,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?T.createElement(T.Fragment,null):T.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},T.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var n=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==n&&this.setState({height:n})}},e.prototype.render=function(){var n=this,r,i=this.state.height;return T.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),T.createElement("div",{className:"react-datepicker__time"},T.createElement("div",{className:"react-datepicker__time-box"},T.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(S.Component),lI=3,dpe=function(t){Rn(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=Ms([],Array(r.props.yearItemNumber),!0).map(function(){return S.createRef()}),r.isDisabled=function(i){return fi(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return l2(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var a,o;(o=(a=r.YEAR_REFS[i])===null||a===void 0?void 0:a.current)===null||o===void 0||o.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var a,o,l,c,d=r.props,f=d.date,h=d.yearItemNumber;if(!(f===void 0||h===void 0)){var p=fa(f,h).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((o=(a=r.props).setPreSelection)===null||o===void 0||o.call(a,s),i-p<0?r.updateFocusOnPaginate(h-(p-i)):i-p>=h?r.updateFocusOnPaginate(Math.abs(h-(i-p))):(c=(l=r.YEAR_REFS[i-p])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},r.isSameDay=function(i,s){return $e(i,s)},r.isCurrentYear=function(i){return i===De(Ue())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Es(ws(Ue(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Es(ws(Ue(),i),r.props.endDate)},r.isInRange=function(i){return Cy(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,a=s.selectsStart,o=s.selectsEnd,l=s.selectsRange,c=s.startDate,d=s.endDate;return!(a||o||l)||!r.selectingDate()?!1:a&&d?Cy(i,r.selectingDate(),d):o&&c||l&&c&&!d?Cy(i,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var a=r.props,o=a.startDate,l=a.selectsStart,c=ws(Ue(),i);return l?Es(c,(s=r.selectingDate())!==null&&s!==void 0?s:null):Es(c,o??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var a=r.props,o=a.endDate,l=a.selectsEnd,c=a.selectsRange,d=ws(Ue(),i);return l||c?Es(d,(s=r.selectingDate())!==null&&s!==void 0?s:null):Es(d,o??null)},r.isKeyboardSelected=function(i){if(!(r.props.disabledKeyboardNavigation||r.props.date===void 0||r.props.preSelection==null)){var s=r.props,a=s.minDate,o=s.maxDate,l=s.excludeDates,c=s.includeDates,d=s.filterDate,f=s.selected,h=Yh(ws(r.props.date,i)),p=(a||o||l||c||d)&&Uv(i,r.props),g=!!f&&$e(h,Yh(f)),m=$e(h,Yh(r.props.preSelection));return!r.props.inline&&!g&&m&&!p}},r.isSelectedYear=function(i){var s=r.props,a=s.selectsMultiple,o=s.selected,l=s.selectedDates;return a?l==null?void 0:l.some(function(c){return i===De(c)}):!!o&&i===De(o)},r.onYearClick=function(i,s){var a=r.props.date;a!==void 0&&r.handleYearClick(Yh(ws(a,s)),i)},r.onYearKeyDown=function(i,s){var a,o,l=i.key,c=r.props,d=c.date,f=c.yearItemNumber,h=c.handleOnKeyDown;if(l!==te.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case te.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(o=(a=r.props).setPreSelection)===null||o===void 0||o.call(a,r.props.selected);break;case te.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,va(r.props.preSelection,1));break;case te.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,Gd(r.props.preSelection,1));break;case te.ArrowUp:{if(d===void 0||f===void 0||r.props.preSelection==null)break;var p=fa(d,f).startPeriod,g=lI,m=s-g;if(m<p){var y=f%g;s>=p&&s<p+y?g=y:g+=y,m=s-g}r.handleYearNavigation(m,Gd(r.props.preSelection,g));break}case te.ArrowDown:{if(d===void 0||f===void 0||r.props.preSelection==null)break;var v=fa(d,f).endPeriod,g=lI,m=s+g;if(m>v){var y=f%g;s<=v&&s>v-y?g=y:g+=y,m=s+g}r.handleYearNavigation(m,va(r.props.preSelection,g));break}}h&&h(i)},r.getYearClassNames=function(i){var s=r.props,a=s.date,o=s.disabled,l=s.minDate,c=s.maxDate,d=s.excludeDates,f=s.includeDates,h=s.filterDate,p=s.yearClassName;return me("react-datepicker__year-text","react-datepicker__year-".concat(i),a?p==null?void 0:p(ws(a,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(l||c||d||f||h||o)&&Uv(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=De(r.props.preSelection),a=Uv(i,r.props);return i===s&&!a?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var n=this,r=[],i=this.props,s=i.date,a=i.yearItemNumber,o=i.onYearMouseEnter,l=i.onYearMouseLeave;if(s===void 0)return null;for(var c=fa(s,a),d=c.startPeriod,f=c.endPeriod,h=function(m){r.push(T.createElement("div",{ref:p.YEAR_REFS[m-d],onClick:function(y){n.onYearClick(y,m)},onKeyDown:function(y){YV(y)&&(y.preventDefault(),y.key=te.Enter),n.onYearKeyDown(y,m)},tabIndex:Number(p.getYearTabIndex(m)),className:p.getYearClassNames(m),onMouseEnter:p.props.usePointerEvent?void 0:function(y){return o(y,m)},onPointerEnter:p.props.usePointerEvent?function(y){return o(y,m)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(y){return l(y,m)},onPointerLeave:p.props.usePointerEvent?function(y){return l(y,m)}:void 0,key:m,"aria-current":p.isCurrentYear(m)?"date":void 0},p.getYearContent(m)))},p=this,g=d;g<=f;g++)h(g);return T.createElement("div",{className:"react-datepicker__year"},T.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(S.Component);function fpe(t,e,n,r){for(var i=[],s=0;s<2*e+1;s++){var a=t+e-s,o=!0;n&&(o=De(n)<=a),r&&o&&(o=De(r)>=a),o&&i.push(a)}return i}var hpe=function(t){Rn(e,t);function e(n){var r=t.call(this,n)||this;r.yearOptionButtonsRef={},r.handleOptionKeyDown=function(o,l){var c;switch(l.key){case"Enter":l.preventDefault(),r.onChange(o);break;case"Escape":l.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{l.preventDefault();var d=o+(l.key==="ArrowUp"?1:-1);r.yearOptionButtonsRef[d]&&((c=r.yearOptionButtonsRef[d])===null||c===void 0||c.focus());break}}},r.renderOptions=function(){r.yearOptionButtonsRef={};var o=r.props.year,l=r.state.yearsList.map(function(f){return T.createElement("div",{ref:function(h){r.yearOptionButtonsRef[f]=h,f===o&&(h==null||h.focus())},role:"button",tabIndex:0,className:o===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),onKeyDown:r.handleOptionKeyDown.bind(r,f),"aria-selected":o===f?"true":void 0},o===f?T.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),c=r.props.minDate?De(r.props.minDate):null,d=r.props.maxDate?De(r.props.maxDate):null;return(!d||!r.state.yearsList.find(function(f){return f===d}))&&l.unshift(T.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},T.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(f){return f===c}))&&l.push(T.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},T.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(o){r.props.onChange(o)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(o){var l=r.state.yearsList.map(function(c){return c+o});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,a=i||(s?10:5);return r.state={yearsList:fpe(r.props.year,a,r.props.minDate,r.props.maxDate)},r.dropdownRef=S.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=me({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return T.createElement(zw,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(S.Component),ppe=function(t){Rn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?De(n.props.minDate):1900,i=n.props.maxDate?De(n.props.maxDate):2100,s=[],a=r;a<=i;a++)s.push(T.createElement("option",{key:a,value:a},a));return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return T.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return T.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:n.toggleDropdown},T.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),T.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return T.createElement(hpe,Ae({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var s;(s=n.onSelect)===null||s===void 0||s.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var s,a;(a=(s=n.props).onSelect)===null||a===void 0||a.call(s,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return T.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(S.Component),mpe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],GV="react-datepicker-ignore-onclickoutside",gpe=function(t){var e=(t.className||"").split(/\s+/);return mpe.some(function(n){return e.indexOf(n)>=0})},ype=function(t){Rn(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,a;gpe(i.target)&&((a=(s=r.props).onDropdownFocus)===null||a===void 0||a.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,a=i.selected,o=i.openToDate,l=HV(r.props),c=qV(r.props),d=Ue(),f=o||a||s;return f||(l&&As(d,l)?l:c&&ba(d,c)?c:d)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:ds(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Sc(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,a){r.props.onSelect(i,s,a),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:ws(Ue(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,a,o,l;(a=(s=r.props).onYearChange)===null||a===void 0||a.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(o=r.props).setOpen)===null||l===void 0||l.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!fi(i,r.props))return i;for(var s=wa(i),a=Fhe(i),o=Xue(a,s),l=null,c=0;c<=o;c++){var d=as(s,c);if(!fi(d,r.props)){l=d;break}}return l},r.handleMonthChange=function(i){var s,a,o,l=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(o=(a=r.props).setOpen)===null||o===void 0||o.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var s,a;(a=(s=r.props).onMonthChange)===null||a===void 0||a.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var a=s.date;return{date:ws(a,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var a=s.date;return{date:Ir(a,Number(i))}},function(){var s,a;r.handleMonthChange(r.state.date),(a=(s=r.props).onMonthSelectedInChange)===null||a===void 0||a.call(s,0)})},r.changeMonthYear=function(i){r.setState(function(s){var a=s.date;return{date:ws(Ir(a,br(i)),De(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i,s){if(i===void 0&&(i=r.state.date),s===void 0&&(s=0),!yr(i))return[];var a=r.props.disabled,o=Ho(i,r.props.locale,r.props.calendarStartDay),l=[];return r.props.showWeekNumbers&&l.push(T.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(a?"react-datepicker__day-name--disabled":""),role:"columnheader"},T.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),T.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),l.concat([0,1,2,3,4,5,6].map(function(c){var d=as(o,c),f=r.formatWeekday(d,r.props.locale),h=xt(d,"EEEE",r.props.locale),p=r.props.weekDayClassName?r.props.weekDayClassName(d):void 0;if(r.props.renderCustomDayName){var g=r.props.renderCustomDayName({day:d,shortName:f,fullName:h,locale:r.props.locale,customDayNameCount:s});return T.createElement("div",{key:c,role:"columnheader",className:me("react-datepicker__day-name",p,a?"react-datepicker__day-name--disabled":"")},g)}return T.createElement("div",{key:c,role:"columnheader",className:me("react-datepicker__day-name",p,a?"react-datepicker__day-name--disabled":"")},T.createElement("span",{className:"react-datepicker__sr-only"},h),T.createElement("span",{"aria-hidden":"true"},f))}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?zhe(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?Uhe(i,s):Vhe(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,a=i.date;return{date:Gd(a,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,a;if(!r.props.renderCustomHeader){var o=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?o-1:0,c=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,d=Sc(r.state.date,c),f;switch(!0){case r.props.disabled:f=!0;break;case r.props.showMonthYearPicker:f=nI(r.state.date,r.props);break;case r.props.showYearPicker:f=Yhe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:f=qhe(r.state.date,r.props);break;default:f=eI(d,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&f||r.props.showTimeSelectOnly)){var h=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],g=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(g=r.decreaseYear),f&&r.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),g=void 0);var m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,y=r.props,v=y.previousMonthButtonLabel,x=v===void 0?e.defaultProps.previousMonthButtonLabel:v,b=y.previousYearButtonLabel,k=b===void 0?e.defaultProps.previousYearButtonLabel:b,w=r.props,C=w.previousMonthAriaLabel,_=C===void 0?typeof x=="string"?x:"Previous Month":C,j=w.previousYearAriaLabel,N=j===void 0?typeof k=="string"?k:"Previous Year":j;return T.createElement("button",{type:"button",className:p.join(" "),onClick:g,onKeyDown:r.props.handleOnKeyDown,"aria-label":m?N:_},T.createElement("span",{className:h.join(" ")},m?k:x))}}},r.increaseYear=function(){r.setState(function(i){var s,a=i.date;return{date:va(a,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.disabled:s=!0;break;case r.props.showMonthYearPicker:s=rI(r.state.date,r.props);break;case r.props.showYearPicker:s=Ghe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=Khe(r.state.date,r.props);break;default:s=tI(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var a=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,f=d.nextMonthButtonLabel,h=f===void 0?e.defaultProps.nextMonthButtonLabel:f,p=d.nextYearButtonLabel,g=p===void 0?e.defaultProps.nextYearButtonLabel:p,m=r.props,y=m.nextMonthAriaLabel,v=y===void 0?typeof h=="string"?h:"Next Month":y,x=m.nextYearAriaLabel,b=x===void 0?typeof g=="string"?g:"Next Year":x;return T.createElement("button",{type:"button",className:a.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?b:v},T.createElement("span",{className:o.join(" ")},c?g:h))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),T.createElement("h2",{className:s.join(" ")},yr(i)?xt(i,r.props.dateFormat,r.props.locale):"")},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return T.createElement(ppe,Ae({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:De(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return T.createElement(ape,Ae({},e.defaultProps,r.props,{month:br(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return T.createElement(cpe,Ae({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(GR(),i),r.props.setPreSelection&&r.props.setPreSelection(GR())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return T.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(i,s){return s===void 0&&(s=0),T.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(i,s))},r.renderDefaultHeader=function(i){var s=i.monthDate,a=i.i,o=T.createElement("div",{className:me("react-datepicker__header",{"react-datepicker__header--has-time-select":r.props.showTimeSelect,"react-datepicker__header--middle":r.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":r.props.monthHeaderPosition==="bottom"})},r.renderCurrentMonth(s),T.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(a!==0),r.renderMonthYearDropdown(a!==0),r.renderYearDropdown(a!==0)));return r.props.monthHeaderPosition==="top"?o:T.createElement("div",{className:"react-datepicker__header-wrapper"},r.renderPreviousButton()||null,r.renderNextButton()||null,o)},r.renderCustomHeader=function(i){var s,a,o=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=r.props,d=c.showYearPicker,f=c.yearItemNumber,h;if(d){var p=fa(o,f),g=p.startPeriod,m=p.endPeriod;h={startYear:g,endYear:m}}var y=eI(r.state.date,r.props),v=tI(r.state.date,r.props),x=nI(r.state.date,r.props),b=rI(r.state.date,r.props);return T.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(a=(s=r.props).renderCustomHeader)===null||a===void 0?void 0:a.call(s,Ae(Ae(Ae({},r.state),d&&{visibleYearsRange:h}),{customHeaderCount:l,monthDate:o,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:y,nextMonthButtonDisabled:v,prevYearButtonDisabled:x,nextYearButtonDisabled:b})))},r.renderYearHeader=function(i){var s=i.monthDate,a=r.props,o=a.showYearPicker,l=a.yearItemNumber,c=l===void 0?e.defaultProps.yearItemNumber:l,d=fa(s,c),f=d.startPeriod,h=d.endPeriod;return T.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(f," - ").concat(h):De(s))},r.renderHeader=function(i){var s=i.monthDate,a=i.i,o=a===void 0?0:a,l={monthDate:s,i:o};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var a=[],o=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?o-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?va(r.state.date,l):Sc(r.state.date,l),d=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,f=0;f<o;++f){var h=f-d+l,p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?va(c,h):ds(c,h),g="month-".concat(f),m=f<o-1,y=f>0;a.push(T.createElement("div",{key:g,ref:function(v){r.monthContainer=v??void 0},className:"react-datepicker__month-container"},r.props.monthHeaderPosition==="top"&&r.renderHeader({monthDate:p,i:f}),T.createElement(ipe,Ae({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:p,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:f,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:m,monthShowsDuplicateDaysStart:y,dayNamesHeader:r.renderDayNamesHeader(p,f),monthHeader:r.props.monthHeaderPosition==="middle"?r.renderHeader({monthDate:p,i:f}):void 0,monthFooter:r.props.monthHeaderPosition==="bottom"?r.renderHeader({monthDate:p,i:f}):void 0}))))}return a}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return T.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),T.createElement(dpe,Ae({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return T.createElement(upe,Ae({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i,s;if(r.props.showTimeInput){if(r.props.selectsRange){var a=r.props,o=a.startDate,l=a.endDate,c=o?new Date(o):void 0,d=c&&yr(c)&&!!o,f=d?"".concat(mu(c.getHours()),":").concat(mu(c.getMinutes())):"",h=l?new Date(l):void 0,p=h&&yr(h)&&!!l,g=p?"".concat(mu(h.getHours()),":").concat(mu(h.getMinutes())):"";return T.createElement(T.Fragment,null,T.createElement(ok,Ae({},e.defaultProps,r.props,{date:c,timeString:f,onChange:function(x){var b,k;(k=(b=r.props).onTimeChange)===null||k===void 0||k.call(b,x,"start")},timeInputLabel:((i=r.props.timeInputLabel)!==null&&i!==void 0?i:"Time")+" (Start)"})),T.createElement(ok,Ae({},e.defaultProps,r.props,{date:h,timeString:g,onChange:function(x){var b,k;(k=(b=r.props).onTimeChange)===null||k===void 0||k.call(b,x,"end")},timeInputLabel:((s=r.props.timeInputLabel)!==null&&s!==void 0?s:"Time")+" (End)"})))}var m=r.props.selected?new Date(r.props.selected):void 0,y=m&&yr(m)&&!!r.props.selected,v=y?"".concat(mu(m.getHours()),":").concat(mu(m.getMinutes())):"";return T.createElement(ok,Ae({},e.defaultProps,r.props,{date:m,timeString:v,onChange:function(x){var b,k;(k=(b=r.props).onTimeChange)===null||k===void 0||k.call(b,x)}}))}},r.renderAriaLiveRegion=function(){var i;if(!yr(r.state.date))return T.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var s=fa(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),a=s.startPeriod,o=s.endPeriod,l;return r.props.showYearPicker?l="".concat(a," - ").concat(o):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=De(r.state.date):l="".concat(o2(br(r.state.date),r.props.locale)," ").concat(De(r.state.date)),T.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return T.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=S.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:GV,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:jg,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&yr(this.props.preSelection)&&(!$e(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!tr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!$e(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||Ahe;return T.createElement(zw,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},T.createElement("div",{style:{display:"contents"},ref:this.containerRef},T.createElement(n,{className:me("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(S.Component),vpe=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return T.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i});if(T.isValidElement(e)){var a=e;return T.cloneElement(a,{className:"".concat(a.props.className||""," ").concat(s," ").concat(r),onClick:function(o){typeof a.props.onClick=="function"&&a.props.onClick(o),typeof i=="function"&&i(o)}})}return T.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},T.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},QV=function(t){Rn(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return gw.createPortal(this.props.children,this.el)},e}(S.Component),xpe="[tabindex], a, button, input, select, textarea",bpe=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},XV=function(t){Rn(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(xpe),1,-1).filter(bpe)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=S.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?T.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},T.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,T.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(S.Component);function wpe(t){function e(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=S.useRef(null),a=Phe(Ae({open:!i,whileElementsMounted:ez,placement:n.popperPlacement,middleware:Ms([iz({padding:15}),rz(10),sz({element:s})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),o=Ae(Ae({},n),{hidePopper:i,popperProps:Ae(Ae({},a),{arrowRef:s})});return T.createElement(t,Ae({},o))}return e.displayName="withFloating(".concat(t.displayName||t.name||"Component",")"),e}var Spe=function(t){var e=t.className,n=t.wrapperClassName,r=t.hidePopper,i=r===void 0?!0:r,s=t.popperComponent,a=t.targetComponent,o=t.enableTabLoop,l=t.popperOnKeyDown,c=t.portalId,d=t.portalHost,f=t.popperProps,h=t.showArrow,p=t.popperTargetRef,g=t.monthHeaderPosition;S.useEffect(function(){p!=null&&p.current&&f.refs.setPositionReference(p.current)},[p,f.refs]);var m=void 0;if(!i){var y=me("react-datepicker-popper",!h&&"react-datepicker-popper-offset",g==="middle"&&"react-datepicker-popper--header-middle",g==="bottom"&&"react-datepicker-popper--header-bottom",e);m=T.createElement(XV,{enableTabLoop:o},T.createElement("div",{ref:f.refs.setFloating,style:f.floatingStyles,className:y,"data-placement":f.placement,onKeyDown:l},s,h&&T.createElement(Che,{ref:f.arrowRef,context:f.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}t.popperContainer&&(m=S.createElement(t.popperContainer,{},m)),c&&!i&&(m=T.createElement(QV,{portalId:c,portalHost:d},m));var v=me("react-datepicker-wrapper",n);return T.createElement(T.Fragment,null,T.createElement("div",{ref:f.refs.setReference,className:v},a),m)},kpe=wpe(Spe);function cI(t,e){return t&&e?br(t)!==br(e)||De(t)!==De(e):t!==e}var ck="Date input not valid.",Xd=function(t){Rn(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){var i=r.props.timeZone,s=r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Ue();return i?KR(s,i):s},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,a){var o=Pl(a.date,"yyyy-MM-dd",void 0,!1);return o?Ms(Ms([],s,!0),[Ae(Ae({},a),{date:o})],!1):s},[])},r.calcInitialState=function(){var i=r.props.timeZone,s=r.getPreSelection(),a=HV(r.props),o=qV(r.props),l=a&&As(s,Kh(a))?a:o&&ba(s,QR(o))?o:s,c=r.props.selectsRange?r.props.startDate:r.props.selected;return c&&i&&(c=KR(c,i)),{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:c??l,highlightDates:iI(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var i,s=r.props,a=s.locale,o=s.startDate,l=s.endDate,c=s.rangeSeparator,d=s.selected,f=s.selectedDates,h=s.selectsMultiple,p=s.selectsRange,g=s.formatMultipleDates,m=s.value,y=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,v=r.state.inputValue;if(typeof m=="string")return m;if(typeof v=="string")return v;if(p)return Rhe(o,l,{dateFormat:y,locale:a,rangeSeparator:c});if(h){if(g){var x=function(b){return mr(b,{dateFormat:y,locale:a})};return g(f??[],x)}return Ihe(f??[],{dateFormat:y,locale:a})}return mr(d,{dateFormat:y,locale:a})},r.resetHiddenStatus=function(){r.setState(Ae(Ae({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Ae(Ae({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},r.setBlur=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:uk},function(){i||r.setState(function(a){return{focused:s?a.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return xa(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,a,o=r.state.wasHidden,l=o?r.state.open:!0;o&&r.resetHiddenStatus(),r.state.preventFocus||((a=(s=r.props).onFocus)===null||a===void 0||a.call(s,i),l&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(Ae(Ae({},r.state),{inputValue:null}))},r.handleBlur=function(i){var s,a;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((a=(s=r.props).onBlur)===null||a===void 0||a.call(s,i)),r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,a;r.props.inline||r.setOpen(!1),(a=(s=r.props).onClickOutside)===null||a===void 0||a.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,a,o,l,c,d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var h=d[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,d),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){r.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:Cpe});var p=r.props,g=p.selectsRange,m=p.startDate,y=p.endDate,v=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,x=(s=r.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,b=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(g){var k=r.props.rangeSeparator,w=k.trim(),C=b.split(v.includes(w)?k:w,2).map(function(M){return M.trim()}),_=C[0],j=C[1],N=Pl(_??"",v,r.props.locale,x),E=N?Pl(j??"",v,r.props.locale,x):null,P=(m==null?void 0:m.getTime())!==(N==null?void 0:N.getTime()),O=(y==null?void 0:y.getTime())!==(E==null?void 0:E.getTime());if(!P&&!O||N&&fi(N,r.props)||E&&fi(E,r.props))return;N&&r.setState({preSelection:N}),(o=(a=r.props).onChange)===null||o===void 0||o.call(a,[N,E],h)}else{var D=Pl(b,v,r.props.locale,x,(l=r.props.selected)!==null&&l!==void 0?l:void 0);if(D||!b)r.setSelected(D,h,!0);else if(!r.props.inline){var A=Dhe(b,(c=r.state.preSelection)!==null&&c!==void 0?c:void 0);A&&(!r.props.minDate||!As(A,r.props.minDate))&&(!r.props.maxDate||!ba(A,r.props.maxDate))&&r.setState({preSelection:A})}}}},r.handleSelect=function(i,s,a){var o;if(!r.props.readOnly){var l=r.props,c=l.selectsRange,d=l.startDate,f=l.endDate,h=l.locale,p=l.swapRange,g=(o=r.props.dateFormat)!==null&&o!==void 0?o:e.defaultProps.dateFormat,m=!c||d&&!f&&(p||!ak(i,d));if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&m&&r.sendFocusBackToInput(),r.props.onChangeRaw){var y=mr(i,{dateFormat:g,locale:h});r.props.onChangeRaw(s,{date:i,formattedDate:y})}r.setSelected(i,s,!1,a),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(i):m&&r.setOpen(!1)}},r.setSelected=function(i,s,a,o){var l,c,d=r.props.timeZone,f=i;if(f&&d&&(f=Js(f,d)),r.props.showYearPicker){if(f!==null&&Uv(De(f),r.props))return}else if(r.props.showMonthYearPicker){if(f!==null&&WV(f,r.props))return}else if(f!==null&&fi(f,r.props))return;var h=r.props,p=h.onChange,g=h.selectsRange,m=h.startDate,y=h.endDate,v=h.selectsMultiple,x=h.selectedDates,b=h.minTime,k=h.swapRange;if(!nc(r.props.selected,f)||r.props.allowSameDay||g||v)if(f!==null&&(r.props.selected&&(!a||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(f=Zs(f,{hour:zn(r.props.selected),minute:Vn(r.props.selected),second:Wo(r.props.selected)})),!a&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&b&&(f=Zs(f,{hour:b.getHours(),minute:b.getMinutes(),second:b.getSeconds()})),r.props.inline||r.setState({preSelection:f}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:o})),g){var w=!m&&!y,C=m&&!y,_=!m&&!!y,j=m&&y;w?p==null||p([f,null],s):C?f===null?p==null||p([null,null],s):ak(f,m)?k?p==null||p([f,m],s):p==null||p([f,null],s):p==null||p([m,f],s):_&&(f&&ak(f,y)?p==null||p([f,y],s):p==null||p([f,null],s)),j&&(p==null||p([f,null],s))}else if(v){if(f!==null)if(!(x!=null&&x.length))p==null||p([f],s);else{var N=x.some(function(P){return $e(P,f)});if(N){var E=x.filter(function(P){return!$e(P,f)});p==null||p(E,s)}else p==null||p(Ms(Ms([],x,!0),[f],!1),s)}}else p==null||p(f,s);a||((c=(l=r.props).onSelect)===null||c===void 0||c.call(l,f,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){if(!r.props.readOnly){var s=xa(r.props.minDate),a=xa(r.props.maxDate),o=!0;if(i){var l=Kh(i);if(s&&a)o=Fl(i,r.props.minDate,r.props.maxDate);else if(s){var c=Kh(r.props.minDate);o=ba(i,c)||nc(l,c)}else if(a){var d=QR(r.props.maxDate);o=As(i,d)||nc(l,d)}}o&&r.setState({preSelection:i})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i,s){var a,o;if(!r.props.selectsMultiple){var l=r.props,c=l.selectsRange,d=l.startDate,f=l.endDate,h=l.onChange,p=l.timeZone;if(c)if(s==="start"){if(d){var g=Zs(d,{hour:zn(i),minute:Vn(i)});r.setState({preSelection:g}),p&&(g=Js(g,p)),h==null||h([g,f?p?Js(f,p):f:null],void 0)}}else if(s==="end"){if(f){var m=Zs(f,{hour:zn(i),minute:Vn(i)});r.setState({preSelection:m}),p&&(m=Js(m,p)),h==null||h([d?p?Js(d,p):d:null,m],void 0)}}else{var y=d&&!f;if(y){var g=Zs(d,{hour:zn(i),minute:Vn(i)});r.setState({preSelection:g}),p&&(g=Js(g,p)),h==null||h([g,null],void 0)}else if(d&&f){var m=Zs(f,{hour:zn(i),minute:Vn(i)});r.setState({preSelection:m}),p&&(m=Js(m,p)),h==null||h([p?Js(d,p):d,m],void 0)}else{var v=Zs(r.getPreSelection(),{hour:zn(i),minute:Vn(i)});r.setState({preSelection:v})}}else{var x=r.props.selected?r.props.selected:r.getPreSelection(),v=r.props.selected?i:Zs(x,{hour:zn(i),minute:Vn(i)});r.setState({preSelection:v}),v&&p&&(v=Js(v,p)),(o=(a=r.props).onChange)===null||o===void 0||o.call(a,v)}r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.handleTimeOnlyArrowKey=function(i){var s,a,o,l,c=r.props.selected||r.state.preSelection||Ue(),d=(s=r.props.timeIntervals)!==null&&s!==void 0?s:30,f=(a=r.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,h=Array.isArray(f)?f[0]:f,p=Kh(c),g=zn(c)*60+Vn(c),m=23*60+60-d,y;if(i===te.ArrowUp){var v=Math.max(0,g-d);y=dm(p,v)}else{var v=Math.min(m,g+d);y=dm(p,v)}var x=xt(y,h||e.defaultProps.dateFormat,r.props.locale);if(r.setState({preSelection:y,inputValue:x}),!(r.props.selectsRange||r.props.selectsMultiple)){var b=r.props.selected?r.props.selected:r.getPreSelection(),k=r.props.selected?y:Zs(b,{hour:zn(y),minute:Vn(y)});(l=(o=r.props).onChange)===null||l===void 0||l.call(o,k),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){r.scrollToTimeOption(y)})}},r.handleTimeOnlyEnterKey=function(i){var s,a,o,l,c=i.target,d=c.value,f=(s=r.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,h=r.props.timeFormat||"p",p=r.state.preSelection||r.props.selected||Ue(),g=Pl(d,f,r.props.locale,(a=r.props.strictParsing)!==null&&a!==void 0?a:!1,p),m=p;if(g&&yr(g))m=g;else{var y=((o=r.calendar)===null||o===void 0?void 0:o.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(y instanceof HTMLElement){var v=(l=y.textContent)===null||l===void 0?void 0:l.trim();if(v){var x=Pl(v,h,r.props.locale,!1,p);x&&yr(x)&&(m=x)}}}r.handleTimeChange(m),r.setOpen(!1),r.sendFocusBackToInput()},r.scrollToTimeOption=function(i){var s,a;if(!((s=r.calendar)===null||s===void 0)&&s.containerRef.current){for(var o=r.calendar.containerRef.current,l=Array.from(o.querySelectorAll(".react-datepicker__time-list-item")),c=null,d=1/0,f=r.props.timeFormat||"p",h=0,p=l;h<p.length;h++){var g=p[h],m=(a=g.textContent)===null||a===void 0?void 0:a.trim();if(m){var y=Pl(m,f,r.props.locale,!1,i);if(y&&yr(y)){if(KV(y,i)){c=g;break}var v=Math.abs(y.getTime()-i.getTime());v<d&&(d=v,c=g)}}}c&&(l.forEach(function(x){x.setAttribute("tabindex","-1")}),c.setAttribute("tabindex","0"),c.scrollIntoView({behavior:"smooth",block:"center"}))}},r.onInputKeyDown=function(i){var s,a,o,l,c,d;(a=(s=r.props).onKeyDown)===null||a===void 0||a.call(s,i);var f=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(f===te.ArrowDown||f===te.ArrowUp||f===te.Enter)&&((o=r.onInputClick)===null||o===void 0||o.call(r));return}if(r.state.open&&r.props.showTimeSelectOnly){if(f===te.ArrowDown||f===te.ArrowUp){i.preventDefault(),r.handleTimeOnlyArrowKey(f);return}if(f===te.Enter){i.preventDefault(),r.handleTimeOnlyEnterKey(i);return}}if(r.state.open){if(f===te.ArrowDown||f===te.ArrowUp){i.preventDefault();var h=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(h);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var g=Ue(r.state.preSelection);f===te.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===uk?(r.handleSelect(g,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(g)):r.setOpen(!1)):f===te.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):f===te.Tab&&r.setOpen(!1),r.inputOk()||(d=(c=r.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:ck})}},r.onPortalKeyDown=function(i){var s=i.key;s===te.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,a,o,l,c,d,f=r.props,h=f.minDate,p=f.maxDate,g=f.disabledKeyboardNavigation,m=f.showWeekPicker,y=f.shouldCloseOnSelect,v=f.locale,x=f.calendarStartDay,b=f.adjustDateOnChange,k=f.inline;if((a=(s=r.props).onKeyDown)===null||a===void 0||a.call(s,i),!g){var w=i.key,C=i.shiftKey,_=Ue(r.state.preSelection),j=function(P,O){var D=O;switch(P){case te.ArrowRight:D=m?V0(O,1):as(O,1);break;case te.ArrowLeft:D=m?UR(O):Xfe(O);break;case te.ArrowUp:D=UR(O);break;case te.ArrowDown:D=V0(O,1);break;case te.PageUp:D=C?Gd(O,1):Sc(O,1);break;case te.PageDown:D=C?va(O,1):ds(O,1);break;case te.Home:D=Ho(O,v,x);break;case te.End:D=Bhe(O);break}return D},N=function(P,O){for(var D=40,A=P,M=!1,$=0,I=j(P,O);!M;){if($>=D){I=O;break}h&&I<h&&(A=te.ArrowRight,I=fi(h,r.props)?j(A,I):h),p&&I>p&&(A=te.ArrowLeft,I=fi(p,r.props)?j(A,I):p),fi(I,r.props)?((A===te.PageUp||A===te.Home)&&(A=te.ArrowRight),(A===te.PageDown||A===te.End)&&(A=te.ArrowLeft),I=j(A,I)):M=!0,$++}return I};if(w===te.Enter){i.preventDefault(),r.handleSelect(_,i),!y&&r.setPreSelection(_);return}else if(w===te.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(o=r.props).onInputError)===null||l===void 0||l.call(o,{code:1,msg:ck});return}var E=null;switch(w){case te.ArrowLeft:case te.ArrowRight:case te.ArrowUp:case te.ArrowDown:case te.PageUp:case te.PageDown:case te.Home:case te.End:E=N(w,_);break}if(!E){(d=(c=r.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:ck});return}i.preventDefault(),r.setState({lastPreSelectChange:uk}),b&&r.setSelected(E),r.setPreSelection(E),k&&r.setState({shouldFocusDayInline:!0})}},r.onPopperKeyDown=function(i){var s=i.key;s===te.Escape&&(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,a=s.selectsRange,o=s.onChange;a?o==null||o([null,null],i):o==null||o(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.handleMonthSelectedInChange=function(i){r.setState({monthSelectedIn:i})},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:T.createElement(ype,Ae({showMonthYearDropdown:void 0,ref:function(a){r.calendar=a}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:Xhe(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode,onMonthSelectedInChange:r.handleMonthSelectedInChange}),r.props.children)},r.renderAriaLiveRegion=function(){var i,s=r.props.locale,a=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,o=r.props.showTimeInput||r.props.showTimeSelect,l=o?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(mr(r.props.startDate,{dateFormat:l,locale:s}),". ").concat(r.props.endDate?"End date: "+mr(r.props.endDate,{dateFormat:l,locale:s}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(mr(r.props.selected,{dateFormat:a,locale:s})):r.props.showYearPicker?c="Selected year: ".concat(mr(r.props.selected,{dateFormat:"yyyy",locale:s})):r.props.showMonthYearPicker?c="Selected month: ".concat(mr(r.props.selected,{dateFormat:"MMMM yyyy",locale:s})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(mr(r.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):c="Selected date: ".concat(mr(r.props.selected,{dateFormat:l,locale:s})),T.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},r.renderDateInput=function(){var i,s,a,o,l,c,d,f=me(r.props.className,(i={},i[r.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=r.state.open,i)),h=r.props.customInput||T.createElement("input",{type:"text"}),p=r.props.customInputRef||"ref",g={},m=(a=r.props["aria-describedby"])!==null&&a!==void 0?a:r.props.ariaDescribedBy,y=(o=r.props["aria-invalid"])!==null&&o!==void 0?o:r.props.ariaInvalid,v=(l=r.props["aria-label"])!==null&&l!==void 0?l:r.props.ariaLabel,x=(c=r.props["aria-labelledby"])!==null&&c!==void 0?c:r.props.ariaLabelledBy,b=(d=r.props["aria-required"])!==null&&d!==void 0?d:r.props.ariaRequired;return m!=null&&(g["aria-describedby"]=m),y!=null&&(g["aria-invalid"]=y),v!=null&&(g["aria-label"]=v),x!=null&&(g["aria-labelledby"]=x),b!=null&&(g["aria-required"]=b),S.cloneElement(h,Ae((s={},s[p]=function(k){r.input=k},s.value=r.getInputValue(),s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=me(h.props.className,f),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s),g))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,a=i.disabled,o=i.selected,l=i.startDate,c=i.endDate,d=i.clearButtonTitle,f=i.clearButtonClassName,h=f===void 0?"":f,p=i.ariaLabelClose,g=p===void 0?"Close":p,m=i.selectedDates,y=i.readOnly;return s&&!y&&(o!=null||l!=null||c!=null||m!=null&&m.length)?T.createElement("button",{type:"button",className:me("react-datepicker__close-icon",h,{"react-datepicker__close-icon--disabled":a}),disabled:a,"aria-label":g,onClick:r.onClearClick,title:d,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:GV,readOnly:!1,rangeSeparator:VV,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:jg,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var i,s,a,o;this.props.selectsRange&&cI(n.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):cI(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&r.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:iI(this.props.highlightDates)}),!r.focused&&!nc(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((o=(a=this.props).onCalendarClose)===null||o===void 0||o.call(a)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,s=n.calendarIconClassname,a=n.calendarIconClassName,o=n.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),T.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&T.createElement(vpe,Ae({icon:i,className:me(a,!a&&s,l&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?T.createElement(XV,{enableTabLoop:this.props.enableTabLoop},T.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=T.createElement(QV,Ae({portalId:this.props.portalId},this.props),r)),T.createElement("div",null,this.renderInputContainer(),r)}return T.createElement(kpe,Ae({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},e}(S.Component),Cpe="input",uk="navigate";const JV="/assets/hero-villa-DPddgxiG.jpg",ZV="/assets/villa-1-DEg1sm9h.jpg",eU="/assets/villa-2-BSBotGAF.jpg",tU="/assets/villa-3-D0zlAAlj.jpg",nU="/assets/villa-4-CwbrcZ-O.jpg",gu=[JV,ZV,eU,tU,nU],_pe=()=>{const t=Gs(),[e,n]=S.useState(0),[r,i]=S.useState(null),[s,a]=S.useState(null),[o,l]=S.useState(2);S.useEffect(()=>{const h=setInterval(()=>{n(p=>(p+1)%gu.length)},5e3);return()=>clearInterval(h)},[]);const c=()=>n(h=>(h+1)%gu.length),d=()=>n(h=>(h-1+gu.length)%gu.length),f=()=>{const h=new URLSearchParams;r&&h.set("checkIn",r.toISOString()),s&&h.set("checkOut",s.toISOString()),h.set("guests",o.toString()),t(`/villas?${h.toString()}`)};return u.jsxs("section",{className:"relative min-h-screen overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0",children:[u.jsx(Hf,{mode:"wait",children:u.jsx(de.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0},transition:{duration:1.2,ease:"easeOut"},className:"absolute inset-0",children:u.jsx("img",{src:gu[e]||"/placeholder.svg",alt:"Luxury Villa in Ubud",className:"w-full h-full object-cover"})},e)}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-foreground/70 via-foreground/40 to-transparent"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-foreground/50 via-transparent to-foreground/20"})]}),u.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex items-center gap-4 z-20",children:[u.jsx("button",{onClick:d,className:"p-2 bg-background/20 backdrop-blur-sm rounded-full text-background hover:bg-background/30 transition-colors","aria-label":"Previous slide",children:u.jsx(us,{size:20})}),u.jsx("div",{className:"flex gap-2",children:gu.map((h,p)=>u.jsx("button",{onClick:()=>n(p),className:`w-2 h-2 rounded-full transition-all duration-300 ${p===e?"bg-background w-8":"bg-background/50"}`,"aria-label":`Go to slide ${p+1}`},p))}),u.jsx("button",{onClick:c,className:"p-2 bg-background/20 backdrop-blur-sm rounded-full text-background hover:bg-background/30 transition-colors","aria-label":"Next slide",children:u.jsx(Qn,{size:20})})]}),u.jsx("div",{className:"relative z-10 min-h-screen flex items-center",children:u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 pt-24",children:u.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[u.jsxs(de.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.3},className:"text-background",children:[u.jsxs(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/90 backdrop-blur-sm rounded-full mb-6",children:[u.jsx(T8,{size:16,className:"text-primary-foreground animate-pulse-soft"}),u.jsx("span",{className:"text-sm font-medium text-primary-foreground",children:"Villas Available Now"})]}),u.jsxs("h1",{className:"font-display text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-semibold leading-tight mb-6",children:["Experience",u.jsx("br",{}),u.jsx("span",{className:"italic",children:"Luxury"})," in the",u.jsx("br",{}),"Heart of ",u.jsx("span",{className:"text-primary",children:"Ubud"})]}),u.jsx("p",{className:"text-lg sm:text-xl text-background/80 max-w-lg mb-8",children:"Discover our collection of handpicked luxury villas, each offering a unique blend of Balinese tradition and modern comfort."}),u.jsxs("div",{className:"flex flex-wrap gap-4",children:[u.jsx("a",{href:"#villas",className:"btn-primary",children:"Explore Villas"}),u.jsx("a",{href:"#experience",className:"btn-outline border-background/50 text-background hover:bg-background hover:text-foreground",children:"Our Story"})]})]}),u.jsx(de.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.5},className:"hidden lg:block",children:u.jsxs("div",{className:"glass-card rounded-2xl p-8 max-w-md ml-auto",children:[u.jsx("h3",{className:"font-display text-2xl font-semibold text-foreground mb-6",children:"Find Your Perfect Stay"}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Check In"}),u.jsxs("div",{className:"relative",children:[u.jsx(Gn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),u.jsx(Xd,{selected:r,onChange:h=>i(h),minDate:new Date,placeholderText:"Select date",className:"w-full pl-10 pr-4 py-3 bg-secondary/50 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-foreground"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Check Out"}),u.jsxs("div",{className:"relative",children:[u.jsx(Gn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),u.jsx(Xd,{selected:s,onChange:h=>a(h),minDate:r||new Date,placeholderText:"Select date",className:"w-full pl-10 pr-4 py-3 bg-secondary/50 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-foreground"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Guests"}),u.jsxs("div",{className:"relative",children:[u.jsx(Jr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),u.jsx("select",{value:o,onChange:h=>l(Number(h.target.value)),className:"w-full pl-10 pr-4 py-3 bg-secondary/50 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-foreground appearance-none cursor-pointer",children:[1,2,3,4,5,6,7,8].map(h=>u.jsxs("option",{value:h,children:[h," ",h===1?"Guest":"Guests"]},h))})]})]}),u.jsx("button",{onClick:f,className:"w-full btn-primary text-center py-4",children:"Check Availability"})]})]})})]})})}),u.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"absolute bottom-24 left-1/2 -translate-x-1/2 z-20",children:u.jsx(de.div,{animate:{y:[0,10,0]},transition:{duration:1.5,repeat:Number.POSITIVE_INFINITY},className:"w-6 h-10 border-2 border-background/50 rounded-full flex justify-center pt-2",children:u.jsx("div",{className:"w-1 h-2 bg-background/80 rounded-full"})})})]})},uI=t=>{let e;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const h=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(p=>p(e,h))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,o);return o},jpe=t=>t?uI(t):uI,Epe=t=>t;function Npe(t,e=Epe){const n=T.useSyncExternalStore(t.subscribe,T.useCallback(()=>e(t.getState()),[t,e]),T.useCallback(()=>e(t.getInitialState()),[t,e]));return T.useDebugValue(n),n}const dI=t=>{const e=jpe(t),n=r=>Npe(e,r);return Object.assign(n,e),n},hs=t=>t?dI(t):dI;var c2={},Q0={},gj=function(t,e){return gj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},gj(t,e)};function rU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gj(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var hi=function(){return hi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hi.apply(this,arguments)};function gl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iU(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function sU(t,e){return function(n,r){e(n,r,t)}}function aU(t,e,n,r,i,s){function a(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var o=r.kind,l=o==="getter"?"get":o==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,d=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),f,h=!1,p=n.length-1;p>=0;p--){var g={};for(var m in r)g[m]=m==="access"?{}:r[m];for(var m in r.access)g.access[m]=r.access[m];g.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(v||null))};var y=(0,n[p])(o==="accessor"?{get:d.get,set:d.set}:d[l],g);if(o==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(f=a(y.get))&&(d.get=f),(f=a(y.set))&&(d.set=f),(f=a(y.init))&&i.unshift(f)}else(f=a(y))&&(o==="field"?i.unshift(f):d[l]=f)}c&&Object.defineProperty(c,r.name,d),h=!0}function oU(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function lU(t){return typeof t=="symbol"?t:"".concat(t)}function cU(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function uU(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ce(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{c(r.next(d))}catch(f){a(f)}}function l(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})}function dU(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(d){c=[6,d],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Vw=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function fU(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Vw(e,t,n)}function X0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u2(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function hU(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u2(arguments[e]));return t}function pU(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)r[i]=s[a];return r}function d2(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Jd(t){return this instanceof Jd?(this.v=t,this):new Jd(t)}function mU(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(g){return Promise.resolve(g).then(p,f)}}function o(p,g){r[p]&&(i[p]=function(m){return new Promise(function(y,v){s.push([p,m,y,v])>1||l(p,m)})},g&&(i[p]=g(i[p])))}function l(p,g){try{c(r[p](g))}catch(m){h(s[0][3],m)}}function c(p){p.value instanceof Jd?Promise.resolve(p.value.v).then(d,f):h(s[0][2],p)}function d(p){l("next",p)}function f(p){l("throw",p)}function h(p,g){p(g),s.shift(),s.length&&l(s[0][0],s[0][1])}}function gU(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(a){return(n=!n)?{value:Jd(t[i](a)),done:!1}:s?s(a):a}:s}}function yU(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof X0=="function"?X0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}}function vU(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Tpe=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},yj=function(t){return yj=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},yj(t)};function xU(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=yj(t),r=0;r<n.length;r++)n[r]!=="default"&&Vw(e,t,n[r]);return Tpe(e,t),e}function bU(t){return t&&t.__esModule?t:{default:t}}function wU(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function SU(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function kU(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function CU(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var Ope=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function _U(t){function e(s){t.error=t.hasError?new Ope(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(a){return e(a),i()})}else r|=1}catch(a){e(a)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function jU(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,a){return r?e?".jsx":".js":i&&(!s||!a)?n:i+s+"."+a.toLowerCase()+"js"}):t}const Ppe={__extends:rU,__assign:hi,__rest:gl,__decorate:iU,__param:sU,__esDecorate:aU,__runInitializers:oU,__propKey:lU,__setFunctionName:cU,__metadata:uU,__awaiter:ce,__generator:dU,__createBinding:Vw,__exportStar:fU,__values:X0,__read:u2,__spread:hU,__spreadArrays:pU,__spreadArray:d2,__await:Jd,__asyncGenerator:mU,__asyncDelegator:gU,__asyncValues:yU,__makeTemplateObject:vU,__importStar:xU,__importDefault:bU,__classPrivateFieldGet:wU,__classPrivateFieldSet:SU,__classPrivateFieldIn:kU,__addDisposableResource:CU,__disposeResources:_U,__rewriteRelativeImportExtension:jU},Ape=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:CU,get __assign(){return hi},__asyncDelegator:gU,__asyncGenerator:mU,__asyncValues:yU,__await:Jd,__awaiter:ce,__classPrivateFieldGet:wU,__classPrivateFieldIn:kU,__classPrivateFieldSet:SU,__createBinding:Vw,__decorate:iU,__disposeResources:_U,__esDecorate:aU,__exportStar:fU,__extends:rU,__generator:dU,__importDefault:bU,__importStar:xU,__makeTemplateObject:vU,__metadata:uU,__param:sU,__propKey:lU,__read:u2,__rest:gl,__rewriteRelativeImportExtension:jU,__runInitializers:oU,__setFunctionName:cU,__spread:hU,__spreadArray:d2,__spreadArrays:pU,__values:X0,default:Ppe},Symbol.toStringTag,{value:"Module"})),Mpe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Uw=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},EU=class extends Uw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},vj=class extends Uw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},xj=class extends Uw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var J0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(J0||(J0={}));class Dpe{constructor(e,{headers:n={},customFetch:r,region:i=J0.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Mpe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ce(this,arguments,void 0,function*(n,r={}){var i;let s,a;try{const{headers:o,method:l,body:c,signal:d,timeout:f}=r;let h={},{region:p}=r;p||(p=this.region);const g=new URL(`${this.url}/${n}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let m;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(h["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(h["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let y=d;f&&(a=new AbortController,s=setTimeout(()=>a.abort(),f),d?(y=a.signal,d.addEventListener("abort",()=>a.abort())):y=a.signal);const v=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:m,signal:y}).catch(w=>{throw new EU(w)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new vj(v);if(!v.ok)throw new xj(v);let b=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return b==="application/json"?k=yield v.json():b==="application/octet-stream"||b==="application/pdf"?k=yield v.blob():b==="text/event-stream"?k=v:b==="multipart/form-data"?k=yield v.formData():k=yield v.text(),{data:k,error:null,response:v}}catch(o){return{data:null,error:o,response:o instanceof xj||o instanceof vj?o.context:void 0}}finally{s&&clearTimeout(s)}})}}const Rpe=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return J0},FunctionsClient:Dpe,FunctionsError:Uw,FunctionsFetchError:EU,FunctionsHttpError:xj,FunctionsRelayError:vj},Symbol.toStringTag,{value:"Module"})),NU=hg(Rpe);var Wn={};const qf=hg(Ape);var Ey={},Ny={},Ty={},Oy={},Py={},Ay={},fI;function TU(){if(fI)return Ay;fI=1,Object.defineProperty(Ay,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ay.default=t,Ay}var hI;function OU(){if(hI)return Py;hI=1,Object.defineProperty(Py,"__esModule",{value:!0});const e=qf.__importDefault(TU());let n=class{constructor(i){var s,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,d,f,h;let p=null,g=null,m=null,y=l.status,v=l.statusText;if(l.ok){if(this.method!=="HEAD"){const w=await l.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?g=w:g=JSON.parse(w))}const b=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),k=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");b&&k&&k.length>1&&(m=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,y=406,v="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const b=await l.text();try{p=JSON.parse(b),Array.isArray(p)&&l.status===404&&(g=[],p=null,y=200,v="OK")}catch{l.status===404&&b===""?(y=204,v="No Content"):p={message:b}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,y=200,v="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:g,count:m,status:y,statusText:v}});return this.shouldThrowOnError||(o=o.catch(l=>{var c,d,f,h,p,g;let m="";const y=l==null?void 0:l.cause;if(y){const v=(c=y==null?void 0:y.message)!==null&&c!==void 0?c:"",x=(d=y==null?void 0:y.code)!==null&&d!==void 0?d:"";m=`${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"FetchError"}: ${l==null?void 0:l.message}`,m+=`

Caused by: ${(h=y==null?void 0:y.name)!==null&&h!==void 0?h:"Error"}: ${v}`,x&&(m+=` (${x})`),y!=null&&y.stack&&(m+=`
${y.stack}`)}else m=(p=l==null?void 0:l.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(g=l==null?void 0:l.name)!==null&&g!==void 0?g:"FetchError"}: ${l==null?void 0:l.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(i,s)}returns(){return this}overrideTypes(){return this}};return Py.default=n,Py}var pI;function PU(){if(pI)return Oy;pI=1,Object.defineProperty(Oy,"__esModule",{value:!0});const e=qf.__importDefault(OU());let n=class extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var d;const f=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Oy.default=n,Oy}var mI;function f2(){if(mI)return Ty;mI=1,Object.defineProperty(Ty,"__esModule",{value:!0});const e=qf.__importDefault(PU()),n=new RegExp("[,()]");let r=class extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${c}fts${d}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}};return Ty.default=r,Ty}var gI;function AU(){if(gI)return Ny;gI=1,Object.defineProperty(Ny,"__esModule",{value:!0});const e=qf.__importDefault(f2());let n=class{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=o}select(i,s){const{head:a=!1,count:o}=s??{},l=a?"HEAD":"GET";let c=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var o;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:s}={}){var a;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};return Ny.default=n,Ny}var yI;function Ipe(){if(yI)return Ey;yI=1,Object.defineProperty(Ey,"__esModule",{value:!0});const t=qf,e=t.__importDefault(AU()),n=t.__importDefault(f2());let r=class MU{constructor(s,{headers:a={},schema:o,fetch:l}={}){this.url=s,this.headers=new Headers(a),this.schemaName=o,this.fetch=l}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new MU(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:o=!1,get:l=!1,count:c}={}){var d;let f;const h=new URL(`${this.url}/rpc/${s}`);let p;o||l?(f=o?"HEAD":"GET",Object.entries(a).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{h.searchParams.append(m,y)})):(f="POST",p=a);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new n.default({method:f,url:h,headers:g,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return Ey.default=r,Ey}Object.defineProperty(Wn,"__esModule",{value:!0});Wn.PostgrestError=Wn.PostgrestBuilder=Wn.PostgrestTransformBuilder=Wn.PostgrestFilterBuilder=Wn.PostgrestQueryBuilder=Wn.PostgrestClient=void 0;const Kf=qf,DU=Kf.__importDefault(Ipe());Wn.PostgrestClient=DU.default;const RU=Kf.__importDefault(AU());Wn.PostgrestQueryBuilder=RU.default;const IU=Kf.__importDefault(f2());Wn.PostgrestFilterBuilder=IU.default;const $U=Kf.__importDefault(PU());Wn.PostgrestTransformBuilder=$U.default;const LU=Kf.__importDefault(OU());Wn.PostgrestBuilder=LU.default;const BU=Kf.__importDefault(TU());Wn.PostgrestError=BU.default;Wn.default={PostgrestClient:DU.default,PostgrestQueryBuilder:RU.default,PostgrestFilterBuilder:IU.default,PostgrestTransformBuilder:$U.default,PostgrestBuilder:LU.default,PostgrestError:BU.default};class FU{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const $pe="2.87.1",Lpe=`realtime-js/${$pe}`,zU="1.0.0",Bpe="2.0.0",vI=zU,bj=1e4,Fpe=1e3,zpe=100;var Yl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Yl||(Yl={}));var Qt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Qt||(Qt={}));var Yi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Yi||(Yi={}));var wj;(function(t){t.websocket="websocket"})(wj||(wj={}));var Gl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Gl||(Gl={}));class Vpe{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",c=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+c.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(p),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,l.length),g.setUint8(m++,o.length),g.setUint8(m++,a.length),g.setUint8(m++,c.length),g.setUint8(m++,f.length),g.setUint8(m++,n),Array.from(l,v=>g.setUint8(m++,v.charCodeAt(0))),Array.from(o,v=>g.setUint8(m++,v.charCodeAt(0))),Array.from(a,v=>g.setUint8(m++,v.charCodeAt(0))),Array.from(c,v=>g.setUint8(m++,v.charCodeAt(0))),Array.from(f,v=>g.setUint8(m++,v.charCodeAt(0)));var y=new Uint8Array(p.byteLength+r.byteLength);return y.set(new Uint8Array(p),0),y.set(new Uint8Array(r),p.byteLength),y.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,s,a,o,l]=r;return n({join_ref:i,ref:s,topic:a,event:o,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+s));l=l+s;const f=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),p=o===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:p};return a>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class VU{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ut;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ut||(ut={}));const xI=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=Upe(a,t,e,i),s),{}):{}},Upe=(t,e,n,r)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=n[t];return s&&!r.includes(s)?UU(s,a):Sj(a)},UU=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Kpe(e,n)}switch(t){case ut.bool:return Wpe(e);case ut.float4:case ut.float8:case ut.int2:case ut.int4:case ut.int8:case ut.numeric:case ut.oid:return Hpe(e);case ut.json:case ut.jsonb:return qpe(e);case ut.timestamp:return Ype(e);case ut.abstime:case ut.date:case ut.daterange:case ut.int4range:case ut.int8range:case ut.money:case ut.reltime:case ut.text:case ut.time:case ut.timestamptz:case ut.timetz:case ut.tsrange:case ut.tstzrange:return Sj(e);default:return Sj(e)}},Sj=t=>t,Wpe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Hpe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},qpe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Kpe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>UU(e,o))}return t},Ype=t=>typeof t=="string"?t.replace(" ","T"):t,WU=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class dk{constructor(e,n,r={},i=bj){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var kj;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(kj||(kj={}));let HU=class Wv{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wv.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=Wv.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Wv.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),o={},l={};return this.map(s,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const f=s[c];if(f){const h=d.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),g=d.filter(y=>p.indexOf(y.presence_ref)<0),m=f.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(o[c]=g),m.length>0&&(l[c]=m)}else o[c]=d}),this.syncDiff(s,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const d=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),d.length>0){const f=e[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...h)}r(o,d,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Cj;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Cj||(Cj={}));var yd;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(yd||(yd={}));var Ss;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ss||(Ss={}));const Gpe=Qt;let qU=class Gh{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new dk(this,Yi.join,this.params,this.timeout),this.rejoinTimer=new VU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yi.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new HU(this),this.broadcastEndpointURL=WU(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Qt.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[yd.PRESENCE]&&this.bindings[yd.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Ss.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Ss.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(Ss.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,v=[];for(let x=0;x<y;x++){const b=m[x],{filter:{event:k,schema:w,table:C,filter:_}}=b,j=p&&p[x];if(j&&j.event===k&&Gh.isFilterValueEqual(j.schema,w)&&Gh.isFilterValueEqual(j.table,C)&&Gh.isFilterValueEqual(j.filter,_))v.push(Object.assign(Object.assign({},b),{id:j.id}));else{this.unsubscribe(),this.state=Qt.errored,e==null||e(Ss.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Ss.SUBSCRIBED);return}}).receive("error",p=>{this.state=Qt.errored,e==null||e(Ss.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ss.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Qt.joined&&e===yd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new dk(this,Yi.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new dk(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>zpe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=Yi;if(r&&[o,l,c,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,m,y;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(m=p.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(p=>p.callback(h,r)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var g,m,y,v,x,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const k=p.id,w=(g=p.filter)===null||g===void 0?void 0:g.event;return k&&((m=n.ids)===null||m===void 0?void 0:m.includes(k))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const k=(x=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return k==="*"||k===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:y,commit_timestamp:v,type:x,errors:b}=g;h=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:v,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(g))}p.callback(h,r)})}_isClosed(){return this.state===Qt.closed}_isJoined(){return this.state===Qt.joined}_isJoining(){return this.state===Qt.joining}_isLeaving(){return this.state===Qt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Gh.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Yi.close,{},e)}_onError(e){this._on(Yi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=xI(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=xI(e.columns,e.old_record)),n}};const fk=()=>{},My={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Qpe=[1e3,2e3,5e3,1e4],Xpe=1e4,Jpe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Zpe=class{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bj,this.transport=null,this.heartbeatIntervalMs=My.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fk,this.ref=0,this.reconnectTimer=null,this.vsn=vI,this.logger=fk,this.conn=null,this.sendBuffer=[],this.serializer=new Vpe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${wj.websocket}`,this.httpEndpoint=WU(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=FU.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Yl.connecting:return Gl.Connecting;case Yl.open:return Gl.Open;case Yl.closing:return Gl.Closing;default:return Gl.Closed}}isConnected(){return this.connectionState()===Gl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new qU(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Fpe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},My.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:a}=n,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Yl.open||this.conn.readyState===Yl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Yi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Jpe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:Lpe};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Yi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new VU(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},My.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,a,o,l,c,d,f,h,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:bj,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:My.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:fk,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:vI,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:g=>Qpe[g-1]||Xpe,this.vsn){case zU:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(g,m)=>m(JSON.stringify(g)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(g,m)=>m(JSON.parse(g));break;case Bpe:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const eme=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:Gpe,get REALTIME_LISTEN_TYPES(){return yd},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Cj},get REALTIME_PRESENCE_LISTEN_EVENTS(){return kj},get REALTIME_SUBSCRIBE_STATES(){return Ss},RealtimeChannel:qU,RealtimeClient:Zpe,RealtimePresence:HU,WebSocketFactory:FU},Symbol.toStringTag,{value:"Module"})),KU=hg(eme);class Ng extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function St(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class YU extends Ng{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Z0 extends Ng{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const h2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tme=()=>Response,_j=t=>{if(Array.isArray(t))return t.map(n=>_j(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=_j(r)}),e},nme=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rme=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),hk=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},ime=(t,e,n)=>ce(void 0,void 0,void 0,function*(){const r=yield tme();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new YU(hk(i),s,a))}).catch(i=>{e(new Z0(hk(i),i))}):e(new Z0(hk(t),t))}),sme=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(nme(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Tg(t,e,n,r,i,s){return ce(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(n,sme(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>ime(l,o,r))})})}function hm(t,e,n,r){return ce(this,void 0,void 0,function*(){return Tg(t,"GET",e,n,r)})}function Wi(t,e,n,r,i){return ce(this,void 0,void 0,function*(){return Tg(t,"POST",e,r,i,n)})}function jj(t,e,n,r,i){return ce(this,void 0,void 0,function*(){return Tg(t,"PUT",e,r,i,n)})}function ame(t,e,n,r){return ce(this,void 0,void 0,function*(){return Tg(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function p2(t,e,n,r,i){return ce(this,void 0,void 0,function*(){return Tg(t,"DELETE",e,r,i,n)})}class ome{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return ce(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(St(e))return{data:null,error:e};throw e}})}}var GU;class lme{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[GU]="BlobDownloadBuilder",this.promise=null}asStream(){return new ome(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ce(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(St(e))return{data:null,error:e};throw e}})}}GU=Symbol.toStringTag;const cme={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ume{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=h2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return ce(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},bI),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield(e=="PUT"?jj:Wi)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(St(s))return{data:null,error:s};throw s}})}upload(e,n,r){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return ce(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:bI.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield jj(this.fetch,o.toString(),l,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(St(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return ce(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Wi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new Ng("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}update(e,n,r){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ce(this,void 0,void 0,function*(){try{return{data:yield Wi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}copy(e,n,r){return ce(this,void 0,void 0,function*(){try{return{data:{path:(yield Wi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return ce(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Wi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return ce(this,void 0,void 0,function*(){try{const i=yield Wi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"",o=this._getFinalPath(e),l=()=>hm(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new lme(l,this.shouldThrowOnError)}info(e){return ce(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield hm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:_j(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}exists(e){return ce(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield ame(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r)&&r instanceof Z0){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${c}`)}}}remove(e){return ce(this,void 0,void 0,function*(){try{return{data:yield p2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}list(e,n,r){return ce(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},cme),n),{prefix:e||""});return{data:yield Wi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}listV2(e,n){return ce(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Wi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const QU="2.87.1",XU={"X-Client-Info":`storage-js/${QU}`};class dme{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},XU),n),this.fetch=h2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ce(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield hm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}getBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:yield hm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}createBucket(e){return ce(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Wi(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return ce(this,void 0,void 0,function*(){try{return{data:yield jj(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:yield Wi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:yield p2(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var pm=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function fme(t,e,n){const r=new URL(e,t);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function hme(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function pme(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:a}){const o=fme(t.baseUrl,r,i),l=await hme(t.auth),c=await e(o,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!c.ok){const p=f?h:void 0,g=p==null?void 0:p.error;throw new pm((g==null?void 0:g.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:c.status,headers:c.headers,data:h}}}}function Dy(t){return t.join("")}var mme=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Dy(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Dy(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dy(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Dy(t.namespace)}`}),!0}catch(e){if(e instanceof pm&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof pm&&n.status===409)return;throw n}}};function yu(t){return t.join("")}var gme=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yu(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yu(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yu(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yu(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yu(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yu(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof pm&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof pm&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},yme=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=pme({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new mme(this.client,e),this.tableOps=new gme(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class JU{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},XU),n),this.fetch=h2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:yield Wi(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}listBuckets(e){return ce(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield hm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:yield p2(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}from(e){if(!rme(e))throw new Ng("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new yme({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>ce(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,a){const o=s[a];return typeof o!="function"?o:(...l)=>ce(this,void 0,void 0,function*(){try{return{data:yield o.apply(s,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}})}})}}const m2={"X-Client-Info":`storage-js/${QU}`,"Content-Type":"application/json"};class g2 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function wr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Hv extends g2{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ZU extends g2{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Ej;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ej||(Ej={}));const Ww=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),vme=()=>Response,eW=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},xme=t=>Array.from(new Float32Array(t)),bme=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},wI=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wme=(t,e,n)=>ce(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new Hv(wI(a),i,o))}).catch(()=>{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new Hv(o,i,a))});else{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new Hv(o,i,a))}}else e(new ZU(wI(t),t))}),Sme=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(eW(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function kme(t,e,n,r,i,s){return ce(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(n,Sme(e,r,i,s)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>wme(l,o,r))})})}function Br(t,e,n,r,i){return ce(this,void 0,void 0,function*(){return kme(t,"POST",e,r,i,n)})}class tW{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},m2),n),this.fetch=Ww(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ce(this,void 0,void 0,function*(){try{return{data:(yield Br(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}})}getIndex(e,n){return ce(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}})}listIndexes(e){return ce(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return ce(this,void 0,void 0,function*(){try{return{data:(yield Br(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}})}}class nW{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},m2),n),this.fetch=Ww(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ce(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Br(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}})}getVectors(e){return ce(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}})}listVectors(e){return ce(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Br(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}})}queryVectors(e){return ce(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}})}deleteVectors(e){return ce(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Br(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}})}}class rW{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},m2),n),this.fetch=Ww(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:(yield Br(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}})}getBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}})}listBuckets(){return ce(this,arguments,void 0,function*(e={}){try{return{data:yield Br(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:(yield Br(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}})}}class iW extends rW{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new sW(this.url,this.headers,e,this.fetch)}createBucket(e){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ce(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ce(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ce(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ce(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}}class sW extends tW{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ce(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ce(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ce(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ce(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new aW(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class aW extends nW{constructor(e,n,r,i,s){super(e,n,s),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ce(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ce(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ce(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ce(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ce(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Cme extends dme{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new ume(this.url,this.headers,e,this.fetch)}get vectors(){return new iW(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new JU(this.url+"/iceberg",this.headers,this.fetch)}}const _me=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:JU,StorageApiError:YU,StorageClient:Cme,StorageError:Ng,StorageUnknownError:Z0,StorageVectorsApiError:Hv,StorageVectorsClient:iW,StorageVectorsError:g2,get StorageVectorsErrorCode(){return Ej},StorageVectorsUnknownError:ZU,VectorBucketApi:rW,VectorBucketScope:sW,VectorDataApi:nW,VectorIndexApi:tW,VectorIndexScope:aW,isPlainObject:eW,isStorageError:St,isStorageVectorsError:wr,normalizeToFloat32:xme,resolveFetch:Ww,resolveResponse:vme,validateVectorDimension:bme},Symbol.toStringTag,{value:"Module"})),jme=hg(_me);var oW={},Hw={};Object.defineProperty(Hw,"__esModule",{value:!0});Hw.version=void 0;Hw.version="2.87.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=Hw;let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(oW);var lW={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=i=>i?(...s)=>i(...s):(...s)=>fetch(...s);t.resolveFetch=e;const n=()=>Headers;t.resolveHeadersConstructor=n;const r=(i,s,a)=>{const o=(0,t.resolveFetch)(a),l=(0,t.resolveHeadersConstructor)();return async(c,d)=>{var f;const h=(f=await s())!==null&&f!==void 0?f:i;let p=new l(d==null?void 0:d.headers);return p.has("apikey")||p.set("apikey",i),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),o(c,Object.assign(Object.assign({},d),{headers:p}))}};t.fetchWithAuth=r})(lW);var yl={};Object.defineProperty(yl,"__esModule",{value:!0});yl.isBrowser=void 0;yl.uuid=Eme;yl.ensureTrailingSlash=cW;yl.applySettingDefaults=Tme;yl.validateSupabaseUrl=Ome;function Eme(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t=="x"?e:e&3|8;return n.toString(16)})}function cW(t){return t.endsWith("/")?t:t+"/"}const Nme=()=>typeof window<"u";yl.isBrowser=Nme;function Tme(t,e){var n,r;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:c,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Ome(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(cW(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var qw={};const uW="2.87.1",Au=30*1e3,Nj=3,pk=Nj*Au,Pme="http://localhost:9999",Ame="supabase.auth.token",Mme={"X-Client-Info":`gotrue-js/${uW}`},Tj="X-Supabase-Api-Version",dW={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dme=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rme=10*60*1e3;let Zd=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function fe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let fW=class extends Zd{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function hW(t){return fe(t)&&t.name==="AuthApiError"}let go=class extends Zd{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},Va=class extends Zd{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}},pr=class extends Va{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function pW(t){return fe(t)&&t.name==="AuthSessionMissingError"}let zl=class extends Va{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Qh=class extends Va{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Xh=class extends Va{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function mW(t){return fe(t)&&t.name==="AuthImplicitGrantRedirectError"}let Oj=class extends Va{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ex=class extends Va{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function qv(t){return fe(t)&&t.name==="AuthRetryableFetchError"}let Pj=class extends Va{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function Ime(t){return fe(t)&&t.name==="AuthWeakPasswordError"}let tx=class extends Va{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const nx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),SI=` 	
\r=`.split(""),$me=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<SI.length;e+=1)t[SI[e].charCodeAt(0)]=-2;for(let e=0;e<nx.length;e+=1)t[nx[e].charCodeAt(0)]=e;return t})();function kI(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(nx[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(nx[r]),e.queuedBits-=6}}function gW(t,e,n){const r=$me[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function CI(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{Fme(a,r,n)};for(let a=0;a<t.length;a+=1)gW(t.charCodeAt(a),i,s);return e.join("")}function Lme(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Bme(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Lme(r,e)}}function Fme(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function vd(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)gW(t.charCodeAt(i),n,r);return new Uint8Array(e)}function zme(t){const e=[];return Bme(t,n=>e.push(n)),new Uint8Array(e)}function rc(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>kI(i,n,r)),kI(null,n,r),e.join("")}function Vme(t){return Math.round(Date.now()/1e3)+t}function Ume(){return Symbol("auth-callback")}const Cn=()=>typeof window<"u"&&typeof document<"u",Al={tested:!1,writable:!1},yW=()=>{if(!Cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Al.tested)return Al.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Al.tested=!0,Al.writable=!0}catch{Al.tested=!0,Al.writable=!1}return Al.writable};function Wme(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const vW=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Hme=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Mu=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ml=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},kn=async(t,e)=>{await t.removeItem(e)};class Kw{constructor(){this.promise=new Kw.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Kw.promiseConstructor=Promise;function mk(t){const e=t.split(".");if(e.length!==3)throw new tx("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Dme.test(e[r]))throw new tx("JWT not in base64url format");return{header:JSON.parse(CI(e[0])),payload:JSON.parse(CI(e[1])),signature:vd(e[2]),raw:{header:e[0],payload:e[1]}}}async function qme(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Kme(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function Yme(t){return("0"+t.toString(16)).substr(-2)}function Gme(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Yme).join("")}async function Qme(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Xme(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Qme(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vu(t,e,n=!1){const r=Gme();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Mu(t,`${e}-code-verifier`,i);const s=await Xme(r);return[s,r===s?"plain":"s256"]}const Jme=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zme(t){const e=t.headers.get(Tj);if(!e||!e.match(Jme))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ege(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function tge(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nge=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xu(t){if(!nge.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gk(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rge(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function _I(t){return JSON.parse(JSON.stringify(t))}const Vl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ige=[502,503,504];async function jI(t){var e;if(!Hme(t))throw new ex(Vl(t),0);if(ige.includes(t.status))throw new ex(Vl(t),t.status);let n;try{n=await t.json()}catch(s){throw new go(Vl(s),s)}let r;const i=Zme(t);if(i&&i.getTime()>=dW["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Pj(Vl(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new pr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new Pj(Vl(n),t.status,n.weak_password.reasons);throw new fW(Vl(n),t.status||500,r)}const sge=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function xe(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Tj]||(s[Tj]=dW["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await age(t,e,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function age(t,e,n,r,i,s){const a=sge(e,r,i,s);let o;try{o=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new ex(Vl(l),0)}if(o.ok||await jI(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await jI(l)}}function Bi(t){var e;let n=null;cge(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Vme(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function EI(t){const e=Bi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function oge(t){return{data:t,error:null}}function lge(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=gl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function NI(t){return t}function cge(t){return t.access_token&&t.refresh_token&&t.expires_in}const Kv=["global","local","others"];let y2=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=vW(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Kv[0]){if(Kv.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kv.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yo})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=gl(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:lge,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(fe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yo})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:NI});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(fe(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){xu(e);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yo})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){xu(e);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:yo})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){xu(e);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:yo})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){xu(e.userId);try{const{data:n,error:r}=await xe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){xu(e.userId),xu(e.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:NI});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(fe(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(fe(n))return{data:null,error:n};throw n}}};function TI(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Ul={debug:!!(globalThis&&yW()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class v2 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let xW=class extends v2{};class uge extends v2{}async function bW(t,e,n){Ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ul.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xW(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ul.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const OI={};async function dge(t,e,n){var r;const i=(r=OI[t])!==null&&r!==void 0?r:Promise.resolve(),s=Promise.race([i.catch(()=>null),e>=0?new Promise((a,o)=>{setTimeout(()=>{o(new uge(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(a=>a)).catch(a=>{if(a&&a.isAcquireTimeout)throw a;return null}).then(async()=>await n());return OI[t]=s.catch(async a=>{if(a&&a.isAcquireTimeout)return await i,null;throw a}),await s}function fge(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function wW(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function hge(t){return parseInt(t,16)}function pge(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function mge(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=wW(t.address),g=d?`${d}://${r}`:r,m=t.statement?`${t.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${p}

${m}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),o&&(v+=`
Not Before: ${o.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let x=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}v+=x}return`${y}
${v}`}class Jt extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class rx extends Jt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function gge({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Jt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(SW(a)){if(s.rp.id!==a)return new Jt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function yge({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Jt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(SW(r)){if(n.rpId!==r)return new Jt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class vge{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const xge=new vge;function bge(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=gl(t,["challenge","user","excludeCredentials"]),s=vd(e).buffer,a=Object.assign(Object.assign({},n),{id:vd(n.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:vd(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function wge(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=gl(t,["challenge","allowCredentials"]),i=vd(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:vd(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function Sge(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:rc(new Uint8Array(t.response.attestationObject)),clientDataJSON:rc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kge(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:rc(new Uint8Array(i.authenticatorData)),clientDataJSON:rc(new Uint8Array(i.clientDataJSON)),signature:rc(new Uint8Array(i.signature)),userHandle:i.userHandle?rc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function SW(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function PI(){var t,e;return!!(Cn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Cge(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new rx("Browser returned unexpected credential type",e)}:{data:null,error:new rx("Empty credential response",e)}}catch(e){return{data:null,error:gge({error:e,options:t})}}}async function _ge(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new rx("Browser returned unexpected credential type",e)}:{data:null,error:new rx("Empty credential response",e)}}catch(e){return{data:null,error:yge({error:e,options:t})}}}const jge={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ege={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ix(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(e(a)){const o=r[s];e(o)?r[s]=ix(o,a):r[s]=ix(a)}else r[s]=a}return r}function Nge(t,e){return ix(jge,t,e||{})}function Tge(t,e){return ix(Ege,t,e||{})}class Oge{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:o};const l=i??xge.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=Nge(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:f}=await Cge({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=Tge(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:f}=await _ge(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return fe(a)?{data:null,error:a}:{data:null,error:new go("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Zd("rpId is required for WebAuthn authentication")};try{if(!PI())return{data:null,error:new go("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return fe(a)?{data:null,error:a}:{data:null,error:new go("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Zd("rpId is required for WebAuthn registration")};try{if(!PI())return{data:null,error:new go("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return fe(a)?{data:null,error:a}:{data:null,error:new go("Unexpected error in register",a)}}}}fge();const Pge={url:Pme,storageKey:Ame,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Mme,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function AI(t,e,n){return await n()}const bu={};let x2=class Aj{get jwks(){var e,n;return(n=(e=bu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){bu[this.storageKey]=Object.assign(Object.assign({},bu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=bu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bu[this.storageKey]=Object.assign(Object.assign({},bu[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Pge),e);if(this.storageKey=s.storageKey,this.instanceID=(n=Aj.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Aj.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Cn()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new y2({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=vW(s.fetch),this.lock=s.lock||AI,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&Cn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=bW:this.lock=AI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Oge(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:yW()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=TI(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=TI(this.memoryStorage)),Cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${uW}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Cn()&&(n=Wme(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Cn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),mW(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return fe(n)?this._returnResult({error:n}):this._returnResult({error:new go("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Bi}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(fe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await vu(this.storage,this.storageKey)),s=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:Bi})}else if("phone"in e){const{phone:d,password:f,options:h}=e;s=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Bi})}else throw new Qh("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await kn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(await kn(this.storage,`${this.storageKey}-code-verifier`),fe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:o}=e;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:EI})}else if("phone"in e){const{phone:s,password:a,options:o}=e;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:EI})}else throw new Qh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new zl;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,a,o,l,c,d,f,h;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:m,wallet:y,statement:v,options:x}=e;let b;if(Cn())if(typeof y=="object")b=y;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")b=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const k=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),w=await b.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=wW(w[0]);let _=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!_){const N=await b.request({method:"eth_chainId"});_=hge(N)}const j={domain:k.host,address:C,statement:v,uri:k.href,version:"1",chainId:_,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=mge(j),g=await b.request({method:"personal_sign",params:[pge(p),C]})}try{const{data:m,error:y}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Bi});if(y)throw y;if(!m||!m.session||!m.user){const v=new zl;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:y})}catch(m){if(fe(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var n,r,i,s,a,o,l,c,d,f,h,p;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:y,wallet:v,statement:x,options:b}=e;let k;if(Cn())if(typeof v=="object")k=v;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))k=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=v}const w=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const C=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),x?{statement:x}:null));let _;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")_=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)_=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)g=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),m=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${w.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const C=await k.signMessage(new TextEncoder().encode(g),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=C}}try{const{data:y,error:v}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:rc(m)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Bi});if(v)throw v;if(!y||!y.session||!y.user){const x=new zl;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(fe(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const n=await Ml(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Bi});if(await kn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new zl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await kn(this.storage,`${this.storageKey}-code-verifier`),fe(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,o=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Bi}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new zl;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await vu(this.storage,this.storageKey));const{error:f}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:d}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Qh("You must provide either an email or phone number.")}catch(o){if(await kn(this.storage,`${this.storageKey}-code-verifier`),fe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Bi});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(fe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await vu(this.storage,this.storageKey));const c=await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:oge});return!((s=c.data)===null||s===void 0)&&s.url&&Cn()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await kn(this.storage,`${this.storageKey}-code-verifier`),fe(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new pr;const{error:i}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(fe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:o}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Qh("You must provide either an email or phone number and a type")}catch(n){if(fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ml(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<pk:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Ml(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=gk()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=rge(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yo}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pr}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:yo})})}catch(n){if(fe(n))return pW(n)&&(await this._removeSession(),await kn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new pr;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await vu(this.storage,this.storageKey));const{data:c,error:d}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:yo});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await kn(this.storage,`${this.storageKey}-code-verifier`),fe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new pr;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=mk(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(fe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new pr;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Cn())throw new Xh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Oj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Oj("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!a||!c)throw new Xh("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Au&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:m,error:y}=await this._getUser(s);if(y)throw y;const v={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(r){if(fe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ml(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({error:s});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(hW(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await kn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Ume(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await vu(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await kn(this.storage,`${this.storageKey}-code-verifier`),fe(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,l,c,d;const{data:f,error:h}=s;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Cn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(fe(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:o,token:l,access_token:c,nonce:d}=e,f=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bi}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new zl}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(i){if(await kn(this.storage,`${this.storageKey}-code-verifier`),fe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Kme(async i=>(i>0&&await qme(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Bi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&qv(s)&&Date.now()+a-r<Au})}catch(r){if(this._debug(n,"error",r),fe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Cn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ml(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ml(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Mu(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:gk()}else if(i&&!i.user&&!i.user){const a=await Ml(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await kn(this.storage,this.storageKey+"-user"),await Mu(this.storage,this.storageKey,i)):i.user=gk()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<pk;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${pk}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),qv(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new pr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Kw;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new pr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),fe(s)){const a={data:null,error:s};return qv(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await kn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Mu(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=_I(i);await Mu(this.storage,this.storageKey,s)}else{const i=_I(n);await Mu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await kn(this.storage,this.storageKey),await kn(this.storage,this.storageKey+"-code-verifier"),await kn(this.storage,this.storageKey+"-user"),this.userStorage&&await kn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Cn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Au);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Au);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Au}ms, refresh threshold is ${Nj} ticks`),i<=Nj&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof v2)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Cn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await vu(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await xe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Sge(e.webauthn.credential_response):kge(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:bge(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:wge(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=mk(r.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const c=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new pr})})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new pr});const a=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Cn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new pr});const a=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Cn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await xe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new pr})})}catch(e){if(fe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await xe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pr})})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Rme>i)return r;const{data:s,error:a}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});r=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=mk(r);n!=null&&n.allowExpired||ege(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const d=tge(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,zme(`${o}.${l}`)))throw new tx("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}};x2.nextInstanceID={};const Age=y2,Mge=x2,Dge=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:Age,AuthApiError:fW,AuthClient:Mge,AuthError:Zd,AuthImplicitGrantRedirectError:Xh,AuthInvalidCredentialsError:Qh,AuthInvalidJwtError:tx,AuthInvalidTokenResponseError:zl,AuthPKCEGrantCodeExchangeError:Oj,AuthRetryableFetchError:ex,AuthSessionMissingError:pr,AuthUnknownError:go,AuthWeakPasswordError:Pj,CustomAuthError:Va,GoTrueAdminApi:y2,GoTrueClient:x2,NavigatorLockAcquireTimeoutError:xW,SIGN_OUT_SCOPES:Kv,isAuthApiError:hW,isAuthError:fe,isAuthImplicitGrantRedirectError:mW,isAuthRetryableFetchError:qv,isAuthSessionMissingError:pW,isAuthWeakPasswordError:Ime,lockInternals:Ul,navigatorLock:bW,processLock:dge},Symbol.toStringTag,{value:"Module"})),kW=hg(Dge);Object.defineProperty(qw,"__esModule",{value:!0});qw.SupabaseAuthClient=void 0;const Rge=kW;class Ige extends Rge.AuthClient{constructor(e){super(e)}}qw.SupabaseAuthClient=Ige;Object.defineProperty(Q0,"__esModule",{value:!0});const $ge=NU,Lge=Wn,Bge=KU,Fge=jme,Ry=oW,zge=lW,MI=yl,Vge=qw;let Uge=class{constructor(e,n,r){var i,s,a;this.supabaseUrl=e,this.supabaseKey=n;const o=(0,MI.validateSupabaseUrl)(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:Ry.DEFAULT_DB_OPTIONS,realtime:Ry.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},Ry.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:Ry.DEFAULT_GLOBAL_OPTIONS},d=(0,MI.applySettingDefaults)(r??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=(0,zge.fetchWithAuth)(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new Lge.PostgrestClient(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Fge.StorageClient(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new $ge.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:a,flowType:o,lock:l,debug:c,throwOnError:d},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vge.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Bge.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};Q0.default=Uge;(function(t){var e=js&&js.__createBinding||(Object.create?function(d,f,h,p){p===void 0&&(p=h);var g=Object.getOwnPropertyDescriptor(f,h);(!g||("get"in g?!f.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(d,p,g)}:function(d,f,h,p){p===void 0&&(p=h),d[p]=f[h]}),n=js&&js.__exportStar||function(d,f){for(var h in d)h!=="default"&&!Object.prototype.hasOwnProperty.call(f,h)&&e(f,d,h)},r=js&&js.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const i=r(Q0);n(kW,t);var s=Wn;Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return s.PostgrestError}});var a=NU;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return a.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return a.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return a.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return a.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return a.FunctionRegion}}),n(KU,t);var o=Q0;Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return r(o).default}});const l=(d,f,h)=>new i.default(d,f,h);t.createClient=l;function c(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const f=d.match(/^v(\d+)\./);return f?parseInt(f[1],10)<=18:!1}c()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(c2);const CW=tt(c2),Wge=EF({__proto__:null,default:CW},[c2]),{PostgrestError:GKe,FunctionsHttpError:QKe,FunctionsFetchError:XKe,FunctionsRelayError:JKe,FunctionsError:ZKe,FunctionRegion:eYe,SupabaseClient:tYe,createClient:Hge,GoTrueAdminApi:nYe,GoTrueClient:rYe,AuthAdminApi:iYe,AuthClient:sYe,navigatorLock:aYe,NavigatorLockAcquireTimeoutError:oYe,lockInternals:lYe,processLock:cYe,SIGN_OUT_SCOPES:uYe,AuthError:dYe,AuthApiError:fYe,AuthUnknownError:hYe,CustomAuthError:pYe,AuthSessionMissingError:mYe,AuthInvalidTokenResponseError:gYe,AuthInvalidCredentialsError:yYe,AuthImplicitGrantRedirectError:vYe,AuthPKCEGrantCodeExchangeError:xYe,AuthRetryableFetchError:bYe,AuthWeakPasswordError:wYe,AuthInvalidJwtError:SYe,isAuthError:kYe,isAuthApiError:CYe,isAuthSessionMissingError:_Ye,isAuthImplicitGrantRedirectError:jYe,isAuthRetryableFetchError:EYe,isAuthWeakPasswordError:NYe,RealtimePresence:TYe,RealtimeChannel:OYe,RealtimeClient:PYe,REALTIME_LISTEN_TYPES:AYe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:MYe,REALTIME_PRESENCE_LISTEN_EVENTS:DYe,REALTIME_SUBSCRIBE_STATES:RYe,REALTIME_CHANNEL_STATES:IYe}=CW||Wge,qge=void 0,Kge=void 0;throw new Error("Missing Supabase environment variables.  Please check your .env. local file or Vercel settings.");const oe=Hge(qge,Kge),vl=hs((t,e)=>({villas:[],isLoading:!1,error:null,fetchVillas:async()=>{t({isLoading:!0,error:null});try{const{data:n,error:r}=await oe.from("villas").select("*").order("created_at",{ascending:!1});if(r)throw r;t({villas:n||[],isLoading:!1})}catch(n){t({isLoading:!1,error:`Failed to fetch villas: ${n.message}`})}},fetchVillaById:async n=>{t({isLoading:!0,error:null});try{const{data:r,error:i}=await oe.from("villas").select("*").eq("id",n).single();if(i)throw i;return r?(t(s=>{const a=s.villas.findIndex(l=>l.id===n),o=[...s.villas];return a!==-1?o[a]=r:o.push(r),{villas:o,isLoading:!1}}),r):null}catch(r){return t({isLoading:!1,error:`Failed to fetch villa (id: ${n}): ${r.message}`}),null}},createVilla:async n=>{t({isLoading:!0,error:null});try{const r=DI(n),{data:i,error:s}=await oe.from("villas").insert([r]).select().single();if(s)throw s;const a=i;return t(o=>({villas:[a,...o.villas],isLoading:!1})),a}catch(r){const i=`Failed to create villa: ${r.message}`;return t({isLoading:!1,error:i}),null}},updateVilla:async(n,r)=>{t({isLoading:!0,error:null});try{const i=DI(r),{data:s,error:a}=await oe.from("villas").update(i).eq("id",n).select().single();if(a)throw a;return t(o=>({villas:o.villas.map(l=>l.id===n?s:l),isLoading:!1})),!0}catch(i){const s=`Failed to update villa: ${i.message}`;return t({isLoading:!1,error:s}),!1}},deleteVilla:async n=>{t({isLoading:!0,error:null});try{const{error:r}=await oe.from("villas").delete().eq("id",n);if(r)throw r;return t(i=>({villas:i.villas.filter(s=>s.id!==n),isLoading:!1})),!0}catch(r){return t({isLoading:!1,error:`Failed to delete villa: ${r.message}`}),!1}},clearError:()=>t({error:null})}));function DI(t){const e={};return t.name!==void 0&&(e.name=String(t.name).trim()),t.tagline!==void 0&&(e.tagline=String(t.tagline).trim()),t.description!==void 0&&(e.description=String(t.description).trim()),t.location!==void 0&&(e.location=String(t.location).trim()),t.price_per_night!==void 0&&(e.price_per_night=Number(t.price_per_night)),e}function Yge(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const a=l=>l===null?null:JSON.parse(l,void 0),o=(s=n.getItem(i))!=null?s:null;return o instanceof Promise?o.then(a):a(o)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Mj=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Mj(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Mj(r)(n)}}}},Gge=(t,e)=>(n,r,i)=>{let s={storage:Yge(()=>localStorage),partialize:m=>m,version:0,merge:(m,y)=>({...y,...m}),...e},a=!1;const o=new Set,l=new Set;let c=s.storage;if(!c)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...m)},r,i);const d=()=>{const m=s.partialize({...r()});return c.setItem(s.name,{state:m,version:s.version})},f=i.setState;i.setState=(m,y)=>(f(m,y),d());const h=t((...m)=>(n(...m),d()),r,i);i.getInitialState=()=>h;let p;const g=()=>{var m,y;if(!c)return;a=!1,o.forEach(x=>{var b;return x((b=r())!=null?b:h)});const v=((y=s.onRehydrateStorage)==null?void 0:y.call(s,(m=r())!=null?m:h))||void 0;return Mj(c.getItem.bind(c))(s.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==s.version){if(s.migrate){const b=s.migrate(x.state,x.version);return b instanceof Promise?b.then(k=>[!0,k]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var b;const[k,w]=x;if(p=s.merge(w,(b=r())!=null?b:h),n(p,!0),k)return d()}).then(()=>{v==null||v(p,void 0),p=r(),a=!0,l.forEach(x=>x(p))}).catch(x=>{v==null||v(void 0,x)})};return i.persist={setOptions:m=>{s={...s,...m},m.storage&&(c=m.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>a,onHydrate:m=>(o.add(m),()=>{o.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},s.skipHydration||g(),p||h},_W=Gge;function bt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function fs(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function jW(t,e){const n=bt(t);return isNaN(e)?fs(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function mm(t,e){const n=bt(t);if(isNaN(e))return fs(t,NaN);if(!e)return n;const r=n.getDate(),i=fs(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const EW=6048e5,Qge=864e5,NW=6e4,TW=36e5;let Xge={};function Yw(){return Xge}function gm(t,e){var o,l,c,d;const n=Yw(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=bt(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function sx(t){return gm(t,{weekStartsOn:1})}function OW(t){const e=bt(t),n=e.getFullYear(),r=fs(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=sx(r),s=fs(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=sx(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function ym(t){const e=bt(t);return e.setHours(0,0,0,0),e}function RI(t){const e=bt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function PW(t,e){const n=ym(t),r=ym(e),i=+n-RI(n),s=+r-RI(r);return Math.round((i-s)/Qge)}function Jge(t){const e=OW(t),n=fs(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),sx(n)}function AW(t){return fs(t,Date.now())}function ax(t,e){const n=ym(t),r=ym(e);return+n==+r}function Zge(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function eye(t){if(!Zge(t)&&typeof t!="number")return!1;const e=bt(t);return!isNaN(Number(e))}function Du(t,e){const n=bt(t),r=bt(e),i=II(n,r),s=Math.abs(PW(n,r));n.setDate(n.getDate()-i*s);const a=+(II(n,r)===-i),o=i*(s-a);return o===0?0:o}function II(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function kc(t){const e=bt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Gw(t,e){const n=bt(t.start),r=bt(t.end);let i=+n>+r;const s=i?+n:+r,a=i?r:n;a.setHours(0,0,0,0);let o=1;const l=[];for(;+a<=s;)l.push(bt(a)),a.setDate(a.getDate()+o),a.setHours(0,0,0,0);return i?l.reverse():l}function qo(t){const e=bt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function tye(t){const e=bt(t),n=fs(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const nye={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rye=(t,e,n)=>{let r;const i=nye[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function yk(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const iye={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sye={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aye={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oye={date:yk({formats:iye,defaultWidth:"full"}),time:yk({formats:sye,defaultWidth:"full"}),dateTime:yk({formats:aye,defaultWidth:"full"})},lye={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cye=(t,e,n,r)=>lye[t];function Eh(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const uye={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dye={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fye={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hye={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gye=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},yye={ordinalNumber:gye,era:Eh({values:uye,defaultWidth:"wide"}),quarter:Eh({values:dye,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Eh({values:fye,defaultWidth:"wide"}),day:Eh({values:hye,defaultWidth:"wide"}),dayPeriod:Eh({values:pye,defaultWidth:"wide",formattingValues:mye,defaultFormattingWidth:"wide"})};function Nh(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?xye(o,f=>f.test(a)):vye(o,f=>f.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}function vye(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function xye(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function bye(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const wye=/^(\d+)(th|st|nd|rd)?/i,Sye=/\d+/i,kye={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Cye={any:[/^b/i,/^(a|c)/i]},_ye={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jye={any:[/1/i,/2/i,/3/i,/4/i]},Eye={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Nye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Tye={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Oye={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pye={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Aye={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Mye={ordinalNumber:bye({matchPattern:wye,parsePattern:Sye,valueCallback:t=>parseInt(t,10)}),era:Nh({matchPatterns:kye,defaultMatchWidth:"wide",parsePatterns:Cye,defaultParseWidth:"any"}),quarter:Nh({matchPatterns:_ye,defaultMatchWidth:"wide",parsePatterns:jye,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Nh({matchPatterns:Eye,defaultMatchWidth:"wide",parsePatterns:Nye,defaultParseWidth:"any"}),day:Nh({matchPatterns:Tye,defaultMatchWidth:"wide",parsePatterns:Oye,defaultParseWidth:"any"}),dayPeriod:Nh({matchPatterns:Pye,defaultMatchWidth:"any",parsePatterns:Aye,defaultParseWidth:"any"})},Dye={code:"en-US",formatDistance:rye,formatLong:oye,formatRelative:cye,localize:yye,match:Mye,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Rye(t){const e=bt(t);return PW(e,tye(e))+1}function Iye(t){const e=bt(t),n=+sx(e)-+Jge(e);return Math.round(n/EW)+1}function MW(t,e){var d,f,h,p;const n=bt(t),r=n.getFullYear(),i=Yw(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=fs(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=gm(a,e),l=fs(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=gm(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function $ye(t,e){var o,l,c,d;const n=Yw(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=MW(t,e),s=fs(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),gm(s,e)}function Lye(t,e){const n=bt(t),r=+gm(n,e)-+$ye(n,e);return Math.round(r/EW)+1}function Je(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const to={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Je(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Je(n+1,2)},d(t,e){return Je(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Je(t.getHours()%12||12,e.length)},H(t,e){return Je(t.getHours(),e.length)},m(t,e){return Je(t.getMinutes(),e.length)},s(t,e){return Je(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Je(i,e.length)}},wu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$I={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return to.y(t,e)},Y:function(t,e,n,r){const i=MW(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Je(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Je(s,e.length)},R:function(t,e){const n=OW(t);return Je(n,e.length)},u:function(t,e){const n=t.getFullYear();return Je(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Je(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Je(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return to.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Je(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Lye(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Je(i,e.length)},I:function(t,e,n){const r=Iye(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Je(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):to.d(t,e)},D:function(t,e,n){const r=Rye(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Je(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Je(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Je(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Je(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=wu.noon:r===0?i=wu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=wu.evening:r>=12?i=wu.afternoon:r>=4?i=wu.morning:i=wu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return to.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):to.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Je(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Je(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):to.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):to.s(t,e)},S:function(t,e){return to.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return BI(r);case"XXXX":case"XX":return Wl(r);case"XXXXX":case"XXX":default:return Wl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return BI(r);case"xxxx":case"xx":return Wl(r);case"xxxxx":case"xxx":default:return Wl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+LI(r,":");case"OOOO":default:return"GMT"+Wl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+LI(r,":");case"zzzz":default:return"GMT"+Wl(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Je(r,e.length)},T:function(t,e,n){const r=t.getTime();return Je(r,e.length)}};function LI(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Je(s,2)}function BI(t,e){return t%60===0?(t>0?"-":"+")+Je(Math.abs(t)/60,2):Wl(t,e)}function Wl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Je(Math.trunc(r/60),2),s=Je(r%60,2);return n+i+e+s}const FI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},DW=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Bye=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return FI(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",FI(r,e)).replace("{{time}}",DW(i,e))},Fye={p:DW,P:Bye},zye=/^D+$/,Vye=/^Y+$/,Uye=["D","DD","YY","YYYY"];function Wye(t){return zye.test(t)}function Hye(t){return Vye.test(t)}function qye(t,e,n){const r=Kye(t,e,n);if(console.warn(r),Uye.includes(t))throw new RangeError(r)}function Kye(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Yye=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qye=/^'([^]*?)'?$/,Xye=/''/g,Jye=/[a-zA-Z]/;function we(t,e,n){var d,f,h,p;const r=Yw(),i=r.locale??Dye,s=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,a=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=bt(t);if(!eye(o))throw new RangeError("Invalid time value");let l=e.match(Gye).map(g=>{const m=g[0];if(m==="p"||m==="P"){const y=Fye[m];return y(g,i.formatLong)}return g}).join("").match(Yye).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const m=g[0];if(m==="'")return{isToken:!1,value:Zye(g)};if($I[m])return{isToken:!0,value:g};if(m.match(Jye))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(g=>{if(!g.isToken)return g.value;const m=g.value;(Hye(m)||Wye(m))&&qye(m,e,String(t));const y=$I[m[0]];return y(o,m,i.localize,c)}).join("")}function Zye(t){const e=t.match(Qye);return e?e[1].replace(Xye,"'"):t}function eve(t){return bt(t).getDay()}function tve(t,e){const n=bt(t),r=bt(e);return+n<+r}function vm(t){return+bt(t)>Date.now()}function ox(t){return+bt(t)<Date.now()}function b2(t){return ax(t,AW(t))}function nve(t){return ax(t,jW(AW(t),1))}function qt(t,e){const r=ave(t);let i;if(r.date){const l=ove(r.date,2);i=lve(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,o;if(r.time&&(a=cve(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(o=uve(r.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(s+a),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(s+a+o)}const Iy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},rve=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ive=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,sve=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ave(t){const e={},n=t.split(Iy.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Iy.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Iy.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Iy.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function ove(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function lve(t,e){if(e===null)return new Date(NaN);const n=t.match(rve);if(!n)return new Date(NaN);const r=!!n[4],i=Th(n[1]),s=Th(n[2])-1,a=Th(n[3]),o=Th(n[4]),l=Th(n[5])-1;if(r)return mve(e,o,l)?dve(e,o,l):new Date(NaN);{const c=new Date(0);return!hve(e,s,a)||!pve(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,a)),c)}}function Th(t){return t?parseInt(t):1}function cve(t){const e=t.match(ive);if(!e)return NaN;const n=vk(e[1]),r=vk(e[2]),i=vk(e[3]);return gve(n,r,i)?n*TW+r*NW+i*1e3:NaN}function vk(t){return t&&parseFloat(t.replace(",","."))||0}function uve(t){if(t==="Z")return 0;const e=t.match(sve);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return yve(r,i)?n*(r*TW+i*NW):NaN}function dve(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const fve=[31,null,31,30,31,30,31,31,30,31,30,31];function RW(t){return t%400===0||t%4===0&&t%100!==0}function hve(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(fve[e]||(RW(t)?29:28))}function pve(t,e){return e>=1&&e<=(RW(t)?366:365)}function mve(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function gve(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function yve(t,e){return e>=0&&e<=59}function xd(t,e){return mm(t,-e)}const vve=()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="SU-";for(let n=0;n<8;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},xk=t=>{var r,i,s;const e=((r=t.villas)==null?void 0:r.name)||"Unknown Villa",n=((s=(i=t.villas)==null?void 0:i.images)==null?void 0:s[0])||"";return{id:t.id,referenceNumber:t.reference_number,villaId:t.villa_id,villaName:e,villaImage:n,checkIn:t.check_in,checkOut:t.check_out,guests:t.guests,nights:t.nights,basePrice:t.base_price||0,cleaningFee:t.cleaning_fee||0,serviceFee:t.service_fee||0,discountAmount:t.discount_amount||0,discountCode:t.discount_code,total:t.total_price,status:t.status,paymentStatus:t.payment_status,paymentMethod:t.payment_method||"",createdAt:t.created_at,guestDetails:{fullName:t.guest_name,email:t.guest_email,whatsapp:t.guest_phone||"",specialRequests:t.special_requests||"",country:t.guest_country||"",idType:t.guest_id_type||"",idNumber:t.guest_id_number||"",arrivalTime:t.arrival_time||""}}},Ua=hs()(_W((t,e)=>({booking:null,guestDetails:null,globalBookedDates:{},isLoading:!1,error:null,adminBookings:[],setBooking:n=>t({booking:n}),setGuestDetails:n=>t({guestDetails:n}),clearBooking:()=>t({booking:null,guestDetails:null}),fetchAndSetGlobalBookedDates:async()=>{try{const{data:n,error:r}=await oe.from("villa_booked_dates").select("villa_id, booked_date").eq("status","booked");if(r)throw r;const i=(n||[]).reduce((s,a)=>(s[a.villa_id]||(s[a.villa_id]=[]),s[a.villa_id].push(a.booked_date),s),{});t({globalBookedDates:i})}catch(n){console.error("Error fetching global booked dates:",n)}},isDateGloballyBooked:(n,r)=>{var i;return((i=e().globalBookedDates[n])==null?void 0:i.includes(r))||!1},saveBooking:async n=>{t({isLoading:!0,error:null});try{const{guestDetails:r,...i}=n,s={...r,id:n.id,reference_number:n.referenceNumber,villa_id:n.villaId,check_in:n.checkIn,check_out:n.checkOut,guests:n.guests,nights:n.nights,base_price:n.basePrice,cleaning_fee:n.cleaningFee,service_fee:n.serviceFee,discount_amount:n.discountAmount,discount_code:n.discountCode,total_price:n.total,status:n.status,payment_status:n.paymentStatus,payment_method:n.paymentMethod,guest_name:n.guestDetails.fullName,guest_email:n.guestDetails.email,guest_phone:n.guestDetails.whatsapp||null,guest_country:n.guestDetails.country||null,guest_id_type:n.guestDetails.idType||null,guest_id_number:n.guestDetails.idNumber||null,arrival_time:n.guestDetails.arrivalTime||null,special_requests:n.guestDetails.specialRequests||null},{error:a}=await oe.from("bookings").insert(s);if(a)throw a;const o=Gw({start:qt(n.checkIn),end:jW(qt(n.checkOut),-1)}).map(c=>({villa_id:n.villaId,booked_date:we(c,"yyyy-MM-dd"),booking_id:n.id,status:"booked"})),{error:l}=await oe.from("villa_booked_dates").insert(o);if(l)throw l;return await e().fetchAndSetGlobalBookedDates(),t({isLoading:!1}),{success:!0}}catch(r){const i=r instanceof Error?r.message:"An unknown error occurred.";return t({isLoading:!1,error:i}),{success:!1,error:i}}},fetchGuestBookings:async n=>{t({isLoading:!0,error:null});try{const{data:r,error:i}=await oe.from("bookings").select("*, villas(name, images)").eq("guest_email",n.toLowerCase()).order("created_at",{ascending:!1});if(i)throw i;const s=(r||[]).map(xk);return t({isLoading:!1}),s}catch(r){const i=r instanceof Error?r.message:"Failed to fetch bookings.";return t({isLoading:!1,error:i}),[]}},fetchBookingByReference:async n=>{t({isLoading:!0,error:null});try{const{data:r,error:i}=await oe.from("bookings").select("*, villas(name, images)").eq("reference_number",n.toUpperCase()).single();if(i||!r)throw new Error("Booking not found.");const s=xk(r);return t({isLoading:!1}),s}catch(r){const i=r instanceof Error?r.message:"Failed to fetch booking.";return t({isLoading:!1,error:i}),null}},cancelBooking:async n=>{t({isLoading:!0,error:null});try{const{error:r}=await oe.from("bookings").update({status:"cancelled"}).eq("id",n);if(r)throw r;const{error:i}=await oe.from("villa_booked_dates").delete().eq("booking_id",n);if(i)throw i;return await e().fetchAndSetGlobalBookedDates(),t({isLoading:!1}),{success:!0}}catch(r){const i=r instanceof Error?r.message:"Failed to cancel booking.";return t({isLoading:!1,error:i}),{success:!1,error:i}}},fetchAllAdminBookings:async()=>{t({isLoading:!0,error:null});try{const{data:n,error:r}=await oe.from("bookings").select("*, villas(name, images)").order("created_at",{ascending:!1});if(r)throw r;const i=(n||[]).map(xk);t({adminBookings:i,isLoading:!1})}catch(n){const r=n instanceof Error?n.message:"Failed to fetch all bookings.";t({isLoading:!1,error:r})}},updateBookingStatus:async(n,r)=>{t({isLoading:!0,error:null});try{const{error:i}=await oe.from("bookings").update({status:r}).eq("id",n);if(i)throw i;return t(s=>({adminBookings:s.adminBookings.map(a=>a.id===n?{...a,status:r}:a)})),t({isLoading:!1}),{success:!0}}catch(i){const s=i instanceof Error?i.message:"Failed to update status.";return t({isLoading:!1,error:s}),{success:!1,error:s}}}}),{name:"stayinubud-booking-session",partialize:t=>({booking:t.booking,guestDetails:t.guestDetails})})),zI={checkIn:null,checkOut:null,guests:2,priceRange:[0,1e7],amenities:[],location:"All Locations",sortBy:"rating"},IW=hs(t=>({...zI,setCheckIn:e=>t({checkIn:e}),setCheckOut:e=>t({checkOut:e}),setGuests:e=>t({guests:e}),setPriceRange:e=>t({priceRange:e}),toggleAmenity:e=>t(n=>({amenities:n.amenities.includes(e)?n.amenities.filter(r=>r!==e):[...n.amenities,e]})),setLocation:e=>t({location:e}),setSortBy:e=>t({sortBy:e}),resetFilters:()=>t(zI)})),xve=[{category:"General",items:[{name:"WiFi",icon:"Wifi"},{name:"Air Conditioning",icon:"Wind"},{name:"Safe Box",icon:"Lock"}]},{category:"Outdoor",items:[{name:"Private Pool",icon:"Waves"},{name:"Garden",icon:"Trees"}]}],bve={name:"StayinUBUD Team",photo:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop",verified:!0,responseRate:100,responseTime:"within an hour",joinedDate:"2024"},wve=[{title:"Check-in",description:"From 3:00 PM"},{title:"Check-out",description:"Before 11:00 AM"},{title:"Smoking",description:"No smoking inside"},{title:"Parties",description:"No parties allowed"}],lx=(t,e=[])=>({id:t.id,name:t.name,tagline:t.tagline||"",description:t.description||"",shortDescription:t.short_description||"",pricePerNight:t.price_per_night,capacity:t.capacity,bedrooms:t.bedrooms,bathrooms:t.bathrooms,images:t.images||[],amenities:t.amenities||[],amenitiesDetailed:xve,isAvailable:t.is_available,rating:t.rating||5,reviewCount:t.review_count||0,location:t.location||"Ubud, Bali",coordinates:t.coordinates||{lat:-8.5069,lng:115.2625},houseRules:wve,host:bve,bookedDates:e,cleaningFee:t.cleaning_fee||0,serviceFee:t.service_fee||0,minimumStay:t.minimum_stay||1}),Sve=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),VI=({villa:t,index:e,featured:n=!1})=>{const r=S.useRef(null),i=tu(r,{once:!0,margin:"-100px"});return u.jsx(Fe,{to:`/villas/${t.id}`,children:u.jsx(de.div,{ref:r,initial:{opacity:0,y:50},animate:i?{opacity:1,y:0}:{},transition:{duration:.6,delay:e*.15},className:`group relative overflow-hidden rounded-2xl bg-card shadow-soft hover:shadow-elevated transition-all duration-500 cursor-pointer ${n?"lg:row-span-2":""}`,children:u.jsxs("div",{className:`relative overflow-hidden ${n?"h-80 lg:h-full":"h-64"}`,children:[u.jsx("img",{src:t.images[0],alt:t.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-foreground/80 via-foreground/20 to-transparent opacity-60 group-hover:opacity-80 transition-opacity duration-300"}),u.jsx("div",{className:`absolute top-4 left-4 px-3 py-1 rounded-full text-xs font-semibold ${t.isAvailable?"bg-primary text-primary-foreground":"bg-destructive text-destructive-foreground"}`,children:t.isAvailable?"Available":"Booked"}),u.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1 px-3 py-1 bg-background/80 backdrop-blur-sm rounded-full",children:[u.jsx(Yr,{size:14,className:"text-yellow-500 fill-yellow-500"}),u.jsx("span",{className:"text-sm font-medium text-foreground",children:t.rating}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",t.reviewCount,")"]})]}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[u.jsx("h3",{className:`font-display font-semibold text-background mb-2 ${n?"text-2xl lg:text-3xl":"text-xl"}`,children:t.name}),u.jsx("p",{className:"text-background/80 text-sm mb-4 line-clamp-2",children:t.shortDescription}),u.jsxs("div",{className:"flex items-center gap-4 text-background/70 text-sm mb-4",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Jr,{size:14}),u.jsx("span",{children:t.capacity})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(QT,{size:14}),u.jsx("span",{children:t.bedrooms})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(GT,{size:14}),u.jsx("span",{children:t.bathrooms})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xl lg:text-2xl font-semibold text-background",children:Sve(t.pricePerNight)}),u.jsx("span",{className:"text-background/60 text-sm",children:" /night"})]}),u.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-background text-foreground rounded-lg opacity-0 translate-y-4 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300",children:[u.jsx("span",{className:"text-sm font-medium",children:"View"}),u.jsx(Zc,{size:16})]})]})]})]})})})},kve=()=>{const t=S.useRef(null),e=tu(t,{once:!0,margin:"-100px"}),{villas:n,fetchVillas:r,isLoading:i}=vl(),{globalBookedDates:s,fetchAndSetGlobalBookedDates:a}=Ua();S.useEffect(()=>{r(),a()},[r,a]);const o=S.useMemo(()=>n.slice(0,5).map(l=>lx(l,s[l.id]||[])),[n,s]);return u.jsx("section",{id:"villas",className:"section-padding bg-background",ref:t,children:u.jsxs("div",{className:"container mx-auto",children:[u.jsxs(de.div,{initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-center mb-16",children:[u.jsx("span",{className:"text-primary uppercase tracking-widest text-sm font-medium mb-4 block",children:"Our Collection"}),u.jsx("h2",{className:"font-display text-4xl lg:text-5xl font-semibold text-foreground mb-6",children:"Exceptional Villas"}),u.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto text-lg",children:"Each villa is thoughtfully designed to offer you an authentic Balinese experience while providing all the luxuries you deserve."})]}),i?u.jsx("div",{className:"flex justify-center py-12",children:u.jsx(ze,{size:32,className:"animate-spin text-muted-foreground"})}):o.length>0?u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:[u.jsx("div",{className:"lg:col-span-2 lg:row-span-2",children:u.jsx(VI,{villa:o[0],index:0,featured:!0})}),o.slice(1).map((l,c)=>u.jsx(VI,{villa:l,index:c+1},l.id))]}):u.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No villas loaded yet."}),u.jsx(de.div,{initial:{opacity:0},animate:e?{opacity:1}:{},transition:{duration:.6,delay:.6},className:"text-center mt-12",children:u.jsxs(Fe,{to:"/villas",className:"btn-outline inline-flex items-center gap-2",children:["View All Villas",u.jsx(Zc,{size:18})]})})]})})},Cve="/assets/rice-terrace-A05q3onb.jpg",_ve="/assets/temple-CMwjl9Yj.jpg",jve="/assets/culture-aA4Fut_i.jpg",$y="/assets/villa-1-interior-BNZCNuR4.jpg",bk="/assets/villa-1-bathroom-CxujMRMG.jpg",wk="/assets/villa-1-pool-Cde77rBF.jpg",Ly="/assets/villa-1-dining-Bfj8hVCn.jpg",By=()=>{const t=[],e=new Date;for(let n=5;n<10;n++){const r=new Date(e);r.setDate(r.getDate()+n),t.push(r.toISOString().split("T")[0])}for(let n=20;n<25;n++){const r=new Date(e);r.setDate(r.getDate()+n),t.push(r.toISOString().split("T")[0])}return t},Fy={name:"Made Wijaya",photo:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop",verified:!0,responseRate:98,responseTime:"within an hour",joinedDate:"2019"},zy=[{category:"General",items:[{name:"WiFi",icon:"Wifi"},{name:"Air Conditioning",icon:"Wind"},{name:"Ceiling Fans",icon:"Fan"},{name:"Safe Box",icon:"Lock"},{name:"Daily Housekeeping",icon:"Sparkles"}]},{category:"Kitchen",items:[{name:"Full Kitchen",icon:"ChefHat"},{name:"Refrigerator",icon:"Refrigerator"},{name:"Coffee Machine",icon:"Coffee"},{name:"Dishwasher",icon:"Droplets"},{name:"Cooking Basics",icon:"Utensils"}]},{category:"Bedroom",items:[{name:"King Size Bed",icon:"Bed"},{name:"Premium Linens",icon:"BedDouble"},{name:"Blackout Curtains",icon:"Sun"},{name:"Wardrobe",icon:"ShirtIcon"}]},{category:"Bathroom",items:[{name:"Outdoor Shower",icon:"Droplet"},{name:"Bathtub",icon:"Bath"},{name:"Premium Toiletries",icon:"Sparkle"},{name:"Hair Dryer",icon:"Wind"}]},{category:"Outdoor",items:[{name:"Private Pool",icon:"Waves"},{name:"Garden",icon:"Trees"},{name:"BBQ Grill",icon:"Flame"},{name:"Sun Loungers",icon:"Armchair"},{name:"Outdoor Dining",icon:"UtensilsCrossed"}]}],Vy=[{title:"Check-in",description:"From 3:00 PM"},{title:"Check-out",description:"Before 11:00 AM"},{title:"Smoking",description:"No smoking inside the villa"},{title:"Parties",description:"No parties or events allowed"},{title:"Pets",description:"Pets are not allowed"},{title:"Quiet Hours",description:"10:00 PM - 8:00 AM"}],Dj=[{id:"1",name:"Sawah Terrace Villa",tagline:"Where tradition meets luxury",description:`Experience the magic of Ubud from our stunning Sawah Terrace Villa, featuring breathtaking views of the iconic rice terraces. This luxurious 3-bedroom retreat combines traditional Balinese architecture with modern amenities.

Wake up to the symphony of birds and the gentle rustle of palm trees. Your private infinity pool seems to merge with the emerald rice paddies below, creating a seamless connection with nature.

The villa features an open-plan living area with soaring traditional Alang-Alang roof, handcrafted furniture from local artisans, and a fully equipped kitchen where our private chef can prepare authentic Balinese cuisine.

Each bedroom offers complete privacy with its own ensuite bathroom featuring outdoor showers and garden views. The master suite includes a luxurious soaking tub perfect for romantic evenings.`,shortDescription:"Stunning rice terrace views with traditional Balinese charm",pricePerNight:45e5,capacity:6,bedrooms:3,bathrooms:3,images:[ZV,$y,bk,wk,Ly],amenities:["Private Pool","Rice Terrace View","Kitchen","WiFi","AC","Daily Breakfast"],amenitiesDetailed:zy,isAvailable:!0,rating:4.9,reviewCount:127,location:"Tegallalang, Ubud",coordinates:{lat:-8.4333,lng:115.2833},houseRules:Vy,host:Fy,bookedDates:By(),cleaningFee:5e5,serviceFee:35e4,minimumStay:2},{id:"2",name:"Jungle Hideaway Villa",tagline:"Your private sanctuary in the wild",description:`Nestled deep within the tropical jungle, our Jungle Hideaway Villa offers complete privacy and tranquility. Wake up to the sounds of nature and enjoy your private infinity pool overlooking the lush canopy.

This is where modern minimalism meets raw natural beauty. Floor-to-ceiling glass walls blur the line between indoor and outdoor living, while the surrounding jungle provides a natural privacy screen.

The villa's two bedrooms are designed as separate pavilions connected by covered walkways, ensuring complete privacy for each guest. The open-air living and dining areas float above the jungle canopy.

Practice yoga on your private deck at sunrise, take a dip in the infinity pool at sunset, or simply relax in the day bed listening to the calls of tropical birds.`,shortDescription:"Private jungle sanctuary with infinity pool",pricePerNight:38e5,capacity:4,bedrooms:2,bathrooms:2,images:[eU,wk,$y,Ly],amenities:["Infinity Pool","Jungle View","Open Living","WiFi","AC","Yoga Deck"],amenitiesDetailed:zy,isAvailable:!0,rating:4.8,reviewCount:89,location:"Petulu, Ubud",coordinates:{lat:-8.4667,lng:115.2667},houseRules:Vy,host:Fy,bookedDates:By(),cleaningFee:4e5,serviceFee:3e5,minimumStay:2},{id:"3",name:"Canopy Treehouse Villa",tagline:"Romance among the treetops",description:`Our most unique property, the Canopy Treehouse Villa is perched among ancient trees offering an unforgettable experience. Perfect for romantic getaways with outdoor bathtub and panoramic forest views.

Built using sustainable bamboo architecture, this one-of-a-kind treehouse seamlessly integrates with its natural surroundings. Wake up suspended among the clouds, with nothing but birdsong and rustling leaves for company.

The outdoor bathtub is positioned to capture the most spectacular sunset views. Watch as the mist rolls in over the forest while you soak under the stars.

Every detail has been crafted for romance  from the four-poster bed draped in white linen to the private dining pavilion where candlelit dinners can be arranged.`,shortDescription:"Romantic treehouse with outdoor bathtub",pricePerNight:52e5,capacity:2,bedrooms:1,bathrooms:1,images:[tU,bk,Ly,$y],amenities:["Outdoor Bathtub","Forest View","Bamboo Design","WiFi","Romantic Setup","Breakfast"],amenitiesDetailed:zy,isAvailable:!1,rating:5,reviewCount:64,location:"Payangan, Ubud",coordinates:{lat:-8.3833,lng:115.25},houseRules:Vy,host:Fy,bookedDates:By(),cleaningFee:4e5,serviceFee:4e5,minimumStay:2},{id:"4",name:"Heritage Garden Villa",tagline:"Authentic luxury in paradise",description:`A meticulously restored traditional Joglo villa surrounded by tropical gardens and a serene koi pond. Experience authentic Balinese living with all the comforts of a luxury resort.

The heart of this estate is an 80-year-old Javanese Joglo, painstakingly dismantled, transported, and reconstructed here in Ubud. The intricate wooden carvings tell stories of Balinese mythology and craftsmanship.

Four separate bedroom pavilions surround the central living area, each with its own character and garden views. The estate includes a traditional bale for yoga or massage, and extensive gardens with tropical fruit trees.

Our in-house chef specializes in both Balinese and international cuisine, and cooking classes can be arranged. The villa is ideal for families or groups seeking an immersive cultural experience.`,shortDescription:"Traditional Joglo with tropical gardens",pricePerNight:65e5,capacity:8,bedrooms:4,bathrooms:4,images:[nU,wk,$y,bk,Ly],amenities:["Koi Pond","Traditional Joglo","Chef Service","WiFi","AC","Private Garden"],amenitiesDetailed:zy,isAvailable:!0,rating:4.9,reviewCount:156,location:"Central Ubud",coordinates:{lat:-8.5069,lng:115.2625},houseRules:Vy,host:Fy,bookedDates:By(),cleaningFee:6e5,serviceFee:5e5,minimumStay:3}],Eve=[{value:500,suffix:"+",label:"Happy Guests"},{value:4,suffix:"",label:"Premium Villas"},{value:100,suffix:"%",label:"Satisfaction"},{value:5,suffix:"",label:"Years Experience"}],Nve=[{title:"Rice Terrace Walks",description:"Explore the iconic Tegallalang rice terraces, just minutes from our villas."},{title:"Temple Visits",description:"Discover ancient temples and immerse yourself in Balinese spirituality."},{title:"Cultural Experiences",description:"Traditional dance performances, cooking classes, and artisan workshops."}],Tve=["Private Pool","Kitchen","WiFi","AC","Garden","Parking","Rice Terrace View","Jungle View","Forest View","Daily Breakfast","Chef Service","Yoga Deck","Outdoor Bathtub","Romantic Setup"],Ove=["All Locations","Tegallalang, Ubud","Petulu, Ubud","Payangan, Ubud","Central Ubud"],Pve=({value:t,suffix:e="",duration:n=2e3})=>{const[r,i]=S.useState(0),s=S.useRef(null),a=tu(s,{once:!0});return S.useEffect(()=>{if(!a)return;let o,l;const c=d=>{o||(o=d);const f=Math.min((d-o)/n,1);i(Math.floor(f*t)),f<1&&(l=requestAnimationFrame(c))};return l=requestAnimationFrame(c),()=>cancelAnimationFrame(l)},[a,t,n]),u.jsxs("span",{ref:s,children:[r,e]})},Ave=()=>{const t=S.useRef(null),e=tu(t,{once:!0,margin:"-100px"});return u.jsx("section",{id:"experience",className:"section-padding bg-secondary/30",ref:t,children:u.jsx("div",{className:"container mx-auto",children:u.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[u.jsx(de.div,{initial:{opacity:0,x:-50},animate:e?{opacity:1,x:0}:{},transition:{duration:.8},className:"relative",children:u.jsxs("div",{className:"relative",children:[u.jsx(de.div,{initial:{opacity:0,scale:.9},animate:e?{opacity:1,scale:1}:{},transition:{duration:.6,delay:.2},className:"relative z-10",children:u.jsx("img",{src:Cve,alt:"Ubud Rice Terraces",className:"w-full max-w-md rounded-2xl shadow-elevated"})}),u.jsx(de.div,{initial:{opacity:0,x:30,y:-30},animate:e?{opacity:1,x:0,y:0}:{},transition:{duration:.6,delay:.4},className:"absolute -right-4 lg:-right-12 top-20 z-20",children:u.jsx("img",{src:_ve,alt:"Balinese Temple",className:"w-32 lg:w-48 h-40 lg:h-56 object-cover rounded-xl shadow-lg border-4 border-background"})}),u.jsx(de.div,{initial:{opacity:0,x:-30,y:30},animate:e?{opacity:1,x:0,y:0}:{},transition:{duration:.6,delay:.6},className:"absolute -left-4 lg:-left-8 -bottom-8 z-20",children:u.jsx("img",{src:jve,alt:"Balinese Culture",className:"w-36 lg:w-52 h-44 lg:h-64 object-cover rounded-xl shadow-lg border-4 border-background"})}),u.jsx("div",{className:"absolute -z-10 top-8 left-8 w-full h-full bg-primary/20 rounded-2xl"})]})}),u.jsxs(de.div,{initial:{opacity:0,x:50},animate:e?{opacity:1,x:0}:{},transition:{duration:.8,delay:.3},children:[u.jsx("span",{className:"text-primary uppercase tracking-widest text-sm font-medium mb-4 block",children:"The Ubud Experience"}),u.jsxs("h2",{className:"font-display text-4xl lg:text-5xl font-semibold text-foreground mb-6",children:["Immerse Yourself in",u.jsx("br",{}),u.jsx("span",{className:"italic",children:"Balinese Beauty"})]}),u.jsx("p",{className:"text-muted-foreground text-lg mb-8",children:"Ubud is the cultural heart of Bali, where ancient traditions meet lush natural landscapes. From our villas, you're perfectly positioned to explore everything this magical destination has to offer."}),u.jsx("div",{className:"space-y-6 mb-10",children:Nve.map((n,r)=>u.jsxs(de.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{duration:.5,delay:.5+r*.1},className:"flex gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center",children:u.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-display text-lg font-semibold text-foreground mb-1",children:n.title}),u.jsx("p",{className:"text-muted-foreground",children:n.description})]})]},n.title))}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 pt-8 border-t border-border",children:Eve.map((n,r)=>u.jsxs(de.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{duration:.5,delay:.8+r*.1},className:"text-center",children:[u.jsx("div",{className:"font-display text-3xl lg:text-4xl font-bold text-primary mb-1",children:u.jsx(Pve,{value:n.value,suffix:n.suffix})}),u.jsx("div",{className:"text-sm text-muted-foreground",children:n.label})]},n.label))})]})]})})})},Qw=hs((t,e)=>({testimonials:[],isLoading:!1,error:null,fetchTestimonials:async()=>{t({isLoading:!0,error:null});try{const{data:n,error:r}=await oe.from("testimonials").select("*").order("created_at",{ascending:!1});if(r)throw r;t({testimonials:n,isLoading:!1})}catch(n){console.error("Error fetching testimonials:",n),t({isLoading:!1,error:"Failed to fetch testimonials"})}},fetchTestimonialsByVilla:async n=>{t({isLoading:!0,error:null});try{const{data:r,error:i}=await oe.from("testimonials").select("*").eq("villa_id",n).order("created_at",{ascending:!1});if(i)throw i;return t({isLoading:!1}),r||[]}catch(r){return console.error(`Error fetching testimonials for villa ${n}:`,r),t({isLoading:!1,error:`Failed to fetch testimonials: ${r.message}`}),[]}},createTestimonial:async n=>{t({isLoading:!0,error:null});try{const{data:r,error:i}=await oe.from("testimonials").insert([n]).select().single();if(i)throw i;const s=r;return t(a=>({testimonials:[s,...a.testimonials],isLoading:!1})),s}catch(r){return console.error("Error creating testimonial:",r),t({isLoading:!1,error:"Failed to create testimonial"}),null}},updateTestimonial:async(n,r)=>{t({isLoading:!0,error:null});try{const{error:i,data:s}=await oe.from("testimonials").update(r).eq("id",n).select().single();if(i)throw i;return t(a=>({testimonials:a.testimonials.map(o=>o.id===n?s:o),isLoading:!1})),!0}catch(i){return console.error("Error updating testimonial:",i),t({isLoading:!1,error:"Failed to update testimonial"}),!1}},deleteTestimonial:async n=>{t({isLoading:!0,error:null});try{const{error:r}=await oe.from("testimonials").delete().eq("id",n);if(r)throw r;return t(i=>({testimonials:i.testimonials.filter(s=>s.id!==n),isLoading:!1})),!0}catch(r){return console.error("Error deleting testimonial:",r),t({isLoading:!1,error:"Failed to delete testimonial"}),!1}},clearError:()=>t({error:null})})),Mve=()=>{const t=S.useRef(null),e=S.useRef(null),n=tu(t,{once:!0,margin:"-100px"}),[r,i]=S.useState(!1),[s,a]=S.useState(!0),{testimonials:o,fetchTestimonials:l,isLoading:c}=Qw(),{villas:d}=vl();S.useEffect(()=>{l()},[l]);const f=o.map(g=>{var m;return{id:g.id,name:g.guest_name,country:g.guest_country||"International",avatar:g.guest_avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(g.guest_name)}`,rating:g.rating,review:g.review||"",date:g.review_date?we(new Date(g.review_date),"MMMM yyyy"):"",villaName:((m=d.find(y=>y.id===g.villa_id))==null?void 0:m.name)||g.villa_name||"StayinUBUD Villa"}}),h=()=>{if(e.current){const{scrollLeft:g,scrollWidth:m,clientWidth:y}=e.current;i(g>0),a(g<m-y-10)}};S.useEffect(()=>{const g=e.current;if(g)return g.addEventListener("scroll",h),h(),()=>g.removeEventListener("scroll",h)},[f]);const p=g=>{e.current&&e.current.scrollBy({left:g==="left"?-400:400,behavior:"smooth"})};return u.jsx("section",{id:"testimonials",className:"section-padding bg-background overflow-hidden",ref:t,children:u.jsxs("div",{className:"container mx-auto",children:[u.jsxs(de.div,{initial:{opacity:0,y:30},animate:n?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-center mb-16",children:[u.jsx("span",{className:"text-primary uppercase tracking-widest text-sm font-medium mb-4 block",children:"Guest Stories"}),u.jsx("h2",{className:"font-display text-4xl lg:text-5xl font-semibold text-foreground mb-6",children:"What Our Guests Say"}),u.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto text-lg",children:"Read authentic reviews from guests who have experienced the magic of staying at our Ubud villas."})]}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>p("left"),disabled:!r,className:`absolute left-0 top-1/2 -translate-y-1/2 z-10 p-3 bg-background shadow-lg rounded-full transition-all ${r?"opacity-100 hover:bg-secondary":"opacity-0 pointer-events-none"}`,"aria-label":"Scroll left",children:u.jsx(us,{size:24,className:"text-foreground"})}),u.jsx("button",{onClick:()=>p("right"),disabled:!s,className:`absolute right-0 top-1/2 -translate-y-1/2 z-10 p-3 bg-background shadow-lg rounded-full transition-all ${s?"opacity-100 hover:bg-secondary":"opacity-0 pointer-events-none"}`,"aria-label":"Scroll right",children:u.jsx(Qn,{size:24,className:"text-foreground"})}),u.jsx("div",{ref:e,className:"flex gap-6 overflow-x-auto hide-scrollbar px-4 py-4 -mx-4 items-stretch",children:c?u.jsx("div",{className:"w-full flex justify-center py-20",children:u.jsx(ze,{size:32,className:"animate-spin text-muted-foreground"})}):f.length>0?f.map((g,m)=>u.jsx(de.div,{initial:{opacity:0,y:30},animate:n?{opacity:1,y:0}:{},transition:{duration:.6,delay:m*.1},className:"flex-shrink-0 w-[340px] sm:w-[400px]",children:u.jsxs("div",{className:"glass-card rounded-2xl p-8 h-full relative flex flex-col",children:[u.jsx(Zp,{size:40,className:"absolute top-6 right-6 text-primary/20"}),u.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(5)].map((y,v)=>u.jsx(Yr,{size:16,className:`${v<g.rating?"text-yellow-500 fill-yellow-500":"text-gray-300 fill-gray-300"}`},v))}),u.jsxs("p",{className:"text-foreground/80 mb-6 line-clamp-4 flex-grow italic",children:['"',g.review,'"']}),u.jsxs("p",{className:"text-primary text-sm font-medium mb-6",children:["Stayed at ",g.villaName]}),u.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t border-border mt-auto",children:[u.jsx("img",{src:g.avatar,alt:g.name,className:"w-12 h-12 rounded-full object-cover"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-foreground",children:g.name}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.country," ",g.date&&` ${g.date}`]})]})]})]})},g.id)):u.jsx("div",{className:"w-full text-center py-12 text-muted-foreground",children:"No testimonials yet."})})]})]})})},Dve=[{name:"Tegallalang Rice Terrace",distance:"5 min",icon:nr},{name:"Ubud Monkey Forest",distance:"10 min",icon:nr},{name:"Tirta Empul Temple",distance:"15 min",icon:nr},{name:"Ubud Royal Palace",distance:"8 min",icon:nr},{name:"Campuhan Ridge Walk",distance:"12 min",icon:nr},{name:"Goa Gajah Temple",distance:"20 min",icon:nr}],Rve=[{title:"From Ngurah Rai Airport",duration:"1h 30min",description:"Private airport transfer included",icon:_te},{title:"From Seminyak",duration:"1h",description:"Scenic route through villages",icon:ete}],Ive=()=>{const t=S.useRef(null),e=tu(t,{once:!0,margin:"-100px"});return u.jsx("section",{id:"location",className:"section-padding bg-secondary/20",ref:t,children:u.jsxs("div",{className:"container mx-auto",children:[u.jsxs(de.div,{initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-center mb-16",children:[u.jsx("span",{className:"text-primary uppercase tracking-widest text-sm font-medium mb-4 block",children:"Location"}),u.jsx("h2",{className:"font-display text-4xl lg:text-5xl font-semibold text-foreground mb-6",children:"Perfectly Positioned in Ubud"}),u.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto text-lg",children:"Our villas are located in the heart of Ubud, giving you easy access to the best attractions, restaurants, and cultural experiences."})]}),u.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[u.jsxs(de.div,{initial:{opacity:0,x:-50},animate:e?{opacity:1,x:0}:{},transition:{duration:.8},className:"relative rounded-2xl overflow-hidden shadow-elevated h-[400px] lg:h-[500px]",children:[u.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d31569.07467959747!2d115.2444508!3d-8.5068487!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd23d739f22c9c3%3A0x54a38afd6bf5c0af!2sUbud%2C%20Gianyar%20Regency%2C%20Bali%2C%20Indonesia!5e0!3m2!1sen!2sus!4v1699999999999!5m2!1sen!2sus",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Ubud Location Map",className:"grayscale-[30%] contrast-[1.1]"}),u.jsx("div",{className:"absolute bottom-4 left-4 right-4 sm:left-4 sm:right-auto sm:w-72 glass-card rounded-xl p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:u.jsx(nr,{className:"text-primary",size:20})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-foreground",children:"StayinUBUD Villas"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Ubud, Gianyar, Bali"})]})]})})]}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs(de.div,{initial:{opacity:0,x:50},animate:e?{opacity:1,x:0}:{},transition:{duration:.8,delay:.2},children:[u.jsx("h3",{className:"font-display text-2xl font-semibold text-foreground mb-6",children:"Nearby Attractions"}),u.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:Dve.map((n,r)=>u.jsxs(de.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{duration:.5,delay:.3+r*.1},className:"flex items-center gap-3 p-4 bg-background rounded-xl border border-border hover:border-primary/50 transition-colors",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:u.jsx(n.icon,{size:18,className:"text-primary"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"font-medium text-foreground text-sm truncate",children:n.name}),u.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground text-xs",children:[u.jsx(hl,{size:12}),u.jsx("span",{children:n.distance})]})]})]},n.name))})]}),u.jsxs(de.div,{initial:{opacity:0,x:50},animate:e?{opacity:1,x:0}:{},transition:{duration:.8,delay:.4},children:[u.jsx("h3",{className:"font-display text-2xl font-semibold text-foreground mb-6",children:"Getting Here"}),u.jsx("div",{className:"space-y-4",children:Rve.map((n,r)=>u.jsxs(de.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{duration:.5,delay:.5+r*.1},className:"flex items-start gap-4 p-5 bg-background rounded-xl border border-border",children:[u.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:u.jsx(n.icon,{size:22,className:"text-primary"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-foreground",children:n.title}),u.jsx("p",{className:"text-primary font-medium",children:n.duration}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:n.description})]})]},n.title))})]})]})]})]})})},$ve=()=>{const t=S.useRef(null),e=tu(t,{once:!0,margin:"-100px"});return u.jsxs("section",{className:"relative py-32 overflow-hidden",ref:t,children:[u.jsxs("div",{className:"absolute inset-0",children:[u.jsx("img",{src:JV,alt:"Luxury Villa",className:"w-full h-full object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-foreground/90 via-foreground/70 to-foreground/50"})]}),u.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-primary/20 rounded-full blur-3xl"}),u.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl"}),u.jsx("div",{className:"relative z-10 container mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs(de.div,{initial:{opacity:0,y:50},animate:e?{opacity:1,y:0}:{},transition:{duration:.8},className:"max-w-3xl mx-auto text-center",children:[u.jsxs(de.div,{initial:{opacity:0,scale:.8},animate:e?{opacity:1,scale:1}:{},transition:{duration:.6,delay:.2},className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/90 rounded-full mb-8",children:[u.jsx(T8,{size:16,className:"text-primary-foreground"}),u.jsx("span",{className:"text-sm font-medium text-primary-foreground",children:"Special Rates Available"})]}),u.jsxs("h2",{className:"font-display text-4xl sm:text-5xl lg:text-6xl font-semibold text-background mb-6 leading-tight",children:["Ready to Experience",u.jsx("br",{}),u.jsx("span",{className:"italic",children:"Paradise"}),"?"]}),u.jsx("p",{className:"text-xl text-background/80 mb-10 max-w-2xl mx-auto",children:"Book your dream villa today and let us create an unforgettable Balinese experience for you and your loved ones."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(de.a,{href:"#villas",whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn-primary inline-flex items-center justify-center gap-2 text-lg px-8 py-4",children:["Find Your Perfect Villa",u.jsx(Zc,{size:20})]}),u.jsx(de.a,{href:"#contact",whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn-outline border-background/50 text-background hover:bg-background hover:text-foreground inline-flex items-center justify-center gap-2 text-lg px-8 py-4",children:"Contact Us"})]}),u.jsxs(de.div,{initial:{opacity:0},animate:e?{opacity:1}:{},transition:{duration:.6,delay:.6},className:"mt-12 pt-8 border-t border-background/20",children:[u.jsx("p",{className:"text-background/60 text-sm mb-4",children:"Trusted by travelers worldwide"}),u.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-background/40",children:[u.jsx("span",{className:"font-display text-xl",children:"TripAdvisor"}),u.jsx("span",{className:"font-display text-xl",children:"Booking.com"}),u.jsx("span",{className:"font-display text-xl",children:"Airbnb"})]})]})]})})]})},Lve=[{name:"Our Villas",href:"#villas"},{name:"Experience Ubud",href:"#experience"},{name:"Guest Reviews",href:"#testimonials"},{name:"Location",href:"#location"}],Bve=[{name:"Privacy Policy",href:"#"},{name:"Terms of Service",href:"#"},{name:"Cancellation Policy",href:"#"}],Fve=[{name:"Instagram",icon:tO,href:"#"},{name:"Facebook",icon:ZT,href:"#"}],ei=()=>{const[t,e]=S.useState(""),n=r=>{r.preventDefault(),t&&(X({title:"Subscribed!",description:"Thank you for subscribing to our newsletter."}),e(""))};return u.jsxs("footer",{id:"contact",className:"bg-foreground text-background",children:[u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-20",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 lg:gap-8",children:[u.jsxs("div",{className:"lg:col-span-1",children:[u.jsx("a",{href:"#",className:"inline-block mb-6",children:u.jsxs("span",{className:"font-display text-3xl font-semibold",children:["Stay",u.jsx("span",{className:"text-primary",children:"in"}),"UBUD"]})}),u.jsx("p",{className:"text-background/70 mb-6",children:"Discover the art of luxury living in the heart of Bali. Our handpicked villas offer an authentic yet indulgent Ubud experience."}),u.jsx("div",{className:"flex gap-4",children:Fve.map(r=>u.jsx("a",{href:r.href,className:"w-10 h-10 bg-background/10 rounded-full flex items-center justify-center hover:bg-primary transition-colors","aria-label":r.name,children:u.jsx(r.icon,{size:18})},r.name))})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-display text-lg font-semibold mb-6",children:"Quick Links"}),u.jsx("ul",{className:"space-y-3",children:Lve.map(r=>u.jsx("li",{children:u.jsxs("a",{href:r.href,className:"text-background/70 hover:text-primary transition-colors inline-flex items-center gap-2 group",children:[u.jsx(Zc,{size:14,className:"opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all"}),r.name]})},r.name))})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-display text-lg font-semibold mb-6",children:"Contact Us"}),u.jsxs("ul",{className:"space-y-4",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(nr,{size:18,className:"text-primary flex-shrink-0 mt-1"}),u.jsxs("span",{className:"text-background/70",children:["Jl. Raya Ubud No. 88",u.jsx("br",{}),"Gianyar, Bali 80571",u.jsx("br",{}),"Indonesia"]})]}),u.jsx("li",{children:u.jsxs("a",{href:"tel:+62361123456",className:"flex items-center gap-3 text-background/70 hover:text-primary transition-colors",children:[u.jsx(nO,{size:18,className:"text-primary"}),"+62 361 123 456"]})}),u.jsx("li",{children:u.jsxs("a",{href:"mailto:hello@stayinubud.com",className:"flex items-center gap-3 text-background/70 hover:text-primary transition-colors",children:[u.jsx(Jp,{size:18,className:"text-primary"}),"hello@stayinubud.com"]})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-display text-lg font-semibold mb-6",children:"Newsletter"}),u.jsx("p",{className:"text-background/70 mb-4",children:"Subscribe for exclusive offers and travel inspiration."}),u.jsxs("form",{onSubmit:n,className:"space-y-3",children:[u.jsx("div",{className:"relative",children:u.jsx("input",{type:"email",value:t,onChange:r=>e(r.target.value),placeholder:"Enter your email",className:"w-full px-4 py-3 bg-background/10 border border-background/20 rounded-lg focus:outline-none focus:border-primary text-background placeholder:text-background/50",required:!0})}),u.jsxs(de.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full btn-primary flex items-center justify-center gap-2",children:["Subscribe",u.jsx(j8,{size:16})]})]})]})]})}),u.jsx("div",{className:"border-t border-background/10",children:u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6",children:u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsxs("p",{className:"text-background/50 text-sm",children:[" ",new Date().getFullYear()," StayinUBUD. All rights reserved."]}),u.jsx("div",{className:"flex gap-6",children:Bve.map(r=>u.jsx("a",{href:r.href,className:"text-background/50 hover:text-primary text-sm transition-colors",children:r.name},r.name))})]})})})]})},zve=()=>(S.useEffect(()=>{document.title="StayinUBUD | Luxury Villa Rentals in Ubud, Bali"},[]),u.jsxs("main",{className:"overflow-x-hidden",children:[u.jsx(Zr,{}),u.jsx(_pe,{}),u.jsx(kve,{}),u.jsx(Ave,{}),u.jsx(Mve,{}),u.jsx(Ive,{}),u.jsx($ve,{}),u.jsx(ei,{})]})),kt=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),UI=t=>t>=1e6?`IDR ${(t/1e6).toFixed(1)}M`:kt(t),Vve=(t,e)=>!t||!e?0:Math.max(0,Du(e,t)),Uve=(t,e,n,r)=>t*e+n+r,$W=(t,e)=>{const n=t.toISOString().split("T")[0];return e.includes(n)},Wve=(t,e,n)=>{const r=new Date(t);for(;r<e;){if($W(r,n))return!1;r.setDate(r.getDate()+1)}return!0},LW=(t,e,n)=>t.isAvailable?!e||!n?t.isAvailable:Wve(e,n,t.bookedDates):!1,Hve=(t,e)=>t.filter(n=>!(n.capacity<e.guests||n.pricePerNight<e.priceRange[0]||n.pricePerNight>e.priceRange[1]||e.amenities.length>0&&!e.amenities.every(i=>n.amenities.some(s=>s.toLowerCase().includes(i.toLowerCase())))||e.location!=="All Locations"&&n.location!==e.location||e.checkIn&&e.checkOut&&!LW(n,e.checkIn,e.checkOut))),qve=(t,e)=>{const n=[...t];switch(e){case"price-asc":return n.sort((r,i)=>r.pricePerNight-i.pricePerNight);case"price-desc":return n.sort((r,i)=>i.pricePerNight-r.pricePerNight);case"capacity":return n.sort((r,i)=>i.capacity-r.capacity);case"rating":return n.sort((r,i)=>i.rating-r.rating);default:return n}},Kve=t=>{const e=Object.values(t);return e.reduce((n,r)=>n+r,0)/e.length},BW=({villa:t,index:e,checkIn:n,checkOut:r})=>{const[i,s]=S.useState(0),a=LW(t,n||null,r||null);return u.jsxs(de.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:e*.1},className:"group bg-card rounded-2xl overflow-hidden shadow-soft hover:shadow-elevated transition-all duration-500",children:[u.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",onMouseEnter:()=>t.images.length>1&&s(1),onMouseLeave:()=>s(0),children:[u.jsx("img",{src:t.images[i],alt:t.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-foreground/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsx("div",{className:`absolute top-4 left-4 px-3 py-1 rounded-full text-xs font-semibold ${a?"bg-primary text-primary-foreground":"bg-destructive text-destructive-foreground"}`,children:a?"Available":"Booked"}),u.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1 px-3 py-1 bg-background/90 backdrop-blur-sm rounded-full",children:[u.jsx(Yr,{size:14,className:"text-yellow-500 fill-yellow-500"}),u.jsx("span",{className:"text-sm font-medium",children:t.rating})]}),t.images.length>1&&u.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-1.5",children:t.images.slice(0,5).map((o,l)=>u.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${l===i?"bg-background w-4":"bg-background/50"}`},l))})]}),u.jsxs("div",{className:"p-5",children:[u.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground text-sm mb-2",children:[u.jsx(nr,{size:14}),u.jsx("span",{children:t.location})]}),u.jsx("h3",{className:"font-display text-xl font-semibold text-foreground mb-1 group-hover:text-primary transition-colors",children:t.name}),u.jsx("p",{className:"text-muted-foreground text-sm mb-3 line-clamp-1",children:t.tagline}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Jr,{size:14}),u.jsx("span",{children:t.capacity})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(QT,{size:14}),u.jsx("span",{children:t.bedrooms})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(GT,{size:14}),u.jsx("span",{children:t.bathrooms})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[t.amenities.slice(0,3).map(o=>u.jsx("span",{className:"px-2 py-1 bg-secondary/50 rounded-full text-xs text-muted-foreground",children:o},o)),t.amenities.length>3&&u.jsxs("span",{className:"px-2 py-1 bg-secondary/50 rounded-full text-xs text-muted-foreground",children:["+",t.amenities.length-3," more"]})]}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xl font-bold text-foreground",children:kt(t.pricePerNight)}),u.jsx("span",{className:"text-muted-foreground text-sm",children:" /night"})]}),u.jsxs(Fe,{to:`/villas/${t.id}`,className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-medium hover:bg-primary/90 transition-colors",children:["View",u.jsx(Zc,{size:16})]})]})]})]})};function cx(t,[e,n]){return Math.min(n,Math.max(e,t))}var Yve=S.createContext(void 0);function FW(t){const e=S.useContext(Yve);return t||e||"ltr"}function zW(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var VW=["PageUp","PageDown"],UW=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],WW={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Yf="Slider",[Rj,Gve,Qve]=UT(Yf),[HW]=Rf(Yf,[Qve]),[Xve,Xw]=HW(Yf),qW=S.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:g,...m}=t,y=S.useRef(new Set),v=S.useRef(0),b=a==="horizontal"?Jve:Zve,[k=[],w]=N0({prop:d,defaultProp:c,onChange:P=>{var D;(D=[...y.current][v.current])==null||D.focus(),f(P)}}),C=S.useRef(k);function _(P){const O=i0e(k,P);E(P,O)}function j(P){E(P,v.current)}function N(){const P=C.current[v.current];k[v.current]!==P&&h(k)}function E(P,O,{commit:D}={commit:!1}){const A=l0e(s),M=c0e(Math.round((P-r)/s)*s+r,A),$=cx(M,[r,i]);w((I=[])=>{const R=n0e(I,$,O);if(o0e(R,l*s)){v.current=R.indexOf($);const L=String(R)!==String(I);return L&&D&&h(R),L?R:I}else return I})}return u.jsx(Xve,{scope:t.__scopeSlider,name:n,disabled:o,min:r,max:i,valueIndexToChangeRef:v,thumbs:y.current,values:k,orientation:a,form:g,children:u.jsx(Rj.Provider,{scope:t.__scopeSlider,children:u.jsx(Rj.Slot,{scope:t.__scopeSlider,children:u.jsx(b,{"aria-disabled":o,"data-disabled":o?"":void 0,...m,ref:e,onPointerDown:Ee(m.onPointerDown,()=>{o||(C.current=k)}),min:r,max:i,inverted:p,onSlideStart:o?void 0:_,onSlideMove:o?void 0:j,onSlideEnd:o?void 0:N,onHomeKeyDown:()=>!o&&E(r,0,{commit:!0}),onEndKeyDown:()=>!o&&E(i,k.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:O})=>{if(!o){const M=VW.includes(P.key)||P.shiftKey&&UW.includes(P.key)?10:1,$=v.current,I=k[$],R=s*M*O;E(I+R,$,{commit:!0})}}})})})})});qW.displayName=Yf;var[KW,YW]=HW(Yf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Jve=S.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=t,[f,h]=S.useState(null),p=at(e,b=>h(b)),g=S.useRef(void 0),m=FW(i),y=m==="ltr",v=y&&!s||!y&&s;function x(b){const k=g.current||f.getBoundingClientRect(),w=[0,k.width],_=w2(w,v?[n,r]:[r,n]);return g.current=k,_(b-k.left)}return u.jsx(KW,{scope:t.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:u.jsx(GW,{dir:m,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const k=x(b.clientX);a==null||a(k)},onSlideMove:b=>{const k=x(b.clientX);o==null||o(k)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:b=>{const w=WW[v?"from-left":"from-right"].includes(b.key);c==null||c({event:b,direction:w?-1:1})}})})}),Zve=S.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:o,onStepKeyDown:l,...c}=t,d=S.useRef(null),f=at(e,d),h=S.useRef(void 0),p=!i;function g(m){const y=h.current||d.current.getBoundingClientRect(),v=[0,y.height],b=w2(v,p?[r,n]:[n,r]);return h.current=y,b(m-y.top)}return u.jsx(KW,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:u.jsx(GW,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const y=g(m.clientY);s==null||s(y)},onSlideMove:m=>{const y=g(m.clientY);a==null||a(y)},onSlideEnd:()=>{h.current=void 0,o==null||o()},onStepKeyDown:m=>{const v=WW[p?"from-bottom":"from-top"].includes(m.key);l==null||l({event:m,direction:v?-1:1})}})})}),GW=S.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:l,...c}=t,d=Xw(Yf,n);return u.jsx(We.span,{...c,ref:e,onKeyDown:Ee(t.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(o(f),f.preventDefault()):VW.concat(UW).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:Ee(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:Ee(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:Ee(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),s(f))})})}),QW="SliderTrack",XW=S.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Xw(QW,n);return u.jsx(We.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});XW.displayName=QW;var Ij="SliderRange",JW=S.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Xw(Ij,n),s=YW(Ij,n),a=S.useRef(null),o=at(e,a),l=i.values.length,c=i.values.map(h=>tH(h,i.min,i.max)),d=l>1?Math.min(...c):0,f=100-Math.max(...c);return u.jsx(We.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:o,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:f+"%"}})});JW.displayName=Ij;var $j="SliderThumb",ZW=S.forwardRef((t,e)=>{const n=Gve(t.__scopeSlider),[r,i]=S.useState(null),s=at(e,o=>i(o)),a=S.useMemo(()=>r?n().findIndex(o=>o.ref.current===r):-1,[n,r]);return u.jsx(e0e,{...t,ref:s,index:a})}),e0e=S.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,a=Xw($j,n),o=YW($j,n),[l,c]=S.useState(null),d=at(e,x=>c(x)),f=l?a.form||!!l.closest("form"):!0,h=oz(l),p=a.values[r],g=p===void 0?0:tH(p,a.min,a.max),m=r0e(r,a.values.length),y=h==null?void 0:h[o.size],v=y?s0e(y,g,o.direction):0;return S.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${g}% + ${v}px)`},children:[u.jsx(Rj.ItemSlot,{scope:t.__scopeSlider,children:u.jsx(We.span,{role:"slider","aria-label":t["aria-label"]||m,"aria-valuemin":a.min,"aria-valuenow":p,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:d,style:p===void 0?{display:"none"}:t.style,onFocus:Ee(t.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),f&&u.jsx(eH,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:p},r)]})});ZW.displayName=$j;var t0e="RadioBubbleInput",eH=S.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=S.useRef(null),s=at(i,r),a=zW(e);return S.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&d){const f=new Event("input",{bubbles:!0});d.call(o,e),o.dispatchEvent(f)}},[a,e]),u.jsx(We.input,{style:{display:"none"},...n,ref:s,defaultValue:e})});eH.displayName=t0e;function n0e(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function tH(t,e,n){const s=100/(n-e)*(t-e);return cx(s,[0,100])}function r0e(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function i0e(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function s0e(t,e,n){const r=t/2,s=w2([0,50],[0,r]);return(r-s(e)*n)*n}function a0e(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function o0e(t,e){if(e>0){const n=a0e(t);return Math.min(...n)>=e}return!0}function w2(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function l0e(t){return(String(t).split(".")[1]||"").length}function c0e(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var nH=qW,u0e=XW,d0e=JW,f0e=ZW;const rH=S.forwardRef(({className:t,...e},n)=>u.jsxs(nH,{ref:n,className:Ke("relative flex w-full touch-none select-none items-center",t),...e,children:[u.jsx(u0e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:u.jsx(d0e,{className:"absolute h-full bg-primary"})}),u.jsx(f0e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));rH.displayName=nH.displayName;const WI=({availableCount:t,isMobile:e,onClose:n})=>{const{checkIn:r,checkOut:i,guests:s,priceRange:a,amenities:o,location:l,setCheckIn:c,setCheckOut:d,setGuests:f,setPriceRange:h,toggleAmenity:p,setLocation:g,resetFilters:m}=IW(),[y,v]=S.useState(a),x=w=>{v([w[0],w[1]])},b=()=>{h(y)},k=()=>{m(),v([0,1e7])};return u.jsxs(de.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4},className:`bg-background rounded-2xl border border-border p-6 ${e?"h-full overflow-y-auto":"sticky top-24"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(N8,{size:20,className:"text-primary"}),u.jsx("h3",{className:"font-display text-lg font-semibold",children:"Filters"})]}),e&&n&&u.jsx("button",{onClick:n,className:"p-2 hover:bg-secondary rounded-lg",children:u.jsx(dn,{size:20})})]}),u.jsx("div",{className:"mb-6 p-3 bg-primary/10 rounded-lg",children:u.jsxs("p",{className:"text-sm font-medium text-primary",children:[t," villa",t!==1?"s":""," available"]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-foreground mb-3",children:[u.jsx(Gn,{size:16,className:"inline mr-2"}),"Dates"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Xd,{selected:r,onChange:w=>c(w),selectsStart:!0,startDate:r,endDate:i,minDate:new Date,placeholderText:"Check-in",className:"w-full px-3 py-2 bg-secondary/50 border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary",dateFormat:"MMM d, yyyy"}),u.jsx(Xd,{selected:i,onChange:w=>d(w),selectsEnd:!0,startDate:r,endDate:i,minDate:r||new Date,placeholderText:"Check-out",className:"w-full px-3 py-2 bg-secondary/50 border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary",dateFormat:"MMM d, yyyy"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-foreground mb-3",children:[u.jsx(Jr,{size:16,className:"inline mr-2"}),"Guests"]}),u.jsx("select",{value:s,onChange:w=>f(Number(w.target.value)),className:"w-full px-3 py-2 bg-secondary/50 border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary",children:Array.from({length:10},(w,C)=>C+1).map(w=>u.jsxs("option",{value:w,children:[w," ",w===1?"guest":"guests"]},w))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-3",children:"Price Range (per night)"}),u.jsx("div",{className:"px-2",children:u.jsx(rH,{min:0,max:1e7,step:1e5,value:y,onValueChange:x,onValueCommit:b,className:"mb-3"})}),u.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[u.jsx("span",{children:UI(y[0])}),u.jsx("span",{children:UI(y[1])})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-3",children:"Location"}),u.jsx("select",{value:l,onChange:w=>g(w.target.value),className:"w-full px-3 py-2 bg-secondary/50 border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary",children:Ove.map(w=>u.jsx("option",{value:w,children:w},w))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-3",children:"Amenities"}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:Tve.slice(0,8).map(w=>u.jsxs("button",{onClick:()=>p(w),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-xs font-medium transition-colors ${o.includes(w)?"bg-primary text-primary-foreground":"bg-secondary/50 text-foreground hover:bg-secondary"}`,children:[o.includes(w)&&u.jsx(bg,{size:12}),u.jsx("span",{className:"truncate",children:w})]},w))})]}),u.jsxs("button",{onClick:k,className:"w-full flex items-center justify-center gap-2 py-3 border border-border rounded-lg text-sm font-medium hover:bg-secondary transition-colors",children:[u.jsx(Ete,{size:16}),"Reset Filters"]}),e&&n&&u.jsxs("button",{onClick:n,className:"w-full btn-primary py-3",children:["Show ",t," Villa",t!==1?"s":""]})]})]})},h0e=()=>{const[t,e]=S.useState(!1),n=IW(),{villas:r,fetchVillas:i,isLoading:s}=vl(),{globalBookedDates:a,fetchAllBookedDates:o}=Ua();S.useEffect(()=>{i(),o()},[i,o]);const l=S.useMemo(()=>r.map(f=>lx(f,a[f.id]||[])),[r,a]),c=S.useMemo(()=>{const f=Hve(l,{checkIn:n.checkIn,checkOut:n.checkOut,guests:n.guests,priceRange:n.priceRange,amenities:n.amenities,location:n.location});return qve(f,n.sortBy)},[n,l]),d=[{value:"rating",label:"Top Rated"},{value:"price-asc",label:"Price: Low to High"},{value:"price-desc",label:"Price: High to Low"},{value:"capacity",label:"Capacity"}];return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Zr,{}),u.jsx("section",{className:"pt-28 pb-12 bg-gradient-to-b from-secondary/50 to-background",children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[u.jsx(Fe,{to:"/",className:"hover:text-primary transition-colors",children:"Home"}),u.jsx(Qn,{size:14}),u.jsx("span",{className:"text-foreground font-medium",children:"Villas"})]}),u.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[u.jsx("h1",{className:"font-display text-4xl lg:text-5xl font-semibold text-foreground mb-4",children:"Our Villa Collection"}),u.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl",children:"Discover handpicked luxury villas in the heart of Ubud, each offering a unique blend of Balinese tradition and modern comfort."})]})]})}),u.jsx("section",{className:"py-8",children:u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex gap-8",children:[u.jsx("aside",{className:"hidden lg:block w-80 flex-shrink-0",children:u.jsx(WI,{availableCount:c.length})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("p",{className:"text-muted-foreground",children:[u.jsx("span",{className:"font-medium text-foreground",children:c.length})," villas found"]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Kee,{size:16,className:"text-muted-foreground"}),u.jsx("select",{value:n.sortBy,onChange:f=>n.setSortBy(f.target.value),className:"bg-transparent text-sm font-medium focus:outline-none cursor-pointer",children:d.map(f=>u.jsx("option",{value:f.value,children:f.label},f.value))})]}),u.jsxs("button",{onClick:()=>e(!0),className:"lg:hidden flex items-center gap-2 px-4 py-2 bg-secondary rounded-lg text-sm font-medium",children:[u.jsx(N8,{size:16}),"Filters"]})]})]}),s?u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-[#6b7c67]",children:[u.jsx(ze,{size:40,className:"animate-spin mb-4"}),u.jsx("p",{children:"Loading villas..."})]}):c.length>0?u.jsx("div",{className:"grid sm:grid-cols-2 xl:grid-cols-3 gap-6",children:c.map((f,h)=>u.jsx(BW,{villa:f,index:h,checkIn:n.checkIn,checkOut:n.checkOut},f.id))}):u.jsxs("div",{className:"text-center py-16",children:[u.jsx("p",{className:"text-muted-foreground mb-4",children:r.length===0?"No villas available in database.":"No villas match your criteria."}),u.jsx("button",{onClick:n.resetFilters,className:"btn-primary",children:"Reset Filters"})]})]})]})})}),u.jsx(Hf,{children:t&&u.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-foreground/50 lg:hidden",onClick:()=>e(!1),children:u.jsx(de.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25},className:"absolute right-0 top-0 bottom-0 w-full max-w-sm bg-background",onClick:f=>f.stopPropagation(),children:u.jsx(WI,{availableCount:c.length,isMobile:!0,onClose:()=>e(!1)})})})}),u.jsx(ei,{})]})},p0e=({images:t,alt:e})=>{const[n,r]=S.useState(0),[i,s]=S.useState(!1),a=S.useCallback(()=>{r(l=>(l+1)%t.length)},[t.length]),o=S.useCallback(()=>{r(l=>(l-1+t.length)%t.length)},[t.length]);return S.useCallback(l=>{l.key==="ArrowRight"&&a(),l.key==="ArrowLeft"&&o(),l.key==="Escape"&&s(!1)},[a,o]),u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"relative aspect-[16/9] overflow-hidden rounded-2xl group",children:[u.jsx(de.img,{src:t[n],alt:`${e} - Image ${n+1}`,className:"w-full h-full object-cover",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},n),u.jsx("button",{onClick:()=>s(!0),className:"absolute top-4 right-4 p-3 bg-background/80 backdrop-blur-sm rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-background","aria-label":"View fullscreen",children:u.jsx(M8,{size:20,className:"text-foreground"})}),t.length>1&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:o,className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 bg-background/80 backdrop-blur-sm rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-background","aria-label":"Previous image",children:u.jsx(us,{size:24,className:"text-foreground"})}),u.jsx("button",{onClick:a,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 bg-background/80 backdrop-blur-sm rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-background","aria-label":"Next image",children:u.jsx(Qn,{size:24,className:"text-foreground"})})]}),u.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 px-3 py-1 bg-foreground/80 text-background text-sm rounded-full",children:[n+1," / ",t.length]})]}),t.length>1&&u.jsx("div",{className:"grid grid-cols-4 gap-2",children:t.map((l,c)=>u.jsx("button",{onClick:()=>r(c),className:`relative aspect-square rounded-lg overflow-hidden transition-all ${c===n?"ring-2 ring-primary ring-offset-2":"opacity-70 hover:opacity-100"}`,children:u.jsx("img",{src:l,alt:`${e} thumbnail ${c+1}`,className:"w-full h-full object-cover"})},c))})]}),u.jsx(Hf,{children:i&&u.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-foreground/95 flex items-center justify-center",onClick:()=>s(!1),children:[u.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 p-2 text-background hover:bg-background/10 rounded-full transition-colors z-50","aria-label":"Close lightbox",children:u.jsx(dn,{size:32})}),u.jsx("button",{onClick:l=>{l.stopPropagation(),o()},className:"absolute left-4 p-3 bg-background/10 hover:bg-background/20 rounded-full transition-colors","aria-label":"Previous image",children:u.jsx(us,{size:32,className:"text-background"})}),u.jsx(de.img,{src:t[n],alt:`${e} - Image ${n+1}`,className:"max-w-[90vw] max-h-[90vh] object-contain",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:l=>l.stopPropagation()},n),u.jsx("button",{onClick:l=>{l.stopPropagation(),a()},className:"absolute right-4 p-3 bg-background/10 hover:bg-background/20 rounded-full transition-colors","aria-label":"Next image",children:u.jsx(Qn,{size:32,className:"text-background"})}),u.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 px-4 py-2 bg-background/20 text-background rounded-full",children:[n+1," / ",t.length]})]})})]})},Sk=768;function m0e(){const[t,e]=S.useState(void 0);return S.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Sk-1}px)`),r=()=>{e(window.innerWidth<Sk)};return n.addEventListener("change",r),e(window.innerWidth<Sk),()=>n.removeEventListener("change",r)},[]),!!t}var g0e=Symbol.for("react.lazy"),ux=Af[" use ".trim().toString()];function y0e(t){return typeof t=="object"&&t!==null&&"then"in t}function iH(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===g0e&&"_payload"in t&&y0e(t._payload)}function v0e(t){const e=b0e(t),n=S.forwardRef((r,i)=>{let{children:s,...a}=r;iH(s)&&typeof ux=="function"&&(s=ux(s._payload));const o=S.Children.toArray(s),l=o.find(S0e);if(l){const c=l.props.children,d=o.map(f=>f===l?S.Children.count(c)>1?S.Children.only(null):S.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...a,ref:i,children:S.isValidElement(c)?S.cloneElement(c,void 0,d):null})}return u.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var x0e=v0e("Slot");function b0e(t){const e=S.forwardRef((n,r)=>{let{children:i,...s}=n;if(iH(i)&&typeof ux=="function"&&(i=ux(i._payload)),S.isValidElement(i)){const a=C0e(i),o=k0e(s,i.props);return i.type!==S.Fragment&&(o.ref=r?VT(r,a):a),S.cloneElement(i,o)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var w0e=Symbol("radix.slottable");function S0e(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===w0e}function k0e(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function C0e(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const _0e=h8("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),yi=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?x0e:"button";return u.jsx(a,{className:Ke(_0e({variant:e,size:n,className:t})),ref:s,...i})});yi.displayName="Button";const HI=({villa:t})=>{const e=Gs(),n=m0e(),{setBooking:r,isDateGloballyBooked:i,fetchAndSetGlobalBookedDates:s}=Ua(),[a,o]=S.useState(null),[l,c]=S.useState(null),[d,f]=S.useState(2),[h,p]=S.useState(!1);S.useEffect(()=>{s()},[s]);const g=S.useMemo(()=>Vve(a,l),[a,l]),m=S.useMemo(()=>Uve(t.pricePerNight,g,t.cleaningFee,t.serviceFee),[g,t.pricePerNight,t.cleaningFee,t.serviceFee]),y=N=>{const E=new Date;if(E.setHours(0,0,0,0),N<E)return!0;const P=we(N,"yyyy-MM-dd");return i(t.id,P)},v=a&&l&&g>=(t.minimumStay||1)&&t.isAvailable,x=()=>{if(!a||!l){X({title:"Select dates",description:"Please select check-in and check-out dates.",variant:"destructive"});return}if(g<(t.minimumStay||1)){X({title:"Minimum stay required",description:`This villa requires a minimum stay of ${t.minimumStay||1} nights.`,variant:"destructive"});return}r({villaId:t.id,villaName:t.name,villaImage:t.images[0],checkIn:a,checkOut:l,guests:d,nightlyRate:t.pricePerNight,nights:g,cleaningFee:t.cleaningFee,serviceFee:t.serviceFee,total:m}),X({title:"Reservation started!",description:"Complete your booking details to confirm."}),e("/checkout")},b=()=>{var N;return u.jsxs("div",{className:"flex items-baseline justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-2xl font-bold text-foreground",children:kt(t.pricePerNight)}),u.jsx("span",{className:"text-muted-foreground",children:" /night"})]}),u.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[u.jsx(Yr,{size:16,className:"text-yellow-500 fill-yellow-500"}),u.jsx("span",{className:"font-medium",children:((N=t.rating)==null?void 0:N.toFixed(1))||"New"}),u.jsxs("span",{className:"text-muted-foreground",children:["(",t.reviewCount||0,")"]})]})]})},k=()=>!t.isAvailable&&u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-destructive/10 text-destructive rounded-lg mb-4",children:[u.jsx(m8,{size:18}),u.jsx("span",{className:"text-sm font-medium",children:"Currently unavailable"})]}),w=(N=!1)=>u.jsxs("div",{className:"border border-border rounded-xl overflow-hidden mb-4",children:[u.jsxs("div",{className:"grid grid-cols-2 divide-x divide-border",children:[u.jsxs("div",{className:"p-3",children:[u.jsx("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"CHECK-IN"}),u.jsx(Xd,{selected:a,onChange:E=>o(E),selectsStart:!0,startDate:a,endDate:l,minDate:new Date,filterDate:E=>!y(E),placeholderText:"Add date",className:"w-full bg-transparent text-foreground focus:outline-none text-sm font-medium cursor-pointer",dateFormat:"MMM d, yyyy",popperPlacement:"bottom-start",withPortal:N})]}),u.jsxs("div",{className:"p-3",children:[u.jsx("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"CHECK-OUT"}),u.jsx(Xd,{selected:l,onChange:E=>c(E),selectsEnd:!0,startDate:a,endDate:l,minDate:a||new Date,filterDate:E=>!y(E),placeholderText:"Add date",className:"w-full bg-transparent text-foreground focus:outline-none text-sm font-medium cursor-pointer",dateFormat:"MMM d, yyyy",popperPlacement:"bottom-end",withPortal:N})]})]}),u.jsxs("div",{className:"border-t border-border p-3",children:[u.jsx("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"GUESTS"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Jr,{size:16,className:"text-muted-foreground"}),u.jsx("select",{value:d,onChange:E=>f(Number(E.target.value)),className:"w-full bg-transparent text-foreground focus:outline-none text-sm font-medium appearance-none cursor-pointer",children:Array.from({length:t.capacity||1},(E,P)=>P+1).map(E=>u.jsxs("option",{value:E,children:[E," ",E===1?"guest":"guests"]},E))})]})]})]}),C=()=>g>0&&u.jsxs("div",{className:"mt-6 space-y-3",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsxs("span",{className:"text-muted-foreground underline",children:[kt(t.pricePerNight)," x ",g," nights"]}),u.jsx("span",{children:kt(t.pricePerNight*g)})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground underline",children:"Cleaning fee"}),u.jsx("span",{children:kt(t.cleaningFee)})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground underline",children:"Service fee"}),u.jsx("span",{children:kt(t.serviceFee)})]}),u.jsxs("div",{className:"pt-3 border-t border-border flex justify-between font-semibold",children:[u.jsx("span",{children:"Total"}),u.jsx("span",{children:kt(m)})]})]}),_=()=>u.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"sticky top-24",children:u.jsxs("div",{className:"glass-card rounded-2xl p-6 shadow-elevated",children:[b(),k(),w(),u.jsx(yi,{onClick:x,disabled:!v,size:"lg",className:"w-full text-lg",children:t.isAvailable?"Reserve":"Not Available"}),v&&u.jsx("p",{className:"text-center text-sm text-muted-foreground mt-3",children:"You won't be charged yet"}),C()]})}),j=()=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-40 bg-background/80 backdrop-blur-sm border-t border-border p-4 shadow-lg",children:u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-lg font-bold text-foreground",children:[kt(t.pricePerNight)," ",u.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/night"})]}),g>0&&u.jsxs("p",{className:"text-xs text-muted-foreground",children:[g," nights  ",kt(m)," total"]})]}),u.jsx(yi,{onClick:()=>p(!0),size:"lg",className:"font-semibold flex items-center gap-2",children:a&&l?"Reserve":"Check Availability"})]})}),u.jsx(Hf,{children:h&&u.jsxs(u.Fragment,{children:[u.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>p(!1),className:"fixed inset-0 bg-black/50 z-50"}),u.jsxs(de.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 z-50 bg-background rounded-t-3xl max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-4 flex items-center justify-between",children:[u.jsx("h3",{className:"font-semibold text-foreground",children:"Book Your Stay"}),u.jsx(yi,{variant:"ghost",size:"icon",onClick:()=>p(!1),children:u.jsx(dn,{size:20})})]}),u.jsxs("div",{className:"p-4 space-y-4 pb-8",children:[b(),k(),w(!0),C(),u.jsx(yi,{onClick:x,disabled:!v,size:"lg",className:"w-full text-lg mt-4",children:t.isAvailable?"Reserve":"Not Available"}),v&&u.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"You won't be charged yet"})]})]})]})})]});return n?u.jsx(j,{}):u.jsx(_,{})},j0e=({bookedDates:t,checkIn:e,checkOut:n})=>{const[r,i]=S.useState(new Date),s=S.useMemo(()=>{const f=qo(r),h=kc(r);return Gw({start:f,end:h})},[r]),a=qo(r).getDay(),o=()=>i(mm(r,1)),l=()=>i(xd(r,1)),c=f=>{const h=ym(new Date);return tve(f,h)?"past":$W(f,t)?"booked":e&&ax(f,e)?"check-in":n&&ax(f,n)?"check-out":e&&n&&f>e&&f<n?"selected":"available"},d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return u.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-background rounded-2xl border border-border p-6",children:[u.jsx("h3",{className:"font-display text-lg font-semibold mb-4",children:"Availability"}),u.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded bg-primary/20 border border-primary"}),u.jsx("span",{children:"Available"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded bg-destructive/20 border border-destructive"}),u.jsx("span",{children:"Booked"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded bg-primary"}),u.jsx("span",{children:"Selected"})]})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("button",{onClick:l,className:"p-2 hover:bg-secondary rounded-lg transition-colors","aria-label":"Previous month",children:u.jsx(us,{size:20})}),u.jsx("h4",{className:"font-medium",children:we(r,"MMMM yyyy")}),u.jsx("button",{onClick:o,className:"p-2 hover:bg-secondary rounded-lg transition-colors","aria-label":"Next month",children:u.jsx(Qn,{size:20})})]}),u.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:d.map(f=>u.jsx("div",{className:"text-center text-xs font-medium text-muted-foreground py-2",children:f},f))}),u.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:a}).map((f,h)=>u.jsx("div",{className:"aspect-square"},`empty-${h}`)),s.map(f=>{const h=c(f);return u.jsx("div",{className:`aspect-square flex items-center justify-center text-sm rounded-lg transition-colors ${h==="past"?"text-muted-foreground/50":h==="booked"?"bg-destructive/20 text-destructive line-through":h==="check-in"||h==="check-out"?"bg-primary text-primary-foreground font-medium":h==="selected"?"bg-primary/30 text-foreground":"bg-primary/10 hover:bg-primary/20 text-foreground cursor-pointer"} ${b2(f)?"ring-2 ring-primary ring-offset-1":""}`,children:we(f,"d")},f.toISOString())})]}),u.jsx("div",{className:"mt-6 pt-6 border-t border-border",children:u.jsxs("button",{onClick:o,className:"w-full py-2 text-sm text-primary hover:text-primary/80 font-medium",children:["View ",we(mm(r,1),"MMMM yyyy")," "]})})]})},E0e=({label:t,value:e})=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:"w-28 text-sm text-muted-foreground",children:t}),u.jsx("div",{className:"flex-1 h-2 bg-secondary rounded-full overflow-hidden",children:u.jsx(de.div,{initial:{width:0},animate:{width:`${e/5*100}%`},transition:{duration:.8,delay:.2},className:"h-full bg-primary rounded-full"})}),u.jsx("span",{className:"w-8 text-sm font-medium",children:e.toFixed(1)})]}),N0e=({review:t})=>{const e=Kve(t.ratings);return u.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"border-b border-border pb-6 last:border-0",children:[u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("img",{src:t.avatar,alt:t.name,className:"w-12 h-12 rounded-full object-cover"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-semibold text-foreground",children:t.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t.country})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5}).map((n,r)=>u.jsx(Yr,{size:14,className:r<Math.round(e)?"text-yellow-500 fill-yellow-500":"text-muted-foreground"},r))}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t.date})]})]}),u.jsx("p",{className:"text-foreground/80 mb-4",children:t.review}),t.hostResponse&&u.jsxs("div",{className:"bg-secondary/30 rounded-lg p-4 ml-4 border-l-2 border-primary",children:[u.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:"Host response:"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t.hostResponse})]})]})},T0e=({reviews:t,averageRating:e,totalReviews:n})=>{const r=t.reduce((s,a)=>(Object.keys(a.ratings).forEach(o=>{const l=o;s[l]=(s[l]||0)+a.ratings[l]}),s),{});Object.keys(r).forEach(s=>{r[s]=r[s]/t.length});const i=[{key:"cleanliness",label:"Cleanliness"},{key:"communication",label:"Communication"},{key:"checkIn",label:"Check-in"},{key:"accuracy",label:"Accuracy"},{key:"location",label:"Location"},{key:"value",label:"Value"}];return u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-5xl font-display font-bold text-foreground mb-1",children:e.toFixed(1)}),u.jsx("div",{className:"flex justify-center mb-1",children:Array.from({length:5}).map((s,a)=>u.jsx(Yr,{size:18,className:a<Math.round(e)?"text-yellow-500 fill-yellow-500":"text-muted-foreground"},a))}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[n," reviews"]})]}),u.jsx("div",{className:"flex-1 space-y-2",children:i.map(({key:s,label:a})=>u.jsx(E0e,{label:a,value:r[s]||5},s))})]}),u.jsx("div",{className:"space-y-6",children:t.map(s=>u.jsx(N0e,{review:s},s.id))}),t.length<n&&u.jsxs("button",{className:"w-full mt-6 py-3 border border-border rounded-lg text-sm font-medium hover:bg-secondary transition-colors",children:["Show all ",n," reviews"]})]})},O0e=()=>{const{id:t}=Mw(),[e,n]=S.useState("overview"),{villas:r,fetchVillaById:i,isLoading:s}=vl(),{testimonials:a,fetchTestimonialsByVilla:o,isLoading:l}=Qw(),{globalBookedDates:c,fetchAndSetGlobalBookedDates:d,isDateGloballyBooked:f}=Ua(),[h,p]=S.useState(null),[g,m]=S.useState([]),[y,v]=S.useState([]);if(S.useEffect(()=>{if(!t)return;(async()=>{const k=await i(t);if(k){await d();const w=await o(t),C=lx(k,c[t]||[]);p(C),m(w.map(_=>({id:_.id,name:_.guest_name,country:_.guest_country||"International",avatar:_.guest_avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(_.guest_name)}`,rating:_.rating,review:_.review||"",date:_.review_date||_.created_at,villaId:_.villa_id,villaName:C.name})))}else p(null)})()},[t,i,o,d,c]),S.useEffect(()=>{if(h){const b=r.filter(k=>k.id!==h.id&&k.location===h.location).slice(0,3).map(k=>lx(k,c[k.id]||[]));v(b)}},[h,r,c]),s&&!h)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx(ze,{size:40,className:"animate-spin text-primary"})});if(!h)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Villa not found"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"The villa you are looking for does not exist or has been removed."}),u.jsx(Fe,{to:"/villas",className:"text-primary hover:underline",children:"Browse all villas"})]})});const x=[{id:"overview",label:"Overview"},{id:"amenities",label:"Amenities"},{id:"rules",label:"House Rules"},{id:"reviews",label:`Reviews (${g.length})`}];return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Zr,{}),u.jsx("main",{className:"pt-24 pb-16",children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[u.jsx(Fe,{to:"/",className:"hover:text-primary",children:"Home"}),u.jsx(Qn,{size:14}),u.jsx(Fe,{to:"/villas",className:"hover:text-primary",children:"Villas"}),u.jsx(Qn,{size:14}),u.jsx("span",{className:"text-foreground font-medium",children:h.name})]}),u.jsx(p0e,{images:h.images,alt:h.name}),u.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mt-8 pb-24 lg:pb-0",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[u.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(nr,{size:16})," ",u.jsx("span",{children:h.location})]}),u.jsx("h1",{className:"font-display text-3xl lg:text-4xl font-semibold text-foreground mb-2",children:h.name}),u.jsx("p",{className:"text-lg text-muted-foreground italic mb-4",children:h.tagline}),u.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Yr,{size:18,className:"text-yellow-500 fill-yellow-500"}),u.jsx("span",{className:"font-semibold",children:h.rating.toFixed(1)}),u.jsxs("span",{className:"text-muted-foreground",children:["(",g.length," reviews)"]})]}),u.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Jr,{size:16})," ",h.capacity," guests"]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(QT,{size:16})," ",h.bedrooms," bedrooms"]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(GT,{size:16})," ",h.bathrooms," bathrooms"]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-secondary/30 rounded-xl",children:[u.jsx("img",{src:h.host.photo,alt:h.host.name,className:"w-14 h-14 rounded-full object-cover"}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"font-semibold",children:["Hosted by ",h.host.name]}),h.host.verified&&u.jsx(Gee,{size:18,className:"text-primary"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Joined in ",new Date(h.host.joinedDate).getFullYear()]})]})]}),u.jsx("div",{className:"border-b border-border",children:u.jsx("div",{className:"flex gap-6 overflow-x-auto",children:x.map(b=>u.jsx("button",{onClick:()=>n(b.id),className:`pb-3 text-sm font-medium whitespace-nowrap transition-colors ${e===b.id?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-foreground"}`,children:b.label},b.id))})}),u.jsxs("div",{className:"min-h-[300px]",children:[e==="overview"&&u.jsx("div",{className:"prose prose-slate max-w-none text-foreground/80",dangerouslySetInnerHTML:{__html:h.description}}),e==="amenities"&&u.jsx("div",{className:"space-y-6",children:h.amenitiesDetailed.map(b=>u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-foreground mb-3",children:b.category}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:b.items.map(k=>u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[u.jsx(bg,{size:16,className:"text-primary"})," ",u.jsx("span",{children:k.name})]},k.name))})]},b.category))}),e==="rules"&&u.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:h.houseRules.map(b=>u.jsxs("div",{className:"p-4 bg-secondary/30 rounded-xl",children:[u.jsx("h4",{className:"font-semibold text-foreground",children:b.title}),u.jsx("p",{className:"text-sm text-muted-foreground",children:b.description})]},b.title))}),e==="reviews"&&u.jsx(T0e,{reviews:g,averageRating:h.rating,totalReviews:g.length})]}),u.jsx(j0e,{bookedDates:h.bookedDates})]}),u.jsx("div",{className:"hidden lg:block lg:col-span-1",children:u.jsx(HI,{villa:h})})]}),u.jsx("div",{className:"lg:hidden",children:u.jsx(HI,{villa:h})}),y.length>0&&u.jsxs("section",{className:"mt-16 pt-16 border-t border-border",children:[u.jsx("h2",{className:"font-display text-2xl font-semibold mb-8",children:"Similar Villas"}),u.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map((b,k)=>u.jsx(BW,{villa:b,index:k},b.id))})]})]})}),u.jsx(ei,{})]})},P0e=({isOpen:t,onClose:e,booking:n})=>{const r=()=>{alert("Confirmation email has been resent to "+n.guestEmail)};return u.jsx(Hf,{children:t&&u.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-foreground/50 backdrop-blur-sm",onClick:e,children:u.jsxs(de.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25},className:"relative w-full max-w-lg bg-background rounded-2xl shadow-xl overflow-hidden",onClick:i=>i.stopPropagation(),children:[u.jsxs("div",{className:"bg-primary/10 p-6 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Jp,{className:"w-8 h-8 text-primary-foreground"})}),u.jsx("h2",{className:"font-display text-2xl font-semibold text-foreground",children:"Confirmation Email Sent!"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"We've sent the booking details to"}),u.jsx("p",{className:"font-medium text-primary",children:n.guestEmail})]}),u.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-secondary rounded-full transition-colors",children:u.jsx(dn,{size:20})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"border border-border rounded-xl p-4 bg-secondary/30",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-4 border-b border-border",children:[u.jsx(Vd,{className:"w-5 h-5 text-green-500"}),u.jsx("span",{className:"font-medium",children:"Booking Confirmed"}),u.jsxs("span",{className:"ml-auto text-sm text-muted-foreground",children:["Ref: ",n.referenceNumber]})]}),u.jsx("h3",{className:"font-display font-semibold text-lg mb-3",children:n.villaName}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gn,{size:16,className:"text-primary"}),u.jsxs("span",{children:[we(new Date(n.checkIn),"MMM d")," -"," ",we(new Date(n.checkOut),"MMM d, yyyy")]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Jr,{size:16,className:"text-primary"}),u.jsxs("span",{children:[n.guests," guests"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(nr,{size:16,className:"text-primary"}),u.jsx("span",{children:"Ubud, Bali, Indonesia"})]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex justify-between items-center",children:[u.jsx("span",{className:"text-muted-foreground",children:"Total Paid"}),u.jsx("span",{className:"font-semibold text-lg text-primary",children:kt(n.total)})]})]}),u.jsxs("div",{className:"flex gap-3 mt-6",children:[u.jsxs("button",{onClick:r,className:"flex-1 btn-outline py-3 flex items-center justify-center gap-2",children:[u.jsx(Jp,{size:18}),"Resend Email"]}),u.jsx("button",{onClick:e,className:"flex-1 btn-primary py-3",children:"Done"})]}),u.jsx("p",{className:"text-xs text-muted-foreground text-center mt-4",children:"Please check your spam folder if you don't see the email in your inbox."})]})]})})})},sH=S.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:Ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));sH.displayName="Textarea";var kk=0;function A0e(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??qI()),document.body.insertAdjacentElement("beforeend",t[1]??qI()),kk++,()=>{kk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),kk--}},[])}function qI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ck="focusScope.autoFocusOnMount",_k="focusScope.autoFocusOnUnmount",KI={bubbles:!1,cancelable:!0},M0e="FocusScope",aH=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,l]=S.useState(null),c=cs(i),d=cs(s),f=S.useRef(null),h=at(e,m=>l(m)),p=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let m=function(b){if(p.paused||!o)return;const k=b.target;o.contains(k)?f.current=k:so(f.current,{select:!0})},y=function(b){if(p.paused||!o)return;const k=b.relatedTarget;k!==null&&(o.contains(k)||so(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const w of b)w.removedNodes.length>0&&so(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const x=new MutationObserver(v);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),x.disconnect()}}},[r,o,p.paused]),S.useEffect(()=>{if(o){GI.add(p);const m=document.activeElement;if(!o.contains(m)){const v=new CustomEvent(Ck,KI);o.addEventListener(Ck,c),o.dispatchEvent(v),v.defaultPrevented||(D0e(B0e(oH(o)),{select:!0}),document.activeElement===m&&so(o))}return()=>{o.removeEventListener(Ck,c),setTimeout(()=>{const v=new CustomEvent(_k,KI);o.addEventListener(_k,d),o.dispatchEvent(v),v.defaultPrevented||so(m??document.body,{select:!0}),o.removeEventListener(_k,d),GI.remove(p)},0)}}},[o,c,d,p]);const g=S.useCallback(m=>{if(!n&&!r||p.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(y&&v){const x=m.currentTarget,[b,k]=R0e(x);b&&k?!m.shiftKey&&v===k?(m.preventDefault(),n&&so(b,{select:!0})):m.shiftKey&&v===b&&(m.preventDefault(),n&&so(k,{select:!0})):v===x&&m.preventDefault()}},[n,r,p.paused]);return u.jsx(We.div,{tabIndex:-1,...a,ref:h,onKeyDown:g})});aH.displayName=M0e;function D0e(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(so(r,{select:e}),document.activeElement!==n)return}function R0e(t){const e=oH(t),n=YI(e,t),r=YI(e.reverse(),t);return[n,r]}function oH(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function YI(t,e){for(const n of t)if(!I0e(n,{upTo:e}))return n}function I0e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function $0e(t){return t instanceof HTMLInputElement&&"select"in t}function so(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&$0e(t)&&e&&t.select()}}var GI=L0e();function L0e(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=QI(t,e),t.unshift(e)},remove(e){var n;t=QI(t,e),(n=t[0])==null||n.resume()}}}function QI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function B0e(t){return t.filter(e=>e.tagName!=="A")}var F0e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Su=new WeakMap,Uy=new WeakMap,Wy={},jk=0,lH=function(t){return t&&(t.host||lH(t.parentNode))},z0e=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=lH(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},V0e=function(t,e,n,r){var i=z0e(e,Array.isArray(t)?t:[t]);Wy[n]||(Wy[n]=new WeakMap);var s=Wy[n],a=[],o=new Set,l=new Set(i),c=function(f){!f||o.has(f)||(o.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(r),g=p!==null&&p!=="false",m=(Su.get(h)||0)+1,y=(s.get(h)||0)+1;Su.set(h,m),s.set(h,y),a.push(h),m===1&&g&&Uy.set(h,!0),y===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(e),o.clear(),jk++,function(){a.forEach(function(f){var h=Su.get(f)-1,p=s.get(f)-1;Su.set(f,h),s.set(f,p),h||(Uy.has(f)||f.removeAttribute(r),Uy.delete(f)),p||f.removeAttribute(n)}),jk--,jk||(Su=new WeakMap,Su=new WeakMap,Uy=new WeakMap,Wy={})}},U0e=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=F0e(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),V0e(r,i,n,"aria-hidden")):function(){return null}},Yv="right-scroll-bar-position",Gv="width-before-scroll-bar",W0e="with-scroll-bars-hidden",H0e="--removed-body-scroll-bar-size";function Ek(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function q0e(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var K0e=typeof window<"u"?S.useLayoutEffect:S.useEffect,XI=new WeakMap;function Y0e(t,e){var n=q0e(null,function(r){return t.forEach(function(i){return Ek(i,r)})});return K0e(function(){var r=XI.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(o){s.has(o)||Ek(o,null)}),s.forEach(function(o){i.has(o)||Ek(o,a)})}XI.set(n,t)},[t]),n}function G0e(t){return t}function Q0e(t,e){e===void 0&&(e=G0e);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var l=function(){var d=a;a=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),n}}}};return i}function X0e(t){t===void 0&&(t={});var e=Q0e(null);return e.options=hi({async:!0,ssr:!1},t),e}var cH=function(t){var e=t.sideCar,n=gl(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,hi({},n))};cH.isSideCarExport=!0;function J0e(t,e){return t.useMedium(e),cH}var uH=X0e(),Nk=function(){},Jw=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:Nk,onWheelCapture:Nk,onTouchMoveCapture:Nk}),i=r[0],s=r[1],a=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noRelative,g=t.noIsolation,m=t.inert,y=t.allowPinchZoom,v=t.as,x=v===void 0?"div":v,b=t.gapMode,k=gl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,C=Y0e([n,e]),_=hi(hi({},k),i);return S.createElement(S.Fragment,null,d&&S.createElement(w,{sideCar:uH,removeScrollBar:c,shards:f,noRelative:p,noIsolation:g,inert:m,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:b}),a?S.cloneElement(S.Children.only(o),hi(hi({},_),{ref:C})):S.createElement(x,hi({},_,{className:l,ref:C}),o))});Jw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jw.classNames={fullWidth:Gv,zeroRight:Yv};var Z0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function exe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Z0e();return e&&t.setAttribute("nonce",e),t}function txe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function nxe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var rxe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=exe())&&(txe(e,n),nxe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ixe=function(){var t=rxe();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},dH=function(){var t=ixe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},sxe={left:0,top:0,right:0,gap:0},Tk=function(t){return parseInt(t||"",10)||0},axe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Tk(n),Tk(r),Tk(i)]},oxe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sxe;var e=axe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},lxe=dH(),bd="data-scroll-locked",cxe=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(W0e,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(bd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yv,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Gv,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Yv," .").concat(Yv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gv," .").concat(Gv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bd,`] {
    `).concat(H0e,": ").concat(o,`px;
  }
`)},JI=function(){var t=parseInt(document.body.getAttribute(bd)||"0",10);return isFinite(t)?t:0},uxe=function(){S.useEffect(function(){return document.body.setAttribute(bd,(JI()+1).toString()),function(){var t=JI()-1;t<=0?document.body.removeAttribute(bd):document.body.setAttribute(bd,t.toString())}},[])},dxe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;uxe();var s=S.useMemo(function(){return oxe(i)},[i]);return S.createElement(lxe,{styles:cxe(s,!e,i,n?"":"!important")})},Lj=!1;if(typeof window<"u")try{var Hy=Object.defineProperty({},"passive",{get:function(){return Lj=!0,!0}});window.addEventListener("test",Hy,Hy),window.removeEventListener("test",Hy,Hy)}catch{Lj=!1}var ku=Lj?{passive:!1}:!1,fxe=function(t){return t.tagName==="TEXTAREA"},fH=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!fxe(t)&&n[e]==="visible")},hxe=function(t){return fH(t,"overflowY")},pxe=function(t){return fH(t,"overflowX")},ZI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=hH(t,r);if(i){var s=pH(t,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},mxe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},gxe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},hH=function(t,e){return t==="v"?hxe(e):pxe(e)},pH=function(t,e){return t==="v"?mxe(e):gxe(e)},yxe=function(t,e){return t==="h"&&e==="rtl"?-1:1},vxe=function(t,e,n,r,i){var s=yxe(t,window.getComputedStyle(e).direction),a=s*r,o=n.target,l=e.contains(o),c=!1,d=a>0,f=0,h=0;do{if(!o)break;var p=pH(t,o),g=p[0],m=p[1],y=p[2],v=m-y-s*g;(g||v)&&hH(t,o)&&(f+=v,h+=g);var x=o.parentNode;o=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(c=!0),c},qy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},e$=function(t){return[t.deltaX,t.deltaY]},t$=function(t){return t&&"current"in t?t.current:t},xxe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},bxe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wxe=0,Cu=[];function Sxe(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(wxe++)[0],s=S.useState(dH)[0],a=S.useRef(t);S.useEffect(function(){a.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=d2([t.lockRef.current],(t.shards||[]).map(t$),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=S.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var v=qy(m),x=n.current,b="deltaX"in m?m.deltaX:x[0]-v[0],k="deltaY"in m?m.deltaY:x[1]-v[1],w,C=m.target,_=Math.abs(b)>Math.abs(k)?"h":"v";if("touches"in m&&_==="h"&&C.type==="range")return!1;var j=window.getSelection(),N=j&&j.anchorNode,E=N?N===C||N.contains(C):!1;if(E)return!1;var P=ZI(_,C);if(!P)return!0;if(P?w=_:(w=_==="v"?"h":"v",P=ZI(_,C)),!P)return!1;if(!r.current&&"changedTouches"in m&&(b||k)&&(r.current=w),!w)return!0;var O=r.current||w;return vxe(O,y,m,O==="h"?b:k)},[]),l=S.useCallback(function(m){var y=m;if(!(!Cu.length||Cu[Cu.length-1]!==s)){var v="deltaY"in y?e$(y):qy(y),x=e.current.filter(function(w){return w.name===y.type&&(w.target===y.target||y.target===w.shadowParent)&&xxe(w.delta,v)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var b=(a.current.shards||[]).map(t$).filter(Boolean).filter(function(w){return w.contains(y.target)}),k=b.length>0?o(y,b[0]):!a.current.noIsolation;k&&y.cancelable&&y.preventDefault()}}},[]),c=S.useCallback(function(m,y,v,x){var b={name:m,delta:y,target:v,should:x,shadowParent:kxe(v)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(k){return k!==b})},1)},[]),d=S.useCallback(function(m){n.current=qy(m),r.current=void 0},[]),f=S.useCallback(function(m){c(m.type,e$(m),m.target,o(m,t.lockRef.current))},[]),h=S.useCallback(function(m){c(m.type,qy(m),m.target,o(m,t.lockRef.current))},[]);S.useEffect(function(){return Cu.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ku),document.addEventListener("touchmove",l,ku),document.addEventListener("touchstart",d,ku),function(){Cu=Cu.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,ku),document.removeEventListener("touchmove",l,ku),document.removeEventListener("touchstart",d,ku)}},[]);var p=t.removeScrollBar,g=t.inert;return S.createElement(S.Fragment,null,g?S.createElement(s,{styles:bxe(i)}):null,p?S.createElement(dxe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function kxe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Cxe=J0e(uH,Sxe);var mH=S.forwardRef(function(t,e){return S.createElement(Jw,hi({},t,{ref:e,sideCar:Cxe}))});mH.classNames=Jw.classNames;var _xe=[" ","Enter","ArrowUp","ArrowDown"],jxe=[" ","Enter"],Lc="Select",[Zw,e1,Exe]=UT(Lc),[Gf]=Rf(Lc,[Exe,Ew]),t1=Ew(),[Nxe,xl]=Gf(Lc),[Txe,Oxe]=Gf(Lc),gH=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:p,form:g}=t,m=t1(e),[y,v]=S.useState(null),[x,b]=S.useState(null),[k,w]=S.useState(!1),C=FW(c),[_,j]=N0({prop:r,defaultProp:i??!1,onChange:s,caller:Lc}),[N,E]=N0({prop:a,defaultProp:o,onChange:l,caller:Lc}),P=S.useRef(null),O=y?g||!!y.closest("form"):!0,[D,A]=S.useState(new Set),M=Array.from(D).map($=>$.props.value).join(";");return u.jsx(cie,{...m,children:u.jsxs(Nxe,{required:p,scope:e,trigger:y,onTriggerChange:v,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:k,onValueNodeHasChildrenChange:w,contentId:sO(),value:N,onValueChange:E,open:_,onOpenChange:j,dir:C,triggerPointerDownPosRef:P,disabled:h,children:[u.jsx(Zw.Provider,{scope:e,children:u.jsx(Txe,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback($=>{A(I=>new Set(I).add($))},[]),onNativeOptionRemove:S.useCallback($=>{A(I=>{const R=new Set(I);return R.delete($),R})},[]),children:n})}),O?u.jsxs(FH,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:$=>E($.target.value),disabled:h,form:g,children:[N===void 0?u.jsx("option",{value:""}):null,Array.from(D)]},M):null]})})};gH.displayName=Lc;var yH="SelectTrigger",vH=S.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=t1(n),a=xl(yH,n),o=a.disabled||r,l=at(e,a.onTriggerChange),c=e1(n),d=S.useRef("touch"),[f,h,p]=VH(m=>{const y=c().filter(b=>!b.disabled),v=y.find(b=>b.value===a.value),x=UH(y,m,v);x!==void 0&&a.onValueChange(x.value)}),g=m=>{o||(a.onOpenChange(!0),p()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return u.jsx(yz,{asChild:!0,...s,children:u.jsx(We.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":zH(a.value)?"":void 0,...i,ref:l,onClick:Ee(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:Ee(i.onPointerDown,m=>{d.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:Ee(i.onKeyDown,m=>{const y=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(y&&m.key===" ")&&_xe.includes(m.key)&&(g(),m.preventDefault())})})})});vH.displayName=yH;var xH="SelectValue",bH=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=t,l=xl(xH,n),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,f=at(e,l.onValueNodeChange);return Dn(()=>{c(d)},[c,d]),u.jsx(We.span,{...o,ref:f,style:{pointerEvents:"none"},children:zH(l.value)?u.jsx(u.Fragment,{children:a}):s})});bH.displayName=xH;var Pxe="SelectIcon",wH=S.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return u.jsx(We.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});wH.displayName=Pxe;var Axe="SelectPortal",SH=t=>u.jsx(WT,{asChild:!0,...t});SH.displayName=Axe;var Bc="SelectContent",kH=S.forwardRef((t,e)=>{const n=xl(Bc,t.__scopeSelect),[r,i]=S.useState();if(Dn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Jc.createPortal(u.jsx(CH,{scope:t.__scopeSelect,children:u.jsx(Zw.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),s):null}return u.jsx(_H,{...t,ref:e})});kH.displayName=Bc;var zi=10,[CH,bl]=Gf(Bc),Mxe="SelectContentImpl",Dxe=E0("SelectContent.RemoveScroll"),_H=S.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:y,...v}=t,x=xl(Bc,n),[b,k]=S.useState(null),[w,C]=S.useState(null),_=at(e,Z=>k(Z)),[j,N]=S.useState(null),[E,P]=S.useState(null),O=e1(n),[D,A]=S.useState(!1),M=S.useRef(!1);S.useEffect(()=>{if(b)return U0e(b)},[b]),A0e();const $=S.useCallback(Z=>{const[_e,...Y]=O().map(F=>F.ref.current),[re]=Y.slice(-1),ne=document.activeElement;for(const F of Z)if(F===ne||(F==null||F.scrollIntoView({block:"nearest"}),F===_e&&w&&(w.scrollTop=0),F===re&&w&&(w.scrollTop=w.scrollHeight),F==null||F.focus(),document.activeElement!==ne))return},[O,w]),I=S.useCallback(()=>$([j,b]),[$,j,b]);S.useEffect(()=>{D&&I()},[D,I]);const{onOpenChange:R,triggerPointerDownPosRef:L}=x;S.useEffect(()=>{if(b){let Z={x:0,y:0};const _e=re=>{var ne,F;Z={x:Math.abs(Math.round(re.pageX)-(((ne=L.current)==null?void 0:ne.x)??0)),y:Math.abs(Math.round(re.pageY)-(((F=L.current)==null?void 0:F.y)??0))}},Y=re=>{Z.x<=10&&Z.y<=10?re.preventDefault():b.contains(re.target)||R(!1),document.removeEventListener("pointermove",_e),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",Y,{capture:!0})}}},[b,R,L]),S.useEffect(()=>{const Z=()=>R(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[R]);const[B,W]=VH(Z=>{const _e=O().filter(ne=>!ne.disabled),Y=_e.find(ne=>ne.ref.current===document.activeElement),re=UH(_e,Z,Y);re&&setTimeout(()=>re.ref.current.focus())}),z=S.useCallback((Z,_e,Y)=>{const re=!M.current&&!Y;(x.value!==void 0&&x.value===_e||re)&&(N(Z),re&&(M.current=!0))},[x.value]),K=S.useCallback(()=>b==null?void 0:b.focus(),[b]),ie=S.useCallback((Z,_e,Y)=>{const re=!M.current&&!Y;(x.value!==void 0&&x.value===_e||re)&&P(Z)},[x.value]),J=r==="popper"?Bj:jH,ye=J===Bj?{side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:y}:{};return u.jsx(CH,{scope:n,content:b,viewport:w,onViewportChange:C,itemRefCallback:z,selectedItem:j,onItemLeave:K,itemTextRefCallback:ie,focusSelectedItem:I,selectedItemText:E,position:r,isPositioned:D,searchRef:B,children:u.jsx(mH,{as:Dxe,allowPinchZoom:!0,children:u.jsx(aH,{asChild:!0,trapped:x.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:Ee(i,Z=>{var _e;(_e=x.trigger)==null||_e.focus({preventScroll:!0}),Z.preventDefault()}),children:u.jsx(yw,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:u.jsx(J,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Z=>Z.preventDefault(),...v,...ye,onPlaced:()=>A(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Ee(v.onKeyDown,Z=>{const _e=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!_e&&Z.key.length===1&&W(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let re=O().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const ne=Z.target,F=re.indexOf(ne);re=re.slice(F+1)}setTimeout(()=>$(re)),Z.preventDefault()}})})})})})})});_H.displayName=Mxe;var Rxe="SelectItemAlignedPosition",jH=S.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=xl(Bc,n),a=bl(Bc,n),[o,l]=S.useState(null),[c,d]=S.useState(null),f=at(e,_=>d(_)),h=e1(n),p=S.useRef(!1),g=S.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:v,focusSelectedItem:x}=a,b=S.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&c&&m&&y&&v){const _=s.trigger.getBoundingClientRect(),j=c.getBoundingClientRect(),N=s.valueNode.getBoundingClientRect(),E=v.getBoundingClientRect();if(s.dir!=="rtl"){const ne=E.left-j.left,F=N.left-ne,Pe=_.left-F,Se=_.width+Pe,ot=Math.max(Se,j.width),rt=window.innerWidth-zi,Dt=cx(F,[zi,Math.max(zi,rt-ot)]);o.style.minWidth=Se+"px",o.style.left=Dt+"px"}else{const ne=j.right-E.right,F=window.innerWidth-N.right-ne,Pe=window.innerWidth-_.right-F,Se=_.width+Pe,ot=Math.max(Se,j.width),rt=window.innerWidth-zi,Dt=cx(F,[zi,Math.max(zi,rt-ot)]);o.style.minWidth=Se+"px",o.style.right=Dt+"px"}const P=h(),O=window.innerHeight-zi*2,D=m.scrollHeight,A=window.getComputedStyle(c),M=parseInt(A.borderTopWidth,10),$=parseInt(A.paddingTop,10),I=parseInt(A.borderBottomWidth,10),R=parseInt(A.paddingBottom,10),L=M+$+D+R+I,B=Math.min(y.offsetHeight*5,L),W=window.getComputedStyle(m),z=parseInt(W.paddingTop,10),K=parseInt(W.paddingBottom,10),ie=_.top+_.height/2-zi,J=O-ie,ye=y.offsetHeight/2,Z=y.offsetTop+ye,_e=M+$+Z,Y=L-_e;if(_e<=ie){const ne=P.length>0&&y===P[P.length-1].ref.current;o.style.bottom="0px";const F=c.clientHeight-m.offsetTop-m.offsetHeight,Pe=Math.max(J,ye+(ne?K:0)+F+I),Se=_e+Pe;o.style.height=Se+"px"}else{const ne=P.length>0&&y===P[0].ref.current;o.style.top="0px";const Pe=Math.max(ie,M+m.offsetTop+(ne?z:0)+ye)+Y;o.style.height=Pe+"px",m.scrollTop=_e-ie+m.offsetTop}o.style.margin=`${zi}px 0`,o.style.minHeight=B+"px",o.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,o,c,m,y,v,s.dir,r]);Dn(()=>b(),[b]);const[k,w]=S.useState();Dn(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);const C=S.useCallback(_=>{_&&g.current===!0&&(b(),x==null||x(),g.current=!1)},[b,x]);return u.jsx($xe,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:u.jsx(We.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});jH.displayName=Rxe;var Ixe="SelectPopperPosition",Bj=S.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=zi,...s}=t,a=t1(n);return u.jsx(vz,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bj.displayName=Ixe;var[$xe,S2]=Gf(Bc,{}),Fj="SelectViewport",EH=S.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=bl(Fj,n),a=S2(Fj,n),o=at(e,s.onViewportChange),l=S.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Zw.Slot,{scope:n,children:u.jsx(We.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ee(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const g=window.innerHeight-zi*2,m=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),v=Math.max(m,y);if(v<g){const x=v+p,b=Math.min(g,x),k=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});EH.displayName=Fj;var NH="SelectGroup",[Lxe,Bxe]=Gf(NH),Fxe=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=sO();return u.jsx(Lxe,{scope:n,id:i,children:u.jsx(We.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Fxe.displayName=NH;var TH="SelectLabel",OH=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Bxe(TH,n);return u.jsx(We.div,{id:i.id,...r,ref:e})});OH.displayName=TH;var dx="SelectItem",[zxe,PH]=Gf(dx),AH=S.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,o=xl(dx,n),l=bl(dx,n),c=o.value===r,[d,f]=S.useState(s??""),[h,p]=S.useState(!1),g=at(e,x=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,x,r,i)}),m=sO(),y=S.useRef("touch"),v=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(zxe,{scope:n,value:r,disabled:i,textId:m,isSelected:c,onItemTextChange:S.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:u.jsx(Zw.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:u.jsx(We.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:Ee(a.onFocus,()=>p(!0)),onBlur:Ee(a.onBlur,()=>p(!1)),onClick:Ee(a.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:Ee(a.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:Ee(a.onPointerDown,x=>{y.current=x.pointerType}),onPointerMove:Ee(a.onPointerMove,x=>{var b;y.current=x.pointerType,i?(b=l.onItemLeave)==null||b.call(l):y.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(a.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:Ee(a.onKeyDown,x=>{var k;((k=l.searchRef)==null?void 0:k.current)!==""&&x.key===" "||(jxe.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});AH.displayName=dx;var Jh="SelectItemText",MH=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=xl(Jh,n),o=bl(Jh,n),l=PH(Jh,n),c=Oxe(Jh,n),[d,f]=S.useState(null),h=at(e,v=>f(v),l.onItemTextChange,v=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,v,l.value,l.disabled)}),p=d==null?void 0:d.textContent,g=S.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=c;return Dn(()=>(m(g),()=>y(g)),[m,y,g]),u.jsxs(u.Fragment,{children:[u.jsx(We.span,{id:l.textId,...s,ref:h}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Jc.createPortal(s.children,a.valueNode):null]})});MH.displayName=Jh;var DH="SelectItemIndicator",RH=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return PH(DH,n).isSelected?u.jsx(We.span,{"aria-hidden":!0,...r,ref:e}):null});RH.displayName=DH;var zj="SelectScrollUpButton",IH=S.forwardRef((t,e)=>{const n=bl(zj,t.__scopeSelect),r=S2(zj,t.__scopeSelect),[i,s]=S.useState(!1),a=at(e,r.onScrollButtonChange);return Dn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?u.jsx(LH,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});IH.displayName=zj;var Vj="SelectScrollDownButton",$H=S.forwardRef((t,e)=>{const n=bl(Vj,t.__scopeSelect),r=S2(Vj,t.__scopeSelect),[i,s]=S.useState(!1),a=at(e,r.onScrollButtonChange);return Dn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?u.jsx(LH,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});$H.displayName=Vj;var LH=S.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=bl("SelectScrollButton",n),a=S.useRef(null),o=e1(n),l=S.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return S.useEffect(()=>()=>l(),[l]),Dn(()=>{var d;const c=o().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),u.jsx(We.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ee(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Ee(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Ee(i.onPointerLeave,()=>{l()})})}),Vxe="SelectSeparator",BH=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(We.div,{"aria-hidden":!0,...r,ref:e})});BH.displayName=Vxe;var Uj="SelectArrow",Uxe=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=t1(n),s=xl(Uj,n),a=bl(Uj,n);return s.open&&a.position==="popper"?u.jsx(xz,{...i,...r,ref:e}):null});Uxe.displayName=Uj;var Wxe="SelectBubbleInput",FH=S.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=S.useRef(null),s=at(r,i),a=zW(e);return S.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(f)}},[a,e]),u.jsx(We.select,{...n,style:{...q5,...n.style},ref:s,defaultValue:e})});FH.displayName=Wxe;function zH(t){return t===""||t===void 0}function VH(t){const e=cs(t),n=S.useRef(""),r=S.useRef(0),i=S.useCallback(a=>{const o=n.current+a;e(o),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),s=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function UH(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=Hxe(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Hxe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var qxe=gH,WH=vH,Kxe=bH,Yxe=wH,Gxe=SH,HH=kH,Qxe=EH,qH=OH,KH=AH,Xxe=MH,Jxe=RH,YH=IH,GH=$H,QH=BH;const Ok=qxe,Pk=Kxe,Qv=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(WH,{ref:r,className:Ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(Yxe,{asChild:!0,children:u.jsx(ww,{className:"h-4 w-4 opacity-50"})})]}));Qv.displayName=WH.displayName;const XH=S.forwardRef(({className:t,...e},n)=>u.jsx(YH,{ref:n,className:Ke("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(nte,{className:"h-4 w-4"})}));XH.displayName=YH.displayName;const JH=S.forwardRef(({className:t,...e},n)=>u.jsx(GH,{ref:n,className:Ke("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(ww,{className:"h-4 w-4"})}));JH.displayName=GH.displayName;const Xv=S.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>u.jsx(Gxe,{children:u.jsxs(HH,{ref:i,className:Ke("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(XH,{}),u.jsx(Qxe,{className:Ke("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(JH,{})]})}));Xv.displayName=HH.displayName;const Zxe=S.forwardRef(({className:t,...e},n)=>u.jsx(qH,{ref:n,className:Ke("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Zxe.displayName=qH.displayName;const Ru=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(KH,{ref:r,className:Ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Jxe,{children:u.jsx(bg,{className:"h-4 w-4"})})}),u.jsx(Xxe,{children:e})]}));Ru.displayName=KH.displayName;const ebe=S.forwardRef(({className:t,...e},n)=>u.jsx(QH,{ref:n,className:Ke("-mx-1 my-1 h-px bg-muted",t),...e}));ebe.displayName=QH.displayName;const tbe=[{id:"card",name:"Credit/Debit Card",icon:y8},{id:"bank",name:"Bank Transfer",icon:XT},{id:"wallet",name:"E-Wallet (GoPay, OVO, Dana)",icon:$te}],nbe=()=>{const t=Gs(),{booking:e,saveBooking:n,clearBooking:r}=Ua(),[i,s]=S.useState(1),[a,o]=S.useState(!1),[l,c]=S.useState(!1),[d,f]=S.useState(null),[h,p]=S.useState({fullName:"",email:"",whatsapp:"+62 ",country:"Indonesia",idType:"KTP",idNumber:"",arrivalTime:"15:00"}),[g,m]=S.useState(""),[y,v]=S.useState("card"),[x,b]=S.useState({cancellation:!1,rules:!1,privacy:!1,newsletter:!1}),[k,w]=S.useState({});if(S.useEffect(()=>{e||(X({title:"No active booking",description:"Please start a new booking.",variant:"destructive"}),t("/villas"))},[e,t]),!e)return null;const C=()=>{const E={};return h.fullName.trim()||(E.fullName="Full name is required"),h.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.email)||(E.email="Invalid email format"):E.email="Email is required",(!h.whatsapp.trim()||h.whatsapp==="+62 ")&&(E.whatsapp="WhatsApp number is required"),h.idNumber.trim()||(E.idNumber="ID Number is required"),w(E),Object.keys(E).length===0},_=async()=>{if(!x.rules||!x.privacy){X({title:"Agreement required",description:"Please agree to all terms and policies.",variant:"destructive"});return}o(!0);const E={...h,specialRequests:g.trim()},P={id:crypto.randomUUID(),referenceNumber:vve(),villaId:e.villaId,villaName:e.villaName,villaImage:e.villaImage,checkIn:we(e.checkIn,"yyyy-MM-dd"),checkOut:we(e.checkOut,"yyyy-MM-dd"),guests:e.guests,nights:e.nights,basePrice:e.nightlyRate*e.nights,cleaningFee:e.cleaningFee,serviceFee:e.serviceFee,discountAmount:0,discountCode:null,total:e.total,status:"confirmed",paymentStatus:"pending",guestDetails:E,paymentMethod:y,createdAt:new Date().toISOString()},{success:O,error:D}=await n(P);o(!1),O?(f(P),c(!0)):X({title:"Booking Failed",description:D||"Could not save your booking. Please try again.",variant:"destructive"})},j=()=>{c(!1),r(),d&&t(`/booking-confirmation?ref=${d.referenceNumber}`)},N=(E,P)=>{p(O=>({...O,[E]:P}))};return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Zr,{}),u.jsx("main",{className:"pt-24 pb-16",children:u.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[u.jsxs(Fe,{to:`/villas/${e.villaId}`,className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-8 transition-colors",children:[u.jsx(bw,{size:18})," Back to Villa"]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-1 order-2 lg:order-1",children:u.jsx(de.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"sticky top-24",children:u.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden shadow-elevated",children:[u.jsx("img",{src:e.villaImage,alt:e.villaName,className:"w-full h-48 object-cover"}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"font-display text-xl font-semibold mb-4",children:e.villaName}),u.jsxs("div",{className:"space-y-3 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Gn,{size:18,className:"text-primary"}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:we(e.checkIn,"MMM d")}),u.jsx("span",{className:"text-muted-foreground",children:"  "}),u.jsx("span",{className:"font-medium",children:we(e.checkOut,"MMM d, yyyy")})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Jr,{size:18,className:"text-primary"}),u.jsxs("span",{children:[e.guests," guests"]})]})]}),u.jsxs("div",{className:"mt-6 pt-6 border-t border-border space-y-3",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsxs("span",{className:"text-muted-foreground",children:[kt(e.nightlyRate),"  ",e.nights," nights"]}),u.jsx("span",{children:kt(e.nightlyRate*e.nights)})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Cleaning fee"}),u.jsx("span",{children:kt(e.cleaningFee)})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Service fee"}),u.jsx("span",{children:kt(e.serviceFee)})]}),u.jsxs("div",{className:"pt-3 border-t border-border flex justify-between font-semibold text-lg",children:[u.jsx("span",{children:"Total"}),u.jsx("span",{className:"text-primary",children:kt(e.total)})]})]})]})]})})}),u.jsx("div",{className:"lg:col-span-2 order-1 lg:order-2",children:u.jsxs(de.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[i===1&&u.jsxs("div",{className:"glass-card rounded-2xl p-8",children:[u.jsx("h2",{className:"font-display text-2xl font-semibold mb-6",children:"Your Details"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(Ky,{label:"Full Name",value:h.fullName,onChange:E=>N("fullName",E.target.value),error:k.fullName,required:!0}),u.jsx(Ky,{label:"Email Address",type:"email",value:h.email,onChange:E=>N("email",E.target.value),error:k.email,required:!0}),u.jsx(Ky,{label:"WhatsApp Number",type:"tel",value:h.whatsapp,onChange:E=>N("whatsapp",E.target.value),error:k.whatsapp,required:!0}),u.jsxs(Ok,{value:h.country,onValueChange:E=>N("country",E),children:[u.jsx(Qv,{children:u.jsx(Pk,{placeholder:"Country/Region"})}),u.jsxs(Xv,{children:[u.jsx(Ru,{value:"Indonesia",children:"Indonesia"}),u.jsx(Ru,{value:"United States",children:"United States"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs(Ok,{value:h.idType,onValueChange:E=>N("idType",E),children:[u.jsx(Qv,{children:u.jsx(Pk,{placeholder:"ID Type"})}),u.jsxs(Xv,{children:[u.jsx(Ru,{value:"KTP",children:"KTP"}),u.jsx(Ru,{value:"Passport",children:"Passport"})]})]}),u.jsx(Ky,{label:"ID Number",value:h.idNumber,onChange:E=>N("idNumber",E.target.value),error:k.idNumber,required:!0})]}),u.jsxs(Ok,{value:h.arrivalTime,onValueChange:E=>N("arrivalTime",E),children:[u.jsx(Qv,{children:u.jsx(Pk,{placeholder:"Arrival Time"})}),u.jsx(Xv,{children:["15:00","16:00","17:00","18:00","19:00","20:00+"].map(E=>u.jsx(Ru,{value:E,children:E},E))})]}),u.jsx(sH,{label:"Special Requests",value:g,onChange:E=>m(E.target.value),placeholder:"Airport pickup, dietary needs, etc."})]}),u.jsx(yi,{onClick:()=>C()&&s(2),size:"lg",className:"w-full mt-8",children:"Continue"})]}),i===2&&u.jsxs("div",{className:"glass-card rounded-2xl p-8",children:[u.jsx("h2",{className:"font-display text-2xl font-semibold mb-6",children:"Final Confirmation"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{class:"text-lg font-medium",children:"Payment Method"}),u.jsx("div",{className:"space-y-2",children:tbe.map(E=>u.jsxs("button",{onClick:()=>v(E.id),className:`w-full p-4 rounded-xl border-2 flex items-center gap-4 transition-colors ${y===E.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[u.jsx(E.icon,{size:24,className:y===E.id?"text-primary":"text-muted-foreground"}),u.jsx("span",{className:"font-medium",children:E.name}),y===E.id&&u.jsx(bg,{size:20,className:"ml-auto text-primary"})]},E.id))}),u.jsx("h3",{class:"text-lg font-medium pt-4",children:"Agreements"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-3 rounded-xl border border-transparent hover:bg-secondary/50",children:[u.jsx("input",{type:"checkbox",checked:x.rules,onChange:E=>b(P=>({...P,rules:E.target.checked})),className:"mt-1 w-5 h-5 rounded border-border text-primary focus:ring-primary"}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"House Rules"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"I agree to the house rules, including check-in/out times and no-smoking policy."})]})]}),u.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-3 rounded-xl border border-transparent hover:bg-secondary/50",children:[u.jsx("input",{type:"checkbox",checked:x.privacy,onChange:E=>b(P=>({...P,privacy:E.target.checked})),className:"mt-1 w-5 h-5 rounded border-border text-primary focus:ring-primary"}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Privacy Policy"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"I agree to the privacy policy and terms of service."})]})]})]})]}),u.jsxs("div",{className:"flex gap-4 mt-8",children:[u.jsx(yi,{onClick:()=>s(1),variant:"outline",size:"lg",className:"flex-1",children:"Back"}),u.jsx(yi,{onClick:_,disabled:!x.rules||!x.privacy||a,size:"lg",className:"flex-1",children:a?u.jsx(ze,{className:"animate-spin"}):`Complete Booking  ${kt(e.total)}`})]})]})]},i)})]})]})}),u.jsx(ei,{}),d&&u.jsx(P0e,{isOpen:l,onClose:j,booking:{referenceNumber:d.referenceNumber,villaName:d.villaName,guestName:d.guestDetails.fullName,guestEmail:d.guestDetails.email,checkIn:d.checkIn,checkOut:d.checkOut,guests:d.guests,total:d.total}})]})},Ky=({label:t,error:e,required:n,...r})=>u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-2",children:[t," ",n&&u.jsx("span",{className:"text-destructive",children:"*"})]}),u.jsx("input",{...r,className:`w-full px-4 py-3 rounded-xl border ${e?"border-destructive":"border-border"} bg-background focus:outline-none focus:ring-2 focus:ring-primary`}),e&&u.jsx("p",{className:"mt-1 text-sm text-destructive",children:e})]}),rbe=()=>{const[t]=uae(),e=Gs(),n=t.get("ref"),{fetchBookingByReference:r,isLoading:i,error:s}=Ua(),[a,o]=S.useState(null);S.useEffect(()=>{if(!n){e("/villas");return}(async()=>{const h=await r(n);h&&o(h)})()},[n,r,e]);const l=()=>{if(!a)return;const f=`
      STAYINUBUD BOOKING CONFIRMATION
      ================================
      Reference: ${a.referenceNumber}
      Status: ${a.status.toUpperCase()}
      
      VILLA: ${a.villaName}
      DATES: ${we(qt(a.checkIn),"MMM d, yyyy")} - ${we(qt(a.checkOut),"MMM d, yyyy")}
      GUEST: ${a.guestDetails.fullName} (${a.guestDetails.email})
      TOTAL: ${kt(a.total)}
      
      Thank you for your booking!
    `.trim(),h=new Blob([f],{type:"text/plain"}),p=URL.createObjectURL(h),g=document.createElement("a");g.href=p,g.download=`StayinUBUD-Receipt-${a.referenceNumber}.txt`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(p)};if(i||!a&&!s)return u.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),u.jsx("p",{className:"text-muted-foreground",children:"Loading booking confirmation..."})]})});if(s&&!a)return u.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx(P8,{size:48,className:"mx-auto text-destructive"}),u.jsx("h1",{className:"text-2xl font-bold",children:"Booking Not Found"}),u.jsxs("p",{className:"text-muted-foreground",children:["The booking reference ",u.jsx("code",{className:"bg-muted p-1 rounded",children:n})," is invalid or has expired."]}),u.jsx(yi,{asChild:!0,children:u.jsx(Fe,{to:"/villas",children:"Browse Villas"})})]})});if(!a)return null;const c=qt(a.checkIn),d=qt(a.checkOut);return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Zr,{}),u.jsx("main",{className:"pt-24 pb-16",children:u.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[u.jsxs(de.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},className:"text-center mb-8",children:[u.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-primary/20 flex items-center justify-center",children:u.jsx(Vd,{size:48,className:"text-primary"})}),u.jsx("h1",{className:"font-display text-3xl md:text-4xl font-semibold mb-4",children:"Booking Confirmed!"}),u.jsx("p",{className:"text-muted-foreground text-lg",children:"Thank you for choosing StayinUBUD"})]}),u.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-primary/10 rounded-2xl p-6 text-center mb-8",children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Booking Reference"}),u.jsx("p",{className:"text-2xl font-mono font-bold text-primary tracking-wider",children:a.referenceNumber})]}),u.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"glass-card rounded-2xl overflow-hidden mb-8",children:[u.jsx("img",{src:a.villaImage,alt:a.villaName,className:"w-full h-48 object-cover"}),u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"font-display text-xl font-semibold mb-4",children:a.villaName}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Gn,{size:20,className:"text-primary"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Check-in"}),u.jsx("p",{className:"font-medium",children:we(c,"EEE, MMM d, yyyy")})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Gn,{size:20,className:"text-primary"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Check-out"}),u.jsx("p",{className:"font-medium",children:we(d,"EEE, MMM d, yyyy")})]})]})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx(Jr,{size:20,className:"text-primary"}),u.jsxs("span",{children:[a.guests," guests"]})]}),u.jsxs("div",{className:"pt-4 border-t border-border flex justify-between items-center",children:[u.jsx("span",{className:"text-muted-foreground",children:"Total Paid"}),u.jsx("span",{className:"text-2xl font-bold text-primary",children:kt(a.total)})]})]})]}),u.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs(yi,{onClick:l,variant:"outline",size:"lg",className:"flex items-center gap-2",children:[u.jsx(Sw,{size:20}),"Download Receipt"]}),u.jsxs(yi,{variant:"outline",size:"lg",className:"flex items-center gap-2",children:[u.jsx(Zee,{size:20}),"Add to Calendar"]}),u.jsx(yi,{asChild:!0,size:"lg",className:"flex items-center gap-2",children:u.jsxs(Fe,{to:"/",children:[u.jsx(b8,{size:20}),"Back to Home"]})})]})]})}),u.jsx(ei,{})]})},ibe={confirmed:{label:"Confirmed",icon:Vd,className:"bg-primary/20 text-primary"},pending:{label:"Pending",icon:hl,className:"bg-yellow-500/20 text-yellow-600"},completed:{label:"Completed",icon:Vd,className:"bg-secondary text-muted-foreground"},cancelled:{label:"Cancelled",icon:JT,className:"bg-destructive/20 text-destructive"}},sbe=({booking:t,onCancel:e,isLoading:n})=>{const r=ibe[t.status],i=r.icon,s=qt(t.checkIn),a=qt(t.checkOut),l=vm(s)&&t.status==="confirmed",c=t.villaImage||"/luxury-villa.png",d=t.villaName||"Villa";return u.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-card rounded-2xl overflow-hidden",children:u.jsxs("div",{className:"md:flex",children:[u.jsxs("div",{className:"md:w-48 h-48 md:h-auto relative",children:[u.jsx("img",{src:c,alt:d,className:"w-full h-full object-cover"}),u.jsxs("div",{className:`absolute top-3 left-3 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${r.className}`,children:[u.jsx(i,{size:14}),r.label]})]}),u.jsxs("div",{className:"flex-1 p-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-display text-lg font-semibold mb-2",children:d}),u.jsxs("p",{className:"text-sm text-muted-foreground font-mono mb-4",children:["Ref: ",t.referenceNumber]}),u.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gn,{size:16,className:"text-primary"}),u.jsxs("span",{children:[we(s,"MMM d"),"  ",we(a,"MMM d, yyyy")]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Jr,{size:16,className:"text-primary"}),u.jsxs("span",{children:[t.guests," guests"]})]})]})]}),u.jsx("div",{className:"text-right",children:u.jsx("p",{className:"text-2xl font-bold text-primary",children:kt(t.total)})})]}),u.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-4 border-t border-border",children:[u.jsxs(Fe,{to:`/villas/${t.villaId}`,className:"btn-outline flex items-center gap-2 px-4 py-2 text-sm",children:[u.jsx(If,{size:16}),"View Details"]}),l&&u.jsxs("button",{onClick:()=>e(t.id),disabled:n,className:"flex items-center gap-2 px-4 py-2 text-sm border border-destructive text-destructive rounded-lg hover:bg-destructive/10 transition-colors disabled:opacity-50",children:[n?u.jsx(ze,{size:16,className:"animate-spin"}):u.jsx(dn,{size:16}),"Cancel Booking"]}),t.status==="completed"&&u.jsxs("button",{className:"btn-primary flex items-center gap-2 px-4 py-2 text-sm",children:[u.jsx(Yr,{size:16}),"Leave Review"]})]})]})]})})},abe=()=>{const{completedBookings:t,cancelBookingInSupabase:e,fetchBookingsByEmail:n,fetchBookingByReference:r,isLoading:i}=Ua(),[s,a]=S.useState("all"),[o,l]=S.useState(""),[c,d]=S.useState([]),[f,h]=S.useState(!1),[p,g]=S.useState(!1),m=f?c:t,y=m.filter(k=>{const w=qt(k.checkIn);switch(s){case"upcoming":return vm(w)&&k.status!=="cancelled";case"past":return ox(w)&&k.status!=="cancelled";case"cancelled":return k.status==="cancelled";default:return!0}}),v=async()=>{if(!o.trim()){X({title:"Enter email or reference",description:"Please enter your email address or booking reference number.",variant:"destructive"});return}if(g(!0),h(!0),o.toUpperCase().startsWith("SU-")){const k=await r(o);k?d([k]):(d([]),X({title:"Not found",description:"No booking found with that reference number."}))}else{const k=await n(o);d(k),k.length===0&&X({title:"Not found",description:"No bookings found for that email address."})}g(!1)},x=()=>{l(""),d([]),h(!1)},b=async k=>{if(window.confirm("Are you sure you want to cancel this booking?")){const{success:w,error:C}=await e(k);w?(X({title:"Booking Cancelled",description:"Your booking has been cancelled successfully."}),f&&o&&v()):X({title:"Cancel Failed",description:C||"Failed to cancel booking. Please try again.",variant:"destructive"})}};return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Zr,{}),u.jsx("main",{className:"pt-24 pb-16",children:u.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs(Fe,{to:"/",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-4 transition-colors",children:[u.jsx(bw,{size:18}),"Back to Home"]}),u.jsx("h1",{className:"font-display text-3xl md:text-4xl font-semibold",children:"My Bookings"})]}),u.jsx("div",{className:"mb-8",children:u.jsxs("div",{className:"glass-card rounded-xl p-6",children:[u.jsx("h2",{className:"font-semibold mb-3",children:"Find Your Booking"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Enter your email address or booking reference number to find your bookings."}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(Kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),u.jsx("input",{type:"text",value:o,onChange:k=>l(k.target.value),onKeyDown:k=>k.key==="Enter"&&v(),placeholder:"Email address or reference (e.g., SU-ABC123)",className:"w-full pl-10 pr-4 py-3 rounded-lg border border-border bg-background focus:outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("button",{onClick:v,disabled:p,className:"btn-primary px-6 py-3 flex items-center gap-2",children:[p?u.jsx(ze,{size:18,className:"animate-spin"}):u.jsx(Kr,{size:18}),"Search"]})]}),f&&u.jsx("button",{onClick:x,className:"mt-3 text-sm text-muted-foreground hover:text-foreground transition-colors",children:" Show local bookings instead"})]})}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:[{key:"all",label:"All"},{key:"upcoming",label:"Upcoming"},{key:"past",label:"Past"},{key:"cancelled",label:"Cancelled"}].map(k=>u.jsx("button",{onClick:()=>a(k.key),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${s===k.key?"bg-primary text-primary-foreground":"bg-secondary hover:bg-secondary/80"}`,children:k.label},k.key))}),y.length===0?u.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-secondary flex items-center justify-center",children:u.jsx(Gn,{size:32,className:"text-muted-foreground"})}),u.jsx("h2",{className:"font-display text-xl font-semibold mb-2",children:"No bookings found"}),u.jsx("p",{className:"text-muted-foreground mb-6",children:f?"No bookings found for your search. Try a different email or reference.":s==="all"?"You haven't made any bookings yet.":`No ${s} bookings to display.`}),u.jsx(Fe,{to:"/villas",className:"btn-primary inline-flex px-6 py-3",children:"Explore Villas"})]}):u.jsx("div",{className:"space-y-6",children:y.map(k=>u.jsx(sbe,{booking:k,onCancel:b,isLoading:i},k.id))}),m.length>0&&u.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-12 grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"glass-card rounded-xl p-4 text-center",children:[u.jsx("p",{className:"text-2xl font-bold text-primary",children:m.length}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Bookings"})]}),u.jsxs("div",{className:"glass-card rounded-xl p-4 text-center",children:[u.jsx("p",{className:"text-2xl font-bold text-primary",children:m.filter(k=>vm(qt(k.checkIn))&&k.status!=="cancelled").length}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Upcoming"})]}),u.jsxs("div",{className:"glass-card rounded-xl p-4 text-center",children:[u.jsx("p",{className:"text-2xl font-bold text-primary",children:m.filter(k=>ox(qt(k.checkIn))&&k.status!=="cancelled").length}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"})]}),u.jsxs("div",{className:"glass-card rounded-xl p-4 text-center",children:[u.jsx("p",{className:"text-2xl font-bold text-primary",children:kt(m.filter(k=>k.status!=="cancelled").reduce((k,w)=>k+w.total,0))}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Spent"})]})]})]})}),u.jsx(ei,{})]})},obe=[{name:"Wayan Sudarma",role:"Founder & CEO",photo:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=300&fit=crop",bio:"Born in Ubud, Wayan has dedicated his life to sharing Balinese hospitality with the world."},{name:"Sarah Mitchell",role:"Operations Manager",photo:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=300&h=300&fit=crop",bio:"With 10+ years in luxury hospitality, Sarah ensures every guest experience is flawless."},{name:"Made Arjuna",role:"Guest Relations",photo:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=300&h=300&fit=crop",bio:"Made is your local guide to the best of Ubud, from hidden waterfalls to authentic restaurants."}],lbe=[{icon:pte,title:"Authentic Hospitality",desc:"We bring genuine Balinese warmth to every interaction."},{icon:Yee,title:"Exceptional Quality",desc:"Every detail is carefully curated for your comfort."},{icon:Jr,title:"Community First",desc:"We support local artisans and sustainable tourism."},{icon:nr,title:"Prime Locations",desc:"Our villas are situated in the most beautiful spots."}],cbe=()=>{const[t,e]=S.useState(0),{villas:n,fetchVillas:r,isLoading:i}=vl(),{testimonials:s,fetchTestimonials:a,isLoading:o}=Qw();S.useEffect(()=>{r(),a()},[r,a]);const l=()=>{s.length>0&&e(f=>(f+1)%s.length)},c=()=>{s.length>0&&e(f=>(f-1+s.length)%s.length)},d=s[t];return u.jsxs("div",{className:"min-h-screen bg-[#F1F3E0]",children:[u.jsx(Zr,{}),u.jsxs("section",{className:"relative h-[60vh] overflow-hidden mt-20",children:[u.jsx("img",{src:"https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=1920&h=1080&fit=crop",alt:"Ubud landscape",className:"w-full h-full object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:u.jsxs("div",{className:"text-center text-white",children:[u.jsx("h1",{className:"text-5xl md:text-6xl font-serif font-bold mb-4",children:"About StayinUBUD"}),u.jsx("p",{className:"text-xl md:text-2xl max-w-2xl mx-auto px-4",children:"Bringing authentic Balinese hospitality to discerning travelers since 2018"})]})})]}),u.jsx("section",{className:"py-20 px-4",children:u.jsx("div",{className:"max-w-6xl mx-auto",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:"https://images.unsplash.com/photo-1540541338287-41700207dee6?w=800&h=600&fit=crop",alt:"Villa garden",className:"rounded-2xl shadow-xl"}),u.jsx("div",{className:"absolute -bottom-6 -right-6 w-48 h-48 bg-[#A1BC98] rounded-2xl -z-10"})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-4xl font-serif font-bold text-[#2d3a29] mb-6",children:"Our Story"}),u.jsx("p",{className:"text-[#6b7c67] mb-4 leading-relaxed",children:"StayinUBUD was born from a simple dream: to share the magic of Ubud with the world while preserving its authentic spirit. What started as a single villa in 2018 has grown into a collection of exclusive properties, each uniquely designed to offer an unforgettable experience."}),u.jsx("p",{className:"text-[#6b7c67] mb-4 leading-relaxed",children:"Our founder, Wayan Sudarma, grew up in the rice fields surrounding Ubud. His deep connection to this land and its traditions guides everything we dofrom the locally-sourced materials in our villas to the warm welcomes from our Balinese staff."}),u.jsx("p",{className:"text-[#6b7c67] leading-relaxed",children:"We believe luxury should feel personal, not pretentious. That's why we limit our collection, ensuring every guest receives the attention and care they deserve."})]})]})})}),u.jsx("section",{className:"py-16 bg-white",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[u.jsx("h2",{className:"text-3xl font-serif font-bold text-[#2d3a29] text-center mb-12",children:"Why Choose Us"}),u.jsx("div",{className:"grid md:grid-cols-4 gap-8",children:lbe.map((f,h)=>u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-[#A1BC98]/20 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(f.icon,{size:28,className:"text-[#778873]"})}),u.jsx("h3",{className:"text-lg font-semibold text-[#2d3a29] mb-2",children:f.title}),u.jsx("p",{className:"text-sm text-[#6b7c67]",children:f.desc})]},h))})]})}),u.jsx("section",{className:"py-20 px-4",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsx("h2",{className:"text-4xl font-serif font-bold text-[#2d3a29] text-center mb-4",children:"Meet Our Team"}),u.jsx("p",{className:"text-center text-[#6b7c67] mb-12 max-w-2xl mx-auto",children:"The people who make your stay unforgettable"}),u.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:obe.map((f,h)=>u.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow group",children:[u.jsxs("div",{className:"relative overflow-hidden",children:[u.jsx("img",{src:f.photo||"/placeholder.svg",alt:f.name,className:"w-full h-72 object-cover transition-transform duration-500 group-hover:scale-105"}),u.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-4",children:[u.jsx("button",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center text-[#778873] hover:bg-[#A1BC98] hover:text-white transition-colors",children:u.jsx(tO,{size:18})}),u.jsx("button",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center text-[#778873] hover:bg-[#A1BC98] hover:text-white transition-colors",children:u.jsx(vte,{size:18})})]})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-[#2d3a29]",children:f.name}),u.jsx("p",{className:"text-sm text-[#778873] mb-3",children:f.role}),u.jsx("p",{className:"text-[#6b7c67] text-sm",children:f.bio})]})]},h))})]})}),u.jsx("section",{className:"py-16 bg-[#2d3a29]",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[u.jsxs("h2",{className:"text-3xl font-serif font-bold text-white mb-4",children:[n.length," Exclusive Villas in Prime Ubud Locations"]}),u.jsx("p",{className:"text-[#D2DCB6] mb-8 max-w-2xl mx-auto",children:"Each villa has been carefully designed to offer privacy, comfort, and stunning views"}),i?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(ze,{size:32,className:"animate-spin text-[#A1BC98]"})}):u.jsx("div",{className:"flex gap-4 justify-center flex-wrap mb-8",children:n.slice(0,4).map(f=>u.jsx("img",{src:f.images[0]||"/placeholder.svg",alt:f.name,className:"w-32 h-32 md:w-40 md:h-40 object-cover rounded-lg"},f.id))}),u.jsx(Fe,{to:"/villas",className:"inline-flex px-8 py-3 bg-[#A1BC98] text-[#2d3a29] font-semibold rounded-full hover:bg-[#D2DCB6] transition-colors",children:"Explore Our Villas"})]})}),u.jsx("section",{className:"py-20 px-4",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("h2",{className:"text-4xl font-serif font-bold text-[#2d3a29] text-center mb-12",children:"What Our Guests Say"}),o?u.jsx("div",{className:"flex justify-center py-12",children:u.jsx(ze,{size:32,className:"animate-spin text-[#778873]"})}):s.length===0?u.jsx("p",{className:"text-center text-[#6b7c67]",children:"No testimonials yet."}):u.jsxs("div",{className:"relative bg-white rounded-2xl p-8 md:p-12 shadow-lg",children:[u.jsx("div",{className:"flex justify-center mb-6",children:[...Array((d==null?void 0:d.rating)||5)].map((f,h)=>u.jsx(Yr,{size:24,className:"text-yellow-400 fill-yellow-400"},h))}),u.jsxs("blockquote",{className:"text-xl md:text-2xl text-center text-[#2d3a29] italic mb-6",children:['"',d==null?void 0:d.review,'"']}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"font-semibold text-[#2d3a29]",children:d==null?void 0:d.guest_name}),u.jsxs("p",{className:"text-sm text-[#6b7c67]",children:[d==null?void 0:d.guest_country," "," ",d!=null&&d.review_date?new Date(d.review_date).toLocaleDateString("en-US",{month:"long",year:"numeric"}):""]})]}),s.length>1&&u.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[u.jsx("button",{onClick:c,className:"w-10 h-10 bg-[#F1F3E0] rounded-full flex items-center justify-center hover:bg-[#D2DCB6] transition-colors",children:u.jsx(us,{size:20})}),u.jsx("button",{onClick:l,className:"w-10 h-10 bg-[#F1F3E0] rounded-full flex items-center justify-center hover:bg-[#D2DCB6] transition-colors",children:u.jsx(Qn,{size:20})})]})]})]})}),u.jsx("section",{className:"py-16 bg-[#A1BC98]",children:u.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[u.jsx("h2",{className:"text-3xl font-serif font-bold text-[#2d3a29] mb-4",children:"Have Questions? We're Here to Help"}),u.jsx("p",{className:"text-[#2d3a29]/80 mb-8",children:"Our team is ready to assist you in planning your perfect Ubud getaway"}),u.jsx(Fe,{to:"/contact",className:"inline-flex px-8 py-3 bg-[#2d3a29] text-white font-semibold rounded-full hover:bg-[#778873] transition-colors",children:"Contact Us"})]})}),u.jsx(ei,{})]})},ZH=hs((t,e)=>({settings:{},isLoading:!1,error:null,fetchSettings:async()=>{t({isLoading:!0,error:null});try{const{data:n,error:r}=await oe.from("settings").select("*");if(r)throw r;const i={};n.forEach(s=>{i[s.key]=s.value}),t({settings:i,isLoading:!1})}catch(n){console.error("Error fetching settings:",n),t({isLoading:!1,error:"Failed to fetch settings"})}},updateSetting:async(n,r)=>{t({isLoading:!0,error:null});try{const{error:i}=await oe.from("settings").upsert({key:n,value:r,updated_at:new Date().toISOString()},{onConflict:"key"});if(i)throw i;return t(s=>({settings:{...s.settings,[n]:r},isLoading:!1})),!0}catch(i){return console.error("Error updating setting:",i),t({isLoading:!1,error:"Failed to update setting"}),!1}},getSetting:n=>e().settings[n],clearError:()=>t({error:null})})),ube=()=>{const{fetchSettings:t,getSetting:e}=ZH(),[n,r]=S.useState({name:"",email:"",subject:"",message:""}),[i,s]=S.useState(!1);S.useEffect(()=>{t()},[t]);const a=e("contact_email"),o=e("contact_phone"),l=e("whatsapp"),c=e("address"),d=e("social_instagram"),f=e("social_facebook"),h=async p=>{if(p.preventDefault(),!n.name||!n.email||!n.message){X({title:"Missing fields",description:"Please fill in all required fields.",variant:"destructive"});return}s(!0);try{const{error:g}=await oe.from("contact_submissions").insert([n]);if(g)throw g;X({title:"Message sent!",description:"We'll get back to you within 24 hours.",className:"bg-[#778873] text-white border-none"}),r({name:"",email:"",subject:"",message:""})}catch(g){console.error("Error sending message:",g),X({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{s(!1)}};return u.jsxs("div",{className:"min-h-screen bg-[#F1F3E0]",children:[u.jsx(Zr,{}),u.jsx("section",{className:"pt-28 pb-12 px-4",children:u.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[u.jsx("h1",{className:"text-5xl font-serif font-bold text-[#2d3a29] mb-4",children:"Get in Touch"}),u.jsx("p",{className:"text-xl text-[#6b7c67] max-w-2xl mx-auto",children:"Have questions about our villas or need help planning your stay? We'd love to hear from you."})]})}),u.jsx("section",{className:"pb-12 px-4",children:u.jsxs("div",{className:"max-w-4xl mx-auto grid md:grid-cols-3 gap-6",children:[u.jsxs("a",{href:`tel:${o}`,className:"bg-white rounded-2xl p-6 text-center shadow-lg hover:shadow-xl transition-shadow group",children:[u.jsx("div",{className:"w-14 h-14 bg-[#A1BC98]/20 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-[#A1BC98] transition-colors",children:u.jsx(nO,{size:24,className:"text-[#778873] group-hover:text-white transition-colors"})}),u.jsx("h3",{className:"font-semibold text-[#2d3a29] mb-1",children:"Phone"}),u.jsx("p",{className:"text-[#778873]",children:o})]}),u.jsxs("a",{href:`mailto:${a}`,className:"bg-white rounded-2xl p-6 text-center shadow-lg hover:shadow-xl transition-shadow group",children:[u.jsx("div",{className:"w-14 h-14 bg-[#A1BC98]/20 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-[#A1BC98] transition-colors",children:u.jsx(Jp,{size:24,className:"text-[#778873] group-hover:text-white transition-colors"})}),u.jsx("h3",{className:"font-semibold text-[#2d3a29] mb-1",children:"Email"}),u.jsx("p",{className:"text-[#778873]",children:a})]}),u.jsxs("a",{href:`https://wa.me/${l}`,target:"_blank",rel:"noopener noreferrer",className:"bg-white rounded-2xl p-6 text-center shadow-lg hover:shadow-xl transition-shadow group",children:[u.jsx("div",{className:"w-14 h-14 bg-[#A1BC98]/20 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-[#25D366] transition-colors",children:u.jsx(C8,{size:24,className:"text-[#778873] group-hover:text-white transition-colors"})}),u.jsx("h3",{className:"font-semibold text-[#2d3a29] mb-1",children:"WhatsApp"}),u.jsx("p",{className:"text-[#778873]",children:l})]})]})}),u.jsx("section",{className:"py-12 px-4",children:u.jsxs("div",{className:"max-w-6xl mx-auto grid lg:grid-cols-2 gap-12",children:[u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:[u.jsx("h2",{className:"text-2xl font-serif font-bold text-[#2d3a29] mb-6",children:"Send Us a Message"}),u.jsxs("form",{onSubmit:h,className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Name *"}),u.jsx("input",{type:"text",value:n.name,onChange:p=>r({...n,name:p.target.value}),className:"w-full px-4 py-3 rounded-lg border border-[#d4dbc8] focus:outline-none focus:border-[#A1BC98]",placeholder:"Your name"})]}),u.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Email *"}),u.jsx("input",{type:"email",value:n.email,onChange:p=>r({...n,email:p.target.value}),className:"w-full px-4 py-3 rounded-lg border border-[#d4dbc8] focus:outline-none focus:border-[#A1BC98]",placeholder:"your@email.com"})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Subject"}),u.jsxs("select",{value:n.subject,onChange:p=>r({...n,subject:p.target.value}),className:"w-full px-4 py-3 rounded-lg border border-[#d4dbc8] focus:outline-none focus:border-[#A1BC98]",children:[u.jsx("option",{value:"",children:"Select a subject..."}),u.jsx("option",{value:"general",children:"General Inquiry"}),u.jsx("option",{value:"booking",children:"Booking Question"}),u.jsx("option",{value:"partnership",children:"Partnership"}),u.jsx("option",{value:"press",children:"Press"}),u.jsx("option",{value:"other",children:"Other"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Message *"}),u.jsx("textarea",{value:n.message,onChange:p=>r({...n,message:p.target.value}),rows:5,className:"w-full px-4 py-3 rounded-lg border border-[#d4dbc8] focus:outline-none focus:border-[#A1BC98] resize-none",placeholder:"How can we help you?"})]}),u.jsx("button",{type:"submit",disabled:i,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-[#778873] text-white font-semibold rounded-lg hover:bg-[#2d3a29] transition-colors disabled:opacity-50",children:i?"Sending...":u.jsxs(u.Fragment,{children:[u.jsx(j8,{size:18}),"Send Message"]})})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:[u.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[u.jsx("div",{className:"w-10 h-10 bg-[#A1BC98]/20 rounded-full flex items-center justify-center shrink-0",children:u.jsx(nr,{size:20,className:"text-[#778873]"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-[#2d3a29] mb-1",children:"Our Office"}),u.jsx("p",{className:"text-[#6b7c67]",children:c})]})]}),u.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[u.jsx("div",{className:"w-10 h-10 bg-[#A1BC98]/20 rounded-full flex items-center justify-center shrink-0",children:u.jsx(hl,{size:20,className:"text-[#778873]"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-[#2d3a29] mb-1",children:"Operating Hours"}),u.jsxs("p",{className:"text-[#6b7c67]",children:["Monday - Saturday: 8:00 AM - 8:00 PM",u.jsx("br",{}),"Sunday: 9:00 AM - 5:00 PM",u.jsx("br",{}),"(Bali Time, GMT+8)"]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-[#F1F3E0] rounded-full flex items-center justify-center text-[#778873] hover:bg-[#A1BC98] hover:text-white transition-colors",children:u.jsx(tO,{size:20})}),u.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-[#F1F3E0] rounded-full flex items-center justify-center text-[#778873] hover:bg-[#A1BC98] hover:text-white transition-colors",children:u.jsx(ZT,{size:20})})]})]}),u.jsx("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg h-64",children:u.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d31563.63254766653!2d115.24843!3d-8.50695!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd23d739f22c9c3%3A0x54a38afd6bf5a15f!2sUbud%2C%20Gianyar%20Regency%2C%20Bali!5e0!3m2!1sen!2sid!4v1",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})]})}),u.jsx(ei,{})]})},n1=hs((t,e)=>({posts:[],categories:[],isLoading:!1,error:null,fetchPosts:async()=>{t({isLoading:!0,error:null});try{const{data:n,error:r}=await oe.from("blog_posts").select(`
          *,
          category:blog_categories(*)
        `).order("created_at",{ascending:!1});if(r)throw r;t({posts:n,isLoading:!1})}catch(n){console.error("Error fetching posts:",n),t({isLoading:!1,error:"Failed to fetch blog posts"})}},fetchCategories:async()=>{try{const{data:n,error:r}=await oe.from("blog_categories").select("*").order("name");if(r)throw r;t({categories:n})}catch(n){console.error("Error fetching categories:",n)}},createPost:async n=>{t({isLoading:!0,error:null});try{const{data:r,error:i}=await oe.from("blog_posts").insert([n]).select().single();if(i)throw i;const s=r;return t(a=>({posts:[s,...a.posts],isLoading:!1})),s}catch(r){return console.error("Error creating post:",r),t({isLoading:!1,error:"Failed to create blog post"}),null}},updatePost:async(n,r)=>{t({isLoading:!0,error:null});try{const{error:i}=await oe.from("blog_posts").update(r).eq("id",n);if(i)throw i;return t(s=>({posts:s.posts.map(a=>a.id===n?{...a,...r}:a),isLoading:!1})),!0}catch(i){return console.error("Error updating post:",i),t({isLoading:!1,error:"Failed to update blog post"}),!1}},deletePost:async n=>{t({isLoading:!0,error:null});try{const{error:r}=await oe.from("blog_posts").delete().eq("id",n);if(r)throw r;return t(i=>({posts:i.posts.filter(s=>s.id!==n),isLoading:!1})),!0}catch(r){return console.error("Error deleting post:",r),t({isLoading:!1,error:"Failed to delete blog post"}),!1}},getPostById:n=>e().posts.find(r=>r.id===n),getPostBySlug:n=>e().posts.find(r=>r.slug===n),clearError:()=>{t({error:null})}})),dbe=t=>{const n=t.split(/\s+/).length;return Math.ceil(n/200)||1},fbe=t=>{var e;return{id:t.id,slug:t.slug,title:t.title,excerpt:t.excerpt||"",featuredImage:t.featured_image||"https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=800&h=500&fit=crop",author:t.author_name||"Admin",authorAvatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop",category:((e=t.category)==null?void 0:e.name)||"Uncategorized",publishedDate:t.published_at||t.created_at,readTime:dbe(t.content||"")}},hbe=()=>{const[t,e]=S.useState(""),[n,r]=S.useState("All"),[i,s]=S.useState(6),{posts:a,categories:o,fetchPosts:l,fetchCategories:c,isLoading:d}=n1();S.useEffect(()=>{l(),c()},[l,c]);const f=a.filter(y=>y.status==="published").map(fbe),h=["All",...o.map(y=>y.name)],p=f.filter(y=>{const v=y.title.toLowerCase().includes(t.toLowerCase()),x=n==="All"||y.category===n;return v&&x}),g=f.length>0?f[0]:null,m=()=>{s(y=>y+6)};return u.jsxs("div",{className:"min-h-screen bg-[#F1F3E0]",children:[u.jsx(Zr,{}),u.jsx("section",{className:"pt-28 pb-8 px-4",children:u.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[u.jsx("h1",{className:"text-5xl font-serif font-bold text-[#2d3a29] mb-4",children:"Ubud Travel Guide & Villa Tips"}),u.jsx("p",{className:"text-xl text-[#6b7c67] max-w-2xl mx-auto mb-8",children:"Discover the best of Bali through our curated articles and insider tips"}),u.jsxs("div",{className:"relative max-w-xl mx-auto",children:[u.jsx(Kr,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#6b7c67]"}),u.jsx("input",{type:"text",value:t,onChange:y=>e(y.target.value),placeholder:"Search articles...",className:"w-full pl-12 pr-4 py-4 rounded-full border border-[#d4dbc8] bg-white focus:outline-none focus:border-[#A1BC98] shadow-sm font-sans"})]})]})}),d?u.jsx("div",{className:"flex justify-center py-20",children:u.jsx(ze,{size:40,className:"animate-spin text-[#6b7c67]"})}):u.jsxs(u.Fragment,{children:[g&&u.jsx("section",{className:"pb-12 px-4",children:u.jsx("div",{className:"max-w-6xl mx-auto",children:u.jsxs(Fe,{to:`/blog/${g.slug}`,className:"block relative rounded-2xl overflow-hidden shadow-xl group",children:[u.jsx("img",{src:g.featuredImage||"/placeholder.svg",alt:g.title,className:"w-full h-96 object-cover transition-transform duration-500 group-hover:scale-105"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:[u.jsx("span",{className:"inline-block px-3 py-1 bg-[#A1BC98] text-sm font-medium text-[#2d3a29] rounded-full mb-4",children:"Featured"}),u.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-white mb-3",children:g.title}),u.jsx("p",{className:"text-white/80 max-w-2xl mb-4",children:g.excerpt}),u.jsxs("div",{className:"flex items-center gap-4 text-white/70 text-sm",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Gn,{size:14}),new Date(g.publishedDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(hl,{size:14}),g.readTime," min read"]})]})]})]})})}),u.jsx("section",{className:"pb-8 px-4",children:u.jsx("div",{className:"max-w-6xl mx-auto",children:u.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:h.map(y=>u.jsx("button",{onClick:()=>r(y),className:`px-5 py-2 rounded-full text-sm font-medium transition-colors ${n===y?"bg-[#778873] text-white":"bg-white text-[#6b7c67] hover:bg-[#D2DCB6]"}`,children:y},y))})})}),u.jsx("section",{className:"py-8 px-4",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:p.slice(0,i).map(y=>u.jsxs(Fe,{to:`/blog/${y.slug}`,className:"bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 group",children:[u.jsxs("div",{className:"relative overflow-hidden",children:[u.jsx("img",{src:y.featuredImage||"/placeholder.svg",alt:y.title,className:"w-full h-52 object-cover transition-transform duration-500 group-hover:scale-105"}),u.jsx("span",{className:"absolute top-4 left-4 px-3 py-1 bg-white/90 text-xs font-medium text-[#778873] rounded-full",children:y.category})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-[#2d3a29] mb-2 line-clamp-2 group-hover:text-[#778873] transition-colors",children:y.title}),u.jsx("p",{className:"text-sm text-[#6b7c67] mb-4 line-clamp-3",children:y.excerpt}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("img",{src:y.authorAvatar||"/placeholder.svg",alt:y.author,className:"w-8 h-8 rounded-full object-cover"}),u.jsx("span",{className:"text-sm text-[#6b7c67]",children:y.author})]}),u.jsx("div",{className:"flex items-center gap-3 text-xs text-[#6b7c67]",children:u.jsxs("span",{children:[y.readTime," min"]})})]})]})]},y.id))}),i<p.length&&u.jsx("div",{className:"text-center mt-12",children:u.jsxs("button",{onClick:m,className:"inline-flex items-center gap-2 px-8 py-3 bg-[#778873] text-white font-semibold rounded-full hover:bg-[#2d3a29] transition-colors",children:["Load More Posts",u.jsx(Zc,{size:18})]})}),p.length===0&&u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-[#6b7c67]",children:"No articles found matching your criteria."})})]})})]}),u.jsx(ei,{})]})},pbe=t=>{var e,n;return{slug:t.slug,title:t.title,excerpt:t.excerpt,featuredImage:t.featured_image||"https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=800&h=500&fit=crop",author:t.author_name||"Admin",authorAvatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop",authorBio:"The StayinUBUD team shares insider tips and local knowledge to help you experience the best of Ubud.",category:((e=t.category)==null?void 0:e.name)||"Uncategorized",publishedDate:t.published_at||t.created_at,readTime:Math.ceil((((n=t.content)==null?void 0:n.split(/\s+/).length)||0)/200)||1,content:t.content||""}},mbe=()=>{const{slug:t}=Mw(),{posts:e,fetchPosts:n,isLoading:r}=n1();S.useEffect(()=>{n()},[n]);const i=S.useMemo(()=>{const o=e.find(l=>l.slug===t);return o?pbe(o):null},[t,e]),s=S.useMemo(()=>i?e.filter(o=>o.slug!==t&&o.status==="published").slice(0,3).map(o=>{var l;return{slug:o.slug,title:o.title,image:o.featured_image||"https://images.unsplash.com/photo-1555400038-63f5ba517a47?w=400&h=300&fit=crop",category:((l=o.category)==null?void 0:l.name)||"Uncategorized"}}):[],[t,e,i]),a=o=>{const l=window.location.href;let c="";if(i){switch(o){case"facebook":c=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(l)}`;break;case"twitter":c=`https://twitter.com/intent/tweet?url=${encodeURIComponent(l)}&text=${encodeURIComponent(i.title)}`;break;case"whatsapp":c=`https://wa.me/?text=${encodeURIComponent(i.title+" "+l)}`;break;case"copy":navigator.clipboard.writeText(l),X({title:"Link copied!",description:"Article link has been copied to clipboard."});return}c&&window.open(c,"_blank","width=600,height=400")}};return r?u.jsx("div",{className:"min-h-screen bg-[#F1F3E0] flex items-center justify-center",children:u.jsx(ze,{size:40,className:"animate-spin text-[#6b7c67]"})}):i?u.jsxs("div",{className:"min-h-screen bg-[#F1F3E0]",children:[u.jsx(Zr,{}),u.jsxs("section",{className:"relative h-[50vh] md:h-[60vh]",children:[u.jsx("img",{src:i.featuredImage,alt:i.title,className:"w-full h-full object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-black/30"})]}),u.jsxs("article",{className:"max-w-4xl mx-auto px-4 -mt-32 relative z-10",children:[u.jsxs("nav",{className:"flex items-center gap-2 text-sm text-white/80 mb-6",children:[u.jsx(Fe,{to:"/",className:"hover:text-white",children:"Home"}),u.jsx(Qn,{size:14}),u.jsx(Fe,{to:"/blog",className:"hover:text-white",children:"Blog"}),u.jsx(Qn,{size:14}),u.jsx("span",{children:i.category})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12",children:[u.jsx("span",{className:"inline-block px-3 py-1 bg-[#A1BC98]/30 text-sm font-medium text-[#778873] rounded-full mb-4",children:i.category}),u.jsx("h1",{className:"text-3xl md:text-4xl font-serif font-bold text-[#2d3a29] mb-6",children:i.title}),u.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm text-[#6b7c67] mb-8 pb-8 border-b border-[#d4dbc8]",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("img",{src:i.authorAvatar,alt:i.author,className:"w-10 h-10 rounded-full object-cover"}),u.jsx("span",{children:i.author})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gn,{size:16}),new Date(i.publishedDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(hl,{size:16}),i.readTime," min read"]})]}),u.jsx("div",{className:"prose prose-lg max-w-none prose-headings:font-serif prose-headings:text-[#2d3a29] prose-p:text-[#6b7c67] prose-a:text-[#778873] prose-blockquote:border-[#A1BC98] prose-blockquote:bg-[#F1F3E0] prose-blockquote:rounded-lg prose-blockquote:p-4",children:i.content.split(`

`).map((o,l)=>o.startsWith("## ")?u.jsx("h2",{className:"mt-8 mb-4 text-2xl font-bold",children:o.replace("## ","")},l):o.startsWith("> ")?u.jsx("blockquote",{className:"my-6",children:o.replace("> ","")},l):o.trim()?u.jsx("p",{className:"mb-4",children:o},l):null)}),u.jsxs("div",{className:"flex items-center gap-4 mt-8 pt-8 border-t border-[#d4dbc8]",children:[u.jsx("span",{className:"text-sm font-medium text-[#2d3a29]",children:"Share:"}),u.jsx("button",{onClick:()=>a("facebook"),className:"w-10 h-10 bg-[#F1F3E0] rounded-full flex items-center justify-center text-[#778873] hover:bg-[#3b5998] hover:text-white transition-colors",children:u.jsx(ZT,{size:18})}),u.jsx("button",{onClick:()=>a("twitter"),className:"w-10 h-10 bg-[#F1F3E0] rounded-full flex items-center justify-center text-[#778873] hover:bg-[#1da1f2] hover:text-white transition-colors",children:u.jsx(Dte,{size:18})}),u.jsx("button",{onClick:()=>a("whatsapp"),className:"w-10 h-10 bg-[#F1F3E0] rounded-full flex items-center justify-center text-[#778873] hover:bg-[#25D366] hover:text-white transition-colors",children:u.jsx(C8,{size:18})}),u.jsx("button",{onClick:()=>a("copy"),className:"w-10 h-10 bg-[#F1F3E0] rounded-full flex items-center justify-center text-[#778873] hover:bg-[#778873] hover:text-white transition-colors",children:u.jsx(w8,{size:18})})]}),u.jsxs("div",{className:"mt-8 p-6 bg-[#F1F3E0] rounded-xl flex items-start gap-4",children:[u.jsx("img",{src:i.authorAvatar,alt:i.author,className:"w-16 h-16 rounded-full object-cover"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-[#2d3a29]",children:i.author}),u.jsx("p",{className:"text-sm text-[#6b7c67] mt-1",children:i.authorBio})]})]})]}),s.length>0&&u.jsxs("section",{className:"py-12",children:[u.jsx("h3",{className:"text-2xl font-serif font-bold text-[#2d3a29] mb-8",children:"Related Articles"}),u.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:s.map(o=>u.jsxs(Fe,{to:`/blog/${o.slug}`,className:"bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow group",children:[u.jsxs("div",{className:"relative overflow-hidden",children:[u.jsx("img",{src:o.image,alt:o.title,className:"w-full h-40 object-cover transition-transform duration-500 group-hover:scale-105"}),u.jsx("span",{className:"absolute top-3 left-3 px-2 py-1 bg-white/90 text-xs font-medium text-[#778873] rounded-full",children:o.category})]}),u.jsx("div",{className:"p-4",children:u.jsx("h4",{className:"font-semibold text-[#2d3a29] line-clamp-2 group-hover:text-[#778873] transition-colors",children:o.title})})]},o.slug))})]}),u.jsxs("section",{className:"bg-[#778873] rounded-2xl p-8 text-center mb-12",children:[u.jsx("h3",{className:"text-2xl font-serif font-bold text-white mb-2",children:"Subscribe to Our Newsletter"}),u.jsx("p",{className:"text-white/80 mb-6",children:"Get travel tips and exclusive offers delivered to your inbox"}),u.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[u.jsx("input",{type:"email",placeholder:"Your email",className:"flex-1 px-4 py-3 rounded-lg border-0 focus:outline-none focus:ring-2 focus:ring-[#A1BC98]"}),u.jsx("button",{className:"px-6 py-3 bg-[#2d3a29] text-white font-semibold rounded-lg hover:bg-black transition-colors",children:"Subscribe"})]})]})]}),u.jsx(ei,{})]}):u.jsx("div",{className:"min-h-screen bg-[#F1F3E0] flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-[#2d3a29] mb-4",children:"Article not found"}),u.jsx(Fe,{to:"/blog",className:"text-[#778873] hover:underline",children:"Back to Blog"})]})})},e9=hs((t,e)=>({images:[],isLoading:!1,error:null,fetchImages:async()=>{t({isLoading:!0,error:null});try{const{data:n,error:r}=await oe.from("gallery_images").select("*").order("sort_order",{ascending:!0});if(r)throw r;t({images:n,isLoading:!1})}catch(n){console.error("Error fetching gallery images:",n),t({isLoading:!1,error:"Failed to fetch gallery images"})}},createImage:async n=>{t({isLoading:!0,error:null});try{const{data:r,error:i}=await oe.from("gallery_images").insert([n]).select().single();if(i)throw i;const s=r;return t(a=>({images:[...a.images,s],isLoading:!1})),s}catch(r){return console.error("Error creating gallery image:",r),t({isLoading:!1,error:"Failed to create gallery image"}),null}},updateImage:async(n,r)=>{t({isLoading:!0,error:null});try{const{error:i}=await oe.from("gallery_images").update(r).eq("id",n);if(i)throw i;return t(s=>({images:s.images.map(a=>a.id===n?{...a,...r}:a),isLoading:!1})),!0}catch(i){return console.error("Error updating gallery image:",i),t({isLoading:!1,error:"Failed to update gallery image"}),!1}},deleteImage:async n=>{t({isLoading:!0,error:null});try{const{error:r}=await oe.from("gallery_images").delete().eq("id",n);if(r)throw r;return t(i=>({images:i.images.filter(s=>s.id!==n),isLoading:!1})),!0}catch(r){return console.error("Error deleting gallery image:",r),t({isLoading:!1,error:"Failed to delete gallery image"}),!1}},clearError:()=>t({error:null})})),gbe=["All","Villa Exteriors","Villa Interiors","Ubud Views","Guest Experiences"],ybe=()=>{const{images:t,isLoading:e,fetchImages:n}=e9(),[r,i]=S.useState("All"),[s,a]=S.useState(!1),[o,l]=S.useState(0);S.useEffect(()=>{n()},[n]);const c=r==="All"?t:t.filter(m=>m.category===r),d=m=>{l(m),a(!0),document.body.style.overflow="hidden"},f=()=>{a(!1),document.body.style.overflow=""},h=()=>{l(m=>(m+1)%c.length)},p=()=>{l(m=>(m-1+c.length)%c.length)},g=m=>{m.key==="ArrowRight"&&h(),m.key==="ArrowLeft"&&p(),m.key==="Escape"&&f()};return u.jsxs("div",{className:"min-h-screen bg-[#F1F3E0]",children:[u.jsx(Zr,{}),u.jsx("section",{className:"pt-28 pb-12 px-4",children:u.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[u.jsx("h1",{className:"text-5xl font-serif font-bold text-[#2d3a29] mb-4",children:"Gallery"}),u.jsx("p",{className:"text-xl text-[#6b7c67] max-w-2xl mx-auto",children:"Explore our beautiful villas and the stunning landscapes of Ubud"})]})}),u.jsx("section",{className:"pb-8 px-4",children:u.jsx("div",{className:"max-w-6xl mx-auto",children:u.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:gbe.map(m=>u.jsx("button",{onClick:()=>i(m),className:`px-5 py-2 rounded-full text-sm font-medium transition-colors ${r===m?"bg-[#778873] text-white":"bg-white text-[#6b7c67] hover:bg-[#D2DCB6]"}`,children:m},m))})})}),u.jsx("section",{className:"py-8 px-4",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[e&&t.length===0?u.jsx("div",{className:"flex justify-center py-12",children:u.jsx(ze,{size:32,className:"animate-spin text-[#778873]"})}):u.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4 space-y-4",children:c.map((m,y)=>u.jsxs("div",{className:"break-inside-avoid relative rounded-xl overflow-hidden shadow-lg group cursor-pointer bg-gray-200",onClick:()=>d(y),children:[u.jsx("img",{src:m.image_url||"/placeholder.svg",alt:m.title||m.category,className:"w-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"}),u.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:u.jsx(M8,{size:32,className:"text-white"})}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx("p",{className:"text-white text-sm font-medium",children:m.title}),u.jsx("p",{className:"text-white/70 text-xs",children:m.category})]})]},m.id))}),!e&&c.length===0&&u.jsx("div",{className:"text-center py-12 text-[#6b7c67]",children:"No images found in this category."})]})}),s&&c.length>0&&u.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex items-center justify-center",onKeyDown:g,tabIndex:0,children:[u.jsx("button",{onClick:f,className:"absolute top-4 right-4 w-12 h-12 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-colors z-10",children:u.jsx(dn,{size:24})}),u.jsxs("div",{className:"absolute top-4 left-4 text-white/80 text-sm",children:[o+1," / ",c.length]}),u.jsx("button",{onClick:p,className:"absolute left-4 w-12 h-12 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-colors",children:u.jsx(us,{size:24})}),u.jsx("img",{src:c[o].image_url||"/placeholder.svg",alt:c[o].title,className:"max-w-[90vw] max-h-[80vh] object-contain"}),u.jsx("button",{onClick:h,className:"absolute right-4 w-12 h-12 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-colors",children:u.jsx(Qn,{size:24})}),u.jsxs("div",{className:"absolute bottom-8 left-0 right-0 text-center",children:[u.jsx("p",{className:"text-white text-lg font-medium mb-1",children:c[o].title}),u.jsx("p",{className:"text-white/60 text-sm",children:c[o].category})]}),u.jsx("a",{href:c[o].image_url,download:!0,className:"absolute bottom-4 right-4 w-10 h-10 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-colors",children:u.jsx(Sw,{size:18})})]}),u.jsx(ei,{})]})},vbe=hs((t,e)=>({faqs:[],isLoading:!1,fetchFaqs:async()=>{t({isLoading:!0});const{data:n,error:r}=await oe.from("faqs").select("*");r?(console.error("Error fetching FAQs:",r),X({title:"Error fetching FAQs",description:r.message,variant:"destructive"})):t({faqs:n}),t({isLoading:!1})},addFaq:async n=>{t({isLoading:!0});const{data:r,error:i}=await oe.from("faqs").insert([n]).select();i?(console.error("Error adding FAQ:",i),X({title:"Error adding FAQ",description:i.message,variant:"destructive"})):r&&(t(s=>({faqs:[...s.faqs,...r]})),X({title:"FAQ added",description:"The new FAQ has been added successfully."})),t({isLoading:!1})},updateFaq:async n=>{t({isLoading:!0});const{error:r}=await oe.from("faqs").update(n).eq("id",n.id);r?(console.error("Error updating FAQ:",r),X({title:"Error updating FAQ",description:r.message,variant:"destructive"})):(e().fetchFaqs(),X({title:"FAQ updated",description:"The FAQ has been updated successfully."})),t({isLoading:!1})},deleteFaq:async n=>{t({isLoading:!0});const{error:r}=await oe.from("faqs").delete().eq("id",n);r?(console.error("Error deleting FAQ:",r),X({title:"Error deleting FAQ",description:r.message,variant:"destructive"})):(t(i=>({faqs:i.faqs.filter(s=>s.id!==n)})),X({title:"FAQ deleted",description:"The FAQ has been deleted successfully."})),t({isLoading:!1})}})),xbe=()=>{const{faqs:t,fetchFaqs:e,isLoading:n}=vbe(),[r,i]=S.useState(""),[s,a]=S.useState(null),[o,l]=S.useState(null);S.useEffect(()=>{e()},[e]),S.useEffect(()=>{if(t.length>0&&!s){const p=[...new Set(t.map(g=>g.category))];a(p[0]||null)}},[t,s]);const c=[...new Set(t.map(p=>p.category))],d=t.filter(p=>p.category===s&&(p.question.toLowerCase().includes(r.toLowerCase())||p.answer.toLowerCase().includes(r.toLowerCase()))),h=r?t.filter(p=>p.question.toLowerCase().includes(r.toLowerCase())||p.answer.toLowerCase().includes(r.toLowerCase())).map(p=>({...p})):[];return u.jsxs("div",{className:"min-h-screen bg-[#F1F3E0]",children:[u.jsx(Zr,{}),u.jsx("section",{className:"pt-24 pb-12 px-4",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx("h1",{className:"text-5xl font-serif font-bold text-[#2d3a29] mb-4",children:"Frequently Asked Questions"}),u.jsx("p",{className:"text-xl text-[#6b7c67] max-w-2xl mx-auto mb-8",children:"Find answers to common questions about our villas and services"}),u.jsxs("div",{className:"relative max-w-xl mx-auto",children:[u.jsx(Kr,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#6b7c67]"}),u.jsx("input",{type:"text",value:r,onChange:p=>i(p.target.value),placeholder:"Search FAQs...",className:"w-full pl-12 pr-4 py-4 rounded-full border border-[#d4dbc8] bg-white focus:outline-none focus:border-[#A1BC98] shadow-sm"})]})]})}),r&&h.length>0&&u.jsx("section",{className:"px-4 pb-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("p",{className:"text-sm text-[#6b7c67] mb-4",children:["Found ",h.length,' results for "',r,'"']}),u.jsx("div",{className:"space-y-4",children:h.map((p,g)=>u.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-md",children:[u.jsx("span",{className:"inline-block px-2 py-1 bg-[#A1BC98]/20 text-xs font-medium text-[#778873] rounded-full mb-2",children:p.category}),u.jsx("h3",{className:"font-medium text-[#2d3a29] mb-2",children:p.question}),u.jsx("p",{className:"text-sm text-[#6b7c67]",children:p.answer})]},g))})]})}),!r&&u.jsx("section",{className:"py-8 px-4",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-8",children:c.map(p=>u.jsx("button",{onClick:()=>{a(p),l(null)},className:`px-5 py-2 rounded-full text-sm font-medium transition-colors ${s===p?"bg-[#778873] text-white":"bg-white text-[#6b7c67] hover:bg-[#D2DCB6]"}`,children:p},p))}),u.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:n?u.jsx("p",{className:"p-6 text-center",children:"Loading FAQs..."}):d.map((p,g)=>u.jsxs("div",{className:"border-b border-[#d4dbc8] last:border-b-0",children:[u.jsxs("button",{onClick:()=>l(o===g?null:g),className:"w-full flex items-center justify-between p-6 text-left hover:bg-[#F1F3E0] transition-colors",children:[u.jsx("span",{className:"font-medium text-[#2d3a29] pr-4",children:p.question}),u.jsx(ww,{size:20,className:`text-[#778873] shrink-0 transition-transform ${o===g?"rotate-180":""}`})]}),o===g&&u.jsx("div",{className:"px-6 pb-6 text-[#6b7c67] leading-relaxed animate-in slide-in-from-top-2",children:p.answer})]},p.id))})]})}),u.jsx("section",{className:"py-16 px-4",children:u.jsxs("div",{className:"max-w-2xl mx-auto bg-[#2d3a29] rounded-2xl p-8 md:p-12 text-center",children:[u.jsx(g8,{size:48,className:"text-[#A1BC98] mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-serif font-bold text-white mb-4",children:"Still Have Questions?"}),u.jsx("p",{className:"text-white/80 mb-6",children:"Can't find what you're looking for? Our team is here to help!"}),u.jsx(Fe,{to:"/contact",className:"inline-flex px-8 py-3 bg-[#A1BC98] text-[#2d3a29] font-semibold rounded-full hover:bg-[#D2DCB6] transition-colors",children:"Contact Our Team"})]})}),u.jsx(ei,{})]})},bbe=()=>{const t=Ys();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsxs("div",{className:"min-h-screen bg-[#F1F3E0] flex flex-col",children:[u.jsx(Zr,{}),u.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-20",children:u.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[u.jsxs("div",{className:"relative mb-8",children:[u.jsx("div",{className:"w-64 h-64 mx-auto relative",children:u.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[u.jsx("circle",{cx:"100",cy:"100",r:"90",fill:"#D2DCB6",opacity:"0.5"}),u.jsx("path",{d:"M80 180 L85 100",stroke:"#778873",strokeWidth:"6"}),u.jsx("ellipse",{cx:"85",cy:"90",rx:"30",ry:"15",fill:"#A1BC98",transform:"rotate(-30 85 90)"}),u.jsx("ellipse",{cx:"75",cy:"85",rx:"25",ry:"12",fill:"#778873",transform:"rotate(20 75 85)"}),u.jsx("ellipse",{cx:"95",cy:"88",rx:"28",ry:"13",fill:"#A1BC98",transform:"rotate(-50 95 88)"}),u.jsx("path",{d:"M130 180 L125 110",stroke:"#778873",strokeWidth:"5"}),u.jsx("ellipse",{cx:"125",cy:"100",rx:"25",ry:"12",fill:"#A1BC98",transform:"rotate(30 125 100)"}),u.jsx("ellipse",{cx:"115",cy:"97",rx:"22",ry:"10",fill:"#778873",transform:"rotate(-20 115 97)"}),u.jsx("ellipse",{cx:"135",cy:"98",rx:"24",ry:"11",fill:"#A1BC98",transform:"rotate(50 135 98)"}),u.jsx("circle",{cx:"100",cy:"140",r:"20",fill:"#F1F3E0",stroke:"#2d3a29",strokeWidth:"3"}),u.jsx("text",{x:"100",y:"148",textAnchor:"middle",fontSize:"20",fill:"#778873",fontWeight:"bold",children:"?"}),u.jsx("circle",{cx:"60",cy:"150",r:"12",fill:"#778873",opacity:"0.6"}),u.jsx("path",{d:"M60 142 L60 158 M52 150 L68 150",stroke:"white",strokeWidth:"2"})]})}),u.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2",children:u.jsx(nr,{size:32,className:"text-[#778873]"})})]}),u.jsx("h1",{className:"text-6xl font-serif font-bold text-[#2d3a29] mb-4",children:"404"}),u.jsx("h2",{className:"text-2xl font-serif font-semibold text-[#778873] mb-4",children:"Oops! Page Not Found"}),u.jsx("p",{className:"text-lg text-[#6b7c67] mb-8 max-w-md mx-auto",children:"It looks like you've wandered off the path. The page you're looking for doesn't exist or has been moved."}),u.jsxs("div",{className:"relative max-w-md mx-auto mb-8",children:[u.jsx(Kr,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#6b7c67]"}),u.jsx("input",{type:"text",placeholder:"Search our site...",className:"w-full pl-12 pr-4 py-4 rounded-full border border-[#d4dbc8] bg-white focus:outline-none focus:border-[#A1BC98] shadow-sm"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(Fe,{to:"/",className:"inline-flex items-center justify-center gap-2 px-8 py-3 bg-[#778873] text-white font-semibold rounded-full hover:bg-[#2d3a29] transition-colors",children:[u.jsx(b8,{size:18}),"Return to Homepage"]}),u.jsxs(Fe,{to:"/villas",className:"inline-flex items-center justify-center gap-2 px-8 py-3 bg-white text-[#778873] font-semibold rounded-full border-2 border-[#778873] hover:bg-[#778873] hover:text-white transition-colors",children:["Browse Our Villas",u.jsx(Zc,{size:18})]})]}),u.jsxs("div",{className:"mt-12 pt-8 border-t border-[#d4dbc8]",children:[u.jsx("p",{className:"text-sm text-[#6b7c67] mb-4",children:"Or try these popular pages:"}),u.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:[{label:"About Us",path:"/about"},{label:"Gallery",path:"/gallery"},{label:"Blog",path:"/blog"},{label:"Contact",path:"/contact"},{label:"FAQ",path:"/faq"}].map(e=>u.jsx(Fe,{to:e.path,className:"text-[#778873] hover:text-[#2d3a29] hover:underline transition-colors",children:e.label},e.path))})]})]})}),u.jsx(ei,{})]})},r1=hs()(_W((t,e)=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,sessionToken:null,login:async(n,r)=>{var i;t({isLoading:!0,error:null});try{const{data:s,error:a}=await oe.auth.signInWithPassword({email:n.toLowerCase().trim(),password:r});if(a||!s.user)return t({isLoading:!1,error:(a==null?void 0:a.message)||"Invalid email or password",isAuthenticated:!1,user:null,sessionToken:null}),!1;const{data:o,error:l}=await oe.from("admin_users").select("*").eq("id",s.user.id).eq("is_active",!0).single();if(l||!o)return await oe.auth.signOut(),t({isLoading:!1,error:"You do not have admin access",isAuthenticated:!1,user:null,sessionToken:null}),!1;await oe.from("admin_users").update({last_login:new Date().toISOString()}).eq("id",o.id).throwOnError();const c=(i=s.session)==null?void 0:i.access_token;return t({user:o,isAuthenticated:!0,isLoading:!1,error:null,sessionToken:c||null}),!0}catch(s){const a=(s==null?void 0:s.message)||"An error occurred during login";return console.error("Login error:",s),t({isLoading:!1,error:a,isAuthenticated:!1,user:null,sessionToken:null}),!1}},logout:async()=>{try{await oe.auth.signOut(),t({user:null,isAuthenticated:!1,error:null,sessionToken:null})}catch(n){console.error("Logout error:",n),t({user:null,isAuthenticated:!1,error:null,sessionToken:null})}},checkSession:async()=>{try{const{data:n,error:r}=await oe.auth.getSession();if(r||!n.session){t({isAuthenticated:!1,user:null,sessionToken:null});return}if(!e().user&&n.session.user.id){const{data:s}=await oe.from("admin_users").select("*").eq("id",n.session.user.id).eq("is_active",!0).single();s&&t({user:s,isAuthenticated:!0,sessionToken:n.session.access_token})}}catch(n){console.error("Session check error:",n),t({isAuthenticated:!1,user:null})}},clearError:()=>{t({error:null})},setUser:n=>{t({user:n})}}),{name:"admin-auth-storage",partialize:t=>({user:t.user,isAuthenticated:t.isAuthenticated,sessionToken:t.sessionToken})})),wbe=[{path:"/admin/dashboard",label:"Dashboard",icon:yte},{path:"/admin/villas",label:"Villas Management",icon:XT},{path:"/admin/bookings",label:"Bookings Management",icon:Jee},{path:"/admin/offers",label:"Offers Management",icon:O8},{path:"/admin/blog",label:"Blog Posts",icon:ote},{path:"/admin/testimonials",label:"Testimonials",icon:Zp},{path:"/admin/gallery",label:"Gallery",icon:eO},{path:"/admin/faqs",label:"FAQs",icon:g8},{path:"/admin/analytics",label:"Analytics",icon:tte},{path:"/admin/users",label:"Admin Users",icon:Jr},{path:"/admin/settings",label:"Settings",icon:E8}],Sbe=({isOpen:t,onClose:e})=>{const n=Ys();return u.jsxs(u.Fragment,{children:[t&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:e}),u.jsxs("aside",{className:`admin-sidebar ${t?"open":""}`,children:[u.jsxs("div",{className:"admin-sidebar-logo flex items-center justify-between",children:[u.jsx(Fe,{to:"/admin/dashboard",className:"flex items-center gap-2",children:u.jsxs("span",{className:"text-white font-semibold text-xl",children:["Stay",u.jsx("span",{className:"text-[#A1BC98]",children:"in"}),"UBUD"]})}),u.jsx("button",{onClick:e,className:"lg:hidden p-1 hover:bg-white/10 rounded",children:u.jsx(dn,{size:20})})]}),u.jsx("div",{className:"px-4 py-2",children:u.jsx("div",{className:"text-xs uppercase tracking-wider text-white/50 font-medium",children:"Admin Panel"})}),u.jsx("nav",{className:"admin-sidebar-nav",children:wbe.map(r=>{const i=r.icon,s=n.pathname===r.path;return u.jsxs(Fe,{to:r.path,className:`admin-nav-item ${s?"active":""}`,onClick:e,children:[u.jsx(i,{size:20}),r.label]},r.path)})}),u.jsx("div",{className:"p-4 border-t border-white/10",children:u.jsx(Fe,{to:"/",className:"text-sm text-white/60 hover:text-white transition-colors flex items-center gap-2",children:" Back to Website"})})]})]})},kbe=({onMenuClick:t})=>{const{user:e,logout:n}=r1(),r=Gs(),[i,s]=S.useState(!1),[a,o]=S.useState(!1),l=()=>{n(),r("/admin/login")},c=[{id:1,message:"New booking from John Smith",time:"5 min ago"},{id:2,message:"Payment received for SU-ABC123",time:"1 hour ago"},{id:3,message:"New review on Serenity Pool Villa",time:"2 hours ago"}];return u.jsxs("header",{className:"admin-topbar",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:t,className:"lg:hidden p-2 hover:bg-[#F1F3E0] rounded-lg transition-colors",children:u.jsx(k8,{size:24,className:"text-[#778873]"})}),u.jsxs("div",{className:"hidden md:flex items-center relative",children:[u.jsx(Kr,{size:18,className:"absolute left-3 text-[#778873]"}),u.jsx("input",{type:"text",placeholder:"Search bookings, guests...",className:"admin-input pl-10 w-64"})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>o(!a),className:"relative p-2 hover:bg-[#F1F3E0] rounded-lg transition-colors",children:[u.jsx(Qee,{size:20,className:"text-[#778873]"}),u.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),a&&u.jsxs("div",{className:"absolute right-0 top-12 w-80 bg-white rounded-xl shadow-lg border border-[#d4dbc8] z-50",children:[u.jsx("div",{className:"p-4 border-b border-[#d4dbc8]",children:u.jsx("h3",{className:"font-semibold text-[#2d3a29]",children:"Notifications"})}),u.jsx("div",{className:"max-h-64 overflow-y-auto",children:c.map(d=>u.jsxs("div",{className:"p-4 hover:bg-[#F1F3E0] cursor-pointer border-b border-[#d4dbc8] last:border-0",children:[u.jsx("p",{className:"text-sm text-[#2d3a29]",children:d.message}),u.jsx("p",{className:"text-xs text-[#6b7c67] mt-1",children:d.time})]},d.id))}),u.jsx("div",{className:"p-3 border-t border-[#d4dbc8]",children:u.jsx("button",{className:"text-sm text-[#778873] hover:text-[#2d3a29] w-full text-center",children:"View All Notifications"})})]})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>s(!i),className:"flex items-center gap-3 p-2 hover:bg-[#F1F3E0] rounded-lg transition-colors",children:[u.jsx("img",{src:(e==null?void 0:e.avatar_url)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop",alt:e==null?void 0:e.name,className:"w-8 h-8 rounded-full object-cover"}),u.jsxs("div",{className:"hidden md:block text-left",children:[u.jsx("p",{className:"text-sm font-medium text-[#2d3a29]",children:e==null?void 0:e.name}),u.jsx("p",{className:"text-xs text-[#6b7c67]",children:(e==null?void 0:e.role)==="super_admin"?"Super Admin":"Admin"})]}),u.jsx(ww,{size:16,className:"text-[#778873]"})]}),i&&u.jsx("div",{className:"absolute right-0 top-12 w-48 bg-white rounded-xl shadow-lg border border-[#d4dbc8] z-50",children:u.jsxs("div",{className:"p-2",children:[u.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-[#2d3a29] hover:bg-[#F1F3E0] rounded-lg transition-colors",children:[u.jsx(A8,{size:16}),"Profile"]}),u.jsxs("button",{onClick:l,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[u.jsx(wte,{size:16}),"Logout"]})]})})]})]}),(i||a)&&u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{s(!1),o(!1)}})]})},Cbe=()=>{const{isAuthenticated:t}=r1(),e=Ys(),[n,r]=S.useState(!1);return S.useEffect(()=>{r(!1)},[e.pathname]),t?u.jsxs("div",{className:"admin-layout",children:[u.jsx(Sbe,{isOpen:n,onClose:()=>r(!1)}),u.jsxs("div",{className:"admin-content",children:[u.jsx(kbe,{onMenuClick:()=>r(!0)}),u.jsx("main",{className:"admin-main",children:u.jsx(Qse,{})})]})]}):u.jsx(Gse,{to:"/admin/login",replace:!0})},_be=()=>{const t=Gs(),{login:e,isLoading:n,isAuthenticated:r,error:i,clearError:s}=r1(),[a,o]=S.useState(""),[l,c]=S.useState(""),[d,f]=S.useState(!1),[h,p]=S.useState(!1);S.useEffect(()=>{r&&t("/admin/dashboard")},[r,t]);const g=async m=>{if(m.preventDefault(),s(),!a.trim()||!l.trim())return;await e(a,l)&&t("/admin/dashboard")};return u.jsx("div",{className:"admin-login-page",children:u.jsxs("div",{className:"admin-login-card",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("h1",{className:"text-2xl font-bold text-[#2d3a29]",children:["Stay",u.jsx("span",{className:"text-[#778873]",children:"in"}),"UBUD"]}),u.jsx("p",{className:"text-sm text-[#6b7c67] mt-1",children:"Admin Panel"})]}),i&&u.jsx("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-600",children:i}),u.jsxs("form",{onSubmit:g,className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Email"}),u.jsx("input",{type:"email",value:a,onChange:m=>o(m.target.value),className:"admin-input",placeholder:"Enter your email",autoComplete:"email"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:d?"text":"password",value:l,onChange:m=>c(m.target.value),className:"admin-input pr-10",placeholder:"Enter your password",autoComplete:"current-password"}),u.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6b7c67] hover:text-[#2d3a29]",children:d?u.jsx(ate,{size:18}):u.jsx(If,{size:18})})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"rememberMe",checked:h,onChange:m=>p(m.target.checked),className:"w-4 h-4 rounded border-[#d4dbc8] text-[#778873] focus:ring-[#A1BC98]"}),u.jsx("label",{htmlFor:"rememberMe",className:"ml-2 text-sm text-[#6b7c67]",children:"Remember me"})]}),u.jsx("button",{type:"submit",disabled:n,className:"w-full admin-btn admin-btn-primary py-3 text-base",children:n?u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsx(ze,{size:18,className:"animate-spin"}),"Logging in..."]}):"Login"})]}),u.jsx("div",{className:"mt-6 p-4 bg-[#F1F3E0] rounded-lg",children:u.jsxs("p",{className:"text-xs text-[#6b7c67] text-center",children:[u.jsx("strong",{children:"Demo Credentials:"}),u.jsx("br",{}),"Email: ",u.jsx("code",{className:"bg-white px-1 rounded",children:"admin@stayinubud.com"}),u.jsx("br",{}),"Password: ",u.jsx("code",{className:"bg-white px-1 rounded",children:"admin123"})]})})]})})};var jbe=Array.isArray,Tr=jbe,Ebe=typeof js=="object"&&js&&js.Object===Object&&js,t9=Ebe,Nbe=t9,Tbe=typeof self=="object"&&self&&self.Object===Object&&self,Obe=Nbe||Tbe||Function("return this")(),Qs=Obe,Pbe=Qs,Abe=Pbe.Symbol,Og=Abe,n$=Og,n9=Object.prototype,Mbe=n9.hasOwnProperty,Dbe=n9.toString,Oh=n$?n$.toStringTag:void 0;function Rbe(t){var e=Mbe.call(t,Oh),n=t[Oh];try{t[Oh]=void 0;var r=!0}catch{}var i=Dbe.call(t);return r&&(e?t[Oh]=n:delete t[Oh]),i}var Ibe=Rbe,$be=Object.prototype,Lbe=$be.toString;function Bbe(t){return Lbe.call(t)}var Fbe=Bbe,r$=Og,zbe=Ibe,Vbe=Fbe,Ube="[object Null]",Wbe="[object Undefined]",i$=r$?r$.toStringTag:void 0;function Hbe(t){return t==null?t===void 0?Wbe:Ube:i$&&i$ in Object(t)?zbe(t):Vbe(t)}var Wa=Hbe;function qbe(t){return t!=null&&typeof t=="object"}var Ha=qbe,Kbe=Wa,Ybe=Ha,Gbe="[object Symbol]";function Qbe(t){return typeof t=="symbol"||Ybe(t)&&Kbe(t)==Gbe}var Qf=Qbe,Xbe=Tr,Jbe=Qf,Zbe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ewe=/^\w*$/;function twe(t,e){if(Xbe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Jbe(t)?!0:ewe.test(t)||!Zbe.test(t)||e!=null&&t in Object(e)}var k2=twe;function nwe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wl=nwe;const Xf=tt(wl);var rwe=Wa,iwe=wl,swe="[object AsyncFunction]",awe="[object Function]",owe="[object GeneratorFunction]",lwe="[object Proxy]";function cwe(t){if(!iwe(t))return!1;var e=rwe(t);return e==awe||e==owe||e==swe||e==lwe}var C2=cwe;const Me=tt(C2);var uwe=Qs,dwe=uwe["__core-js_shared__"],fwe=dwe,Ak=fwe,s$=function(){var t=/[^.]+$/.exec(Ak&&Ak.keys&&Ak.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function hwe(t){return!!s$&&s$ in t}var pwe=hwe,mwe=Function.prototype,gwe=mwe.toString;function ywe(t){if(t!=null){try{return gwe.call(t)}catch{}try{return t+""}catch{}}return""}var r9=ywe,vwe=C2,xwe=pwe,bwe=wl,wwe=r9,Swe=/[\\^$.*+?()[\]{}|]/g,kwe=/^\[object .+?Constructor\]$/,Cwe=Function.prototype,_we=Object.prototype,jwe=Cwe.toString,Ewe=_we.hasOwnProperty,Nwe=RegExp("^"+jwe.call(Ewe).replace(Swe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Twe(t){if(!bwe(t)||xwe(t))return!1;var e=vwe(t)?Nwe:kwe;return e.test(wwe(t))}var Owe=Twe;function Pwe(t,e){return t==null?void 0:t[e]}var Awe=Pwe,Mwe=Owe,Dwe=Awe;function Rwe(t,e){var n=Dwe(t,e);return Mwe(n)?n:void 0}var ru=Rwe,Iwe=ru,$we=Iwe(Object,"create"),i1=$we,a$=i1;function Lwe(){this.__data__=a$?a$(null):{},this.size=0}var Bwe=Lwe;function Fwe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var zwe=Fwe,Vwe=i1,Uwe="__lodash_hash_undefined__",Wwe=Object.prototype,Hwe=Wwe.hasOwnProperty;function qwe(t){var e=this.__data__;if(Vwe){var n=e[t];return n===Uwe?void 0:n}return Hwe.call(e,t)?e[t]:void 0}var Kwe=qwe,Ywe=i1,Gwe=Object.prototype,Qwe=Gwe.hasOwnProperty;function Xwe(t){var e=this.__data__;return Ywe?e[t]!==void 0:Qwe.call(e,t)}var Jwe=Xwe,Zwe=i1,e1e="__lodash_hash_undefined__";function t1e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Zwe&&e===void 0?e1e:e,this}var n1e=t1e,r1e=Bwe,i1e=zwe,s1e=Kwe,a1e=Jwe,o1e=n1e;function Jf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jf.prototype.clear=r1e;Jf.prototype.delete=i1e;Jf.prototype.get=s1e;Jf.prototype.has=a1e;Jf.prototype.set=o1e;var l1e=Jf;function c1e(){this.__data__=[],this.size=0}var u1e=c1e;function d1e(t,e){return t===e||t!==t&&e!==e}var _2=d1e,f1e=_2;function h1e(t,e){for(var n=t.length;n--;)if(f1e(t[n][0],e))return n;return-1}var s1=h1e,p1e=s1,m1e=Array.prototype,g1e=m1e.splice;function y1e(t){var e=this.__data__,n=p1e(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():g1e.call(e,n,1),--this.size,!0}var v1e=y1e,x1e=s1;function b1e(t){var e=this.__data__,n=x1e(e,t);return n<0?void 0:e[n][1]}var w1e=b1e,S1e=s1;function k1e(t){return S1e(this.__data__,t)>-1}var C1e=k1e,_1e=s1;function j1e(t,e){var n=this.__data__,r=_1e(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var E1e=j1e,N1e=u1e,T1e=v1e,O1e=w1e,P1e=C1e,A1e=E1e;function Zf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zf.prototype.clear=N1e;Zf.prototype.delete=T1e;Zf.prototype.get=O1e;Zf.prototype.has=P1e;Zf.prototype.set=A1e;var a1=Zf,M1e=ru,D1e=Qs,R1e=M1e(D1e,"Map"),j2=R1e,o$=l1e,I1e=a1,$1e=j2;function L1e(){this.size=0,this.__data__={hash:new o$,map:new($1e||I1e),string:new o$}}var B1e=L1e;function F1e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var z1e=F1e,V1e=z1e;function U1e(t,e){var n=t.__data__;return V1e(e)?n[typeof e=="string"?"string":"hash"]:n.map}var o1=U1e,W1e=o1;function H1e(t){var e=W1e(this,t).delete(t);return this.size-=e?1:0,e}var q1e=H1e,K1e=o1;function Y1e(t){return K1e(this,t).get(t)}var G1e=Y1e,Q1e=o1;function X1e(t){return Q1e(this,t).has(t)}var J1e=X1e,Z1e=o1;function eSe(t,e){var n=Z1e(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var tSe=eSe,nSe=B1e,rSe=q1e,iSe=G1e,sSe=J1e,aSe=tSe;function eh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}eh.prototype.clear=nSe;eh.prototype.delete=rSe;eh.prototype.get=iSe;eh.prototype.has=sSe;eh.prototype.set=aSe;var E2=eh,i9=E2,oSe="Expected a function";function N2(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(oSe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(N2.Cache||i9),n}N2.Cache=i9;var s9=N2;const lSe=tt(s9);var cSe=s9,uSe=500;function dSe(t){var e=cSe(t,function(r){return n.size===uSe&&n.clear(),r}),n=e.cache;return e}var fSe=dSe,hSe=fSe,pSe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mSe=/\\(\\)?/g,gSe=hSe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(pSe,function(n,r,i,s){e.push(i?s.replace(mSe,"$1"):r||n)}),e}),ySe=gSe;function vSe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var T2=vSe,l$=Og,xSe=T2,bSe=Tr,wSe=Qf,c$=l$?l$.prototype:void 0,u$=c$?c$.toString:void 0;function a9(t){if(typeof t=="string")return t;if(bSe(t))return xSe(t,a9)+"";if(wSe(t))return u$?u$.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var SSe=a9,kSe=SSe;function CSe(t){return t==null?"":kSe(t)}var o9=CSe,_Se=Tr,jSe=k2,ESe=ySe,NSe=o9;function TSe(t,e){return _Se(t)?t:jSe(t,e)?[t]:ESe(NSe(t))}var l9=TSe,OSe=Qf;function PSe(t){if(typeof t=="string"||OSe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var l1=PSe,ASe=l9,MSe=l1;function DSe(t,e){e=ASe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[MSe(e[n++])];return n&&n==r?t:void 0}var O2=DSe,RSe=O2;function ISe(t,e,n){var r=t==null?void 0:RSe(t,e);return r===void 0?n:r}var c9=ISe;const wi=tt(c9);function $Se(t){return t==null}var LSe=$Se;const Re=tt(LSe);var BSe=Wa,FSe=Tr,zSe=Ha,VSe="[object String]";function USe(t){return typeof t=="string"||!FSe(t)&&zSe(t)&&BSe(t)==VSe}var WSe=USe;const Fc=tt(WSe);var u9={exports:{}},nt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P2=Symbol.for("react.element"),A2=Symbol.for("react.portal"),c1=Symbol.for("react.fragment"),u1=Symbol.for("react.strict_mode"),d1=Symbol.for("react.profiler"),f1=Symbol.for("react.provider"),h1=Symbol.for("react.context"),HSe=Symbol.for("react.server_context"),p1=Symbol.for("react.forward_ref"),m1=Symbol.for("react.suspense"),g1=Symbol.for("react.suspense_list"),y1=Symbol.for("react.memo"),v1=Symbol.for("react.lazy"),qSe=Symbol.for("react.offscreen"),d9;d9=Symbol.for("react.module.reference");function Ti(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case P2:switch(t=t.type,t){case c1:case d1:case u1:case m1:case g1:return t;default:switch(t=t&&t.$$typeof,t){case HSe:case h1:case p1:case v1:case y1:case f1:return t;default:return e}}case A2:return e}}}nt.ContextConsumer=h1;nt.ContextProvider=f1;nt.Element=P2;nt.ForwardRef=p1;nt.Fragment=c1;nt.Lazy=v1;nt.Memo=y1;nt.Portal=A2;nt.Profiler=d1;nt.StrictMode=u1;nt.Suspense=m1;nt.SuspenseList=g1;nt.isAsyncMode=function(){return!1};nt.isConcurrentMode=function(){return!1};nt.isContextConsumer=function(t){return Ti(t)===h1};nt.isContextProvider=function(t){return Ti(t)===f1};nt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===P2};nt.isForwardRef=function(t){return Ti(t)===p1};nt.isFragment=function(t){return Ti(t)===c1};nt.isLazy=function(t){return Ti(t)===v1};nt.isMemo=function(t){return Ti(t)===y1};nt.isPortal=function(t){return Ti(t)===A2};nt.isProfiler=function(t){return Ti(t)===d1};nt.isStrictMode=function(t){return Ti(t)===u1};nt.isSuspense=function(t){return Ti(t)===m1};nt.isSuspenseList=function(t){return Ti(t)===g1};nt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===c1||t===d1||t===u1||t===m1||t===g1||t===qSe||typeof t=="object"&&t!==null&&(t.$$typeof===v1||t.$$typeof===y1||t.$$typeof===f1||t.$$typeof===h1||t.$$typeof===p1||t.$$typeof===d9||t.getModuleId!==void 0)};nt.typeOf=Ti;u9.exports=nt;var KSe=u9.exports,YSe=Wa,GSe=Ha,QSe="[object Number]";function XSe(t){return typeof t=="number"||GSe(t)&&YSe(t)==QSe}var f9=XSe;const JSe=tt(f9);var ZSe=f9;function eke(t){return ZSe(t)&&t!=+t}var tke=eke;const Pg=tt(tke);var ns=function(e){return e===0?0:e>0?1:-1},ic=function(e){return Fc(e)&&e.indexOf("%")===e.length-1},ee=function(e){return JSe(e)&&!Pg(e)},nke=function(e){return Re(e)},un=function(e){return ee(e)||Fc(e)},rke=0,Ag=function(e){var n=++rke;return"".concat(e||"").concat(n)},zc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(e)&&!Fc(e))return r;var s;if(ic(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Pg(s)&&(s=r),i&&s>n&&(s=n),s},vo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},ike=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Zi=function(e,n){return ee(e)&&ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function fx(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):wi(r,e))===n})}var ske=function(e,n){return ee(e)&&ee(n)?e-n:Fc(e)&&Fc(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function wd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Wj(t){"@babel/helpers - typeof";return Wj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wj(t)}var ake=["viewBox","children"],oke=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],d$=["points","pathLength"],Mk={svg:ake,polygon:d$,polyline:d$},M2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hx=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(S.isValidElement(e)&&(r=e.props),!Xf(r))return null;var i={};return Object.keys(r).forEach(function(s){M2.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},lke=function(e,n,r){return function(i){return e(n,r,i),null}},px=function(e,n,r){if(!Xf(e)||Wj(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];M2.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=lke(a,n,r))}),i},cke=["children"],uke=["children"];function f$(t,e){if(t==null)return{};var n=dke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hj(t){"@babel/helpers - typeof";return Hj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hj(t)}var h$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Sa=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},p$=null,Dk=null,D2=function t(e){if(e===p$&&Array.isArray(Dk))return Dk;var n=[];return S.Children.forEach(e,function(r){Re(r)||(KSe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Dk=n,p$=e,n};function Si(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Sa(i)}):r=[Sa(e)],D2(t).forEach(function(i){var s=wi(i,"type.displayName")||wi(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function $r(t,e){var n=Si(t,e);return n&&n[0]}var m$=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ee(r)||r<=0||!ee(i)||i<=0)},fke=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],hke=function(e){return e&&e.type&&Fc(e.type)&&fke.indexOf(e.type)>=0},pke=function(e){return e&&Hj(e)==="object"&&"clipDot"in e},mke=function(e,n,r,i){var s,a=(s=Mk==null?void 0:Mk[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Me(e)&&(i&&a.includes(n)||oke.includes(n))||r&&M2.includes(n)},Be=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(S.isValidElement(e)&&(i=e.props),!Xf(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;mke((o=i)===null||o===void 0?void 0:o[a],a,n,r)&&(s[a]=i[a])}),s},qj=function t(e,n){if(e===n)return!0;var r=S.Children.count(e);if(r!==S.Children.count(n))return!1;if(r===0)return!0;if(r===1)return g$(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!g$(s,a))return!1}return!0},g$=function(e,n){if(Re(e)&&Re(n))return!0;if(!Re(e)&&!Re(n)){var r=e.props||{},i=r.children,s=f$(r,cke),a=n.props||{},o=a.children,l=f$(a,uke);return i&&o?wd(s,l)&&qj(i,o):!i&&!o?wd(s,l):!1}return!1},y$=function(e,n){var r=[],i={};return D2(e).forEach(function(s,a){if(hke(s))r.push(s);else if(s){var o=Sa(s.type),l=n[o]||{},c=l.handler,d=l.once;if(c&&(!d||!i[o])){var f=c(s,o,a);r.push(f),i[o]=!0}}}),r},gke=function(e){var n=e&&e.type;return n&&h$[n]?h$[n]:null},yke=function(e,n){return D2(n).indexOf(e)},vke=["children","width","height","viewBox","className","style","title","desc"];function Kj(){return Kj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kj.apply(this,arguments)}function xke(t,e){if(t==null)return{};var n=bke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Yj(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,c=xke(t,vke),d=i||{width:n,height:r,x:0,y:0},f=me("recharts-surface",s);return T.createElement("svg",Kj({},Be(c,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),T.createElement("title",null,o),T.createElement("desc",null,l),e)}var wke=["children","className"];function Gj(){return Gj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gj.apply(this,arguments)}function Ske(t,e){if(t==null)return{};var n=kke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ut=T.forwardRef(function(t,e){var n=t.children,r=t.className,i=Ske(t,wke),s=me("recharts-layer",r);return T.createElement("g",Gj({className:s},Be(i,!0),{ref:e}),n)}),ka=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function Cke(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var _ke=Cke,jke=_ke;function Eke(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:jke(t,e,n)}var Nke=Eke,Tke="\\ud800-\\udfff",Oke="\\u0300-\\u036f",Pke="\\ufe20-\\ufe2f",Ake="\\u20d0-\\u20ff",Mke=Oke+Pke+Ake,Dke="\\ufe0e\\ufe0f",Rke="\\u200d",Ike=RegExp("["+Rke+Tke+Mke+Dke+"]");function $ke(t){return Ike.test(t)}var h9=$ke;function Lke(t){return t.split("")}var Bke=Lke,p9="\\ud800-\\udfff",Fke="\\u0300-\\u036f",zke="\\ufe20-\\ufe2f",Vke="\\u20d0-\\u20ff",Uke=Fke+zke+Vke,Wke="\\ufe0e\\ufe0f",Hke="["+p9+"]",Qj="["+Uke+"]",Xj="\\ud83c[\\udffb-\\udfff]",qke="(?:"+Qj+"|"+Xj+")",m9="[^"+p9+"]",g9="(?:\\ud83c[\\udde6-\\uddff]){2}",y9="[\\ud800-\\udbff][\\udc00-\\udfff]",Kke="\\u200d",v9=qke+"?",x9="["+Wke+"]?",Yke="(?:"+Kke+"(?:"+[m9,g9,y9].join("|")+")"+x9+v9+")*",Gke=x9+v9+Yke,Qke="(?:"+[m9+Qj+"?",Qj,g9,y9,Hke].join("|")+")",Xke=RegExp(Xj+"(?="+Xj+")|"+Qke+Gke,"g");function Jke(t){return t.match(Xke)||[]}var Zke=Jke,eCe=Bke,tCe=h9,nCe=Zke;function rCe(t){return tCe(t)?nCe(t):eCe(t)}var iCe=rCe,sCe=Nke,aCe=h9,oCe=iCe,lCe=o9;function cCe(t){return function(e){e=lCe(e);var n=aCe(e)?oCe(e):void 0,r=n?n[0]:e.charAt(0),i=n?sCe(n,1).join(""):e.slice(1);return r[t]()+i}}var uCe=cCe,dCe=uCe,fCe=dCe("toUpperCase"),hCe=fCe;const x1=tt(hCe);function dt(t){return function(){return t}}const b9=Math.cos,mx=Math.sin,ps=Math.sqrt,gx=Math.PI,b1=2*gx,Jj=Math.PI,Zj=2*Jj,Hl=1e-6,pCe=Zj-Hl;function w9(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function mCe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return w9;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class gCe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?w9:mCe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-n,d=a-e,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Hl)if(!(Math.abs(f*l-c*d)>Hl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,g=i-o,m=l*l+c*c,y=p*p+g*g,v=Math.sqrt(m),x=Math.sqrt(h),b=s*Math.tan((Jj-Math.acos((m+h-y)/(2*v*x)))/2),k=b/x,w=b/v;Math.abs(k-1)>Hl&&this._append`L${e+k*d},${n+k*f}`,this._append`A${s},${s},0,0,${+(f*p>d*g)},${this._x1=e+w*l},${this._y1=n+w*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,d=n+l,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Hl||Math.abs(this._y1-d)>Hl)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%Zj+Zj),h>pCe?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>Hl&&this._append`A${r},${r},0,${+(h>=Jj)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function R2(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new gCe(e)}function I2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function S9(t){this._context=t}S9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function w1(t){return new S9(t)}function k9(t){return t[0]}function C9(t){return t[1]}function _9(t,e){var n=dt(!0),r=null,i=w1,s=null,a=R2(o);t=typeof t=="function"?t:t===void 0?k9:dt(t),e=typeof e=="function"?e:e===void 0?C9:dt(e);function o(l){var c,d=(l=I2(l)).length,f,h=!1,p;for(r==null&&(s=i(p=a())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,c,l),+e(f,c,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:dt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:dt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:dt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function Yy(t,e,n){var r=null,i=dt(!0),s=null,a=w1,o=null,l=R2(c);t=typeof t=="function"?t:t===void 0?k9:dt(+t),e=typeof e=="function"?e:dt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?C9:dt(+n);function c(f){var h,p,g,m=(f=I2(f)).length,y,v=!1,x,b=new Array(m),k=new Array(m);for(s==null&&(o=a(x=l())),h=0;h<=m;++h){if(!(h<m&&i(y=f[h],h,f))===v)if(v=!v)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(b[g],k[g]);o.lineEnd(),o.areaEnd()}v&&(b[h]=+t(y,h,f),k[h]=+e(y,h,f),o.point(r?+r(y,h,f):b[h],n?+n(y,h,f):k[h]))}if(x)return o=null,x+""||null}function d(){return _9().defined(i).curve(a).context(s)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:dt(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:dt(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:dt(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:dt(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:dt(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:dt(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:dt(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),c):a},c.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),c):s},c}class j9{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function yCe(t){return new j9(t,!0)}function vCe(t){return new j9(t,!1)}const $2={draw(t,e){const n=ps(e/gx);t.moveTo(n,0),t.arc(0,0,n,0,b1)}},xCe={draw(t,e){const n=ps(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},E9=ps(1/3),bCe=E9*2,wCe={draw(t,e){const n=ps(e/bCe),r=n*E9;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},SCe={draw(t,e){const n=ps(e),r=-n/2;t.rect(r,r,n,n)}},kCe=.8908130915292852,N9=mx(gx/10)/mx(7*gx/10),CCe=mx(b1/10)*N9,_Ce=-b9(b1/10)*N9,jCe={draw(t,e){const n=ps(e*kCe),r=CCe*n,i=_Ce*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=b1*s/5,o=b9(a),l=mx(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},Rk=ps(3),ECe={draw(t,e){const n=-ps(e/(Rk*3));t.moveTo(0,n*2),t.lineTo(-Rk*n,-n),t.lineTo(Rk*n,-n),t.closePath()}},ni=-.5,ri=ps(3)/2,eE=1/ps(12),NCe=(eE/2+1)*3,TCe={draw(t,e){const n=ps(e/NCe),r=n/2,i=n*eE,s=r,a=n*eE+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(ni*r-ri*i,ri*r+ni*i),t.lineTo(ni*s-ri*a,ri*s+ni*a),t.lineTo(ni*o-ri*l,ri*o+ni*l),t.lineTo(ni*r+ri*i,ni*i-ri*r),t.lineTo(ni*s+ri*a,ni*a-ri*s),t.lineTo(ni*o+ri*l,ni*l-ri*o),t.closePath()}};function OCe(t,e){let n=null,r=R2(i);t=typeof t=="function"?t:dt(t||$2),e=typeof e=="function"?e:dt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:dt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:dt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function yx(){}function vx(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function T9(t){this._context=t}T9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PCe(t){return new T9(t)}function O9(t){this._context=t}O9.prototype={areaStart:yx,areaEnd:yx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:vx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ACe(t){return new O9(t)}function P9(t){this._context=t}P9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:vx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function MCe(t){return new P9(t)}function A9(t){this._context=t}A9.prototype={areaStart:yx,areaEnd:yx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function DCe(t){return new A9(t)}function v$(t){return t<0?-1:1}function x$(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(v$(s)+v$(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function b$(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ik(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function xx(t){this._context=t}xx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ik(this,this._t0,b$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ik(this,b$(this,n=x$(this,t,e)),n);break;default:Ik(this,this._t0,n=x$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function M9(t){this._context=new D9(t)}(M9.prototype=Object.create(xx.prototype)).point=function(t,e){xx.prototype.point.call(this,e,t)};function D9(t){this._context=t}D9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function RCe(t){return new xx(t)}function ICe(t){return new M9(t)}function R9(t){this._context=t}R9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=w$(t),i=w$(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function w$(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function $Ce(t){return new R9(t)}function S1(t,e){this._context=t,this._t=e}S1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function LCe(t){return new S1(t,.5)}function BCe(t){return new S1(t,0)}function FCe(t){return new S1(t,1)}function ef(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function tE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function zCe(t,e){return t[e]}function VCe(t){const e=[];return e.key=t,e}function UCe(){var t=dt([]),e=tE,n=ef,r=zCe;function i(s){var a=Array.from(t.apply(this,arguments),VCe),o,l=a.length,c=-1,d;for(const f of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(f,a[o].key,c,s)]).data=f;for(o=0,d=I2(e(a));o<l;++o)a[d[o]].index=o;return n(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:dt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:dt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?tE:typeof s=="function"?s:dt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??ef,i):n},i}function WCe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}ef(t,e)}}function HCe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}ef(t,e)}}function qCe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var d=t[e[o]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var m=t[e[g]],y=m[r][1]||0,v=m[r-1][1]||0;p+=y-v}l+=f,c+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,ef(t,e)}}function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}var KCe=["type","size","sizeType"];function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(this,arguments)}function S$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S$(Object(n),!0).forEach(function(r){YCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YCe(t,e,n){return e=GCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GCe(t){var e=QCe(t,"string");return xm(e)=="symbol"?e:e+""}function QCe(t,e){if(xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XCe(t,e){if(t==null)return{};var n=JCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var I9={symbolCircle:$2,symbolCross:xCe,symbolDiamond:wCe,symbolSquare:SCe,symbolStar:jCe,symbolTriangle:ECe,symbolWye:TCe},ZCe=Math.PI/180,e_e=function(e){var n="symbol".concat(x1(e));return I9[n]||$2},t_e=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*ZCe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},n_e=function(e,n){I9["symbol".concat(x1(e))]=n},L2=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=XCe(e,KCe),c=k$(k$({},l),{},{type:r,size:s,sizeType:o}),d=function(){var y=e_e(r),v=OCe().type(y).size(t_e(s,o,r));return v()},f=c.className,h=c.cx,p=c.cy,g=Be(c,!0);return h===+h&&p===+p&&s===+s?T.createElement("path",nE({},g,{className:me("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};L2.registerSymbol=n_e;function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function rE(){return rE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rE.apply(this,arguments)}function C$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C$(Object(n),!0).forEach(function(r){bm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L9(r.key),r)}}function a_e(t,e,n){return e&&s_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function o_e(t,e,n){return e=bx(e),l_e(t,$9()?Reflect.construct(e,n||[],bx(t).constructor):e.apply(t,n))}function l_e(t,e){if(e&&(tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c_e(t)}function c_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($9=function(){return!!t})()}function bx(t){return bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bx(t)}function u_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iE(t,e)}function iE(t,e){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iE(t,e)}function bm(t,e,n){return e=L9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L9(t){var e=d_e(t,"string");return tf(e)=="symbol"?e:e+""}function d_e(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ii=32,B2=function(t){function e(){return i_e(this,e),o_e(this,e,arguments)}return u_e(e,t),a_e(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=ii/2,a=ii/6,o=ii/3,l=r.inactive?i:r.color;if(r.type==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:ii,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(ii,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return T.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ii/8,"h").concat(ii,"v").concat(ii*3/4,"h").concat(-ii,"z"),className:"recharts-legend-icon"});if(T.isValidElement(r.legendIcon)){var c=r_e({},r);return delete c.legendIcon,T.cloneElement(r.legendIcon,c)}return T.createElement(L2,{fill:l,cx:s,cy:s,size:ii,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:ii,height:ii},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,g){var m=p.formatter||l,y=me(bm(bm({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Me(p.value)?null:p.value;ka(!Me(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?c:p.color;return T.createElement("li",rE({className:y,style:f,key:"legend-item-".concat(g)},px(r.props,p,g)),T.createElement(Yj,{width:a,height:a,viewBox:d,style:h},r.renderIcon(p)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(v,p,g):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(S.PureComponent);bm(B2,"displayName","Legend");bm(B2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var f_e=a1;function h_e(){this.__data__=new f_e,this.size=0}var p_e=h_e;function m_e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var g_e=m_e;function y_e(t){return this.__data__.get(t)}var v_e=y_e;function x_e(t){return this.__data__.has(t)}var b_e=x_e,w_e=a1,S_e=j2,k_e=E2,C_e=200;function __e(t,e){var n=this.__data__;if(n instanceof w_e){var r=n.__data__;if(!S_e||r.length<C_e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new k_e(r)}return n.set(t,e),this.size=n.size,this}var j_e=__e,E_e=a1,N_e=p_e,T_e=g_e,O_e=v_e,P_e=b_e,A_e=j_e;function th(t){var e=this.__data__=new E_e(t);this.size=e.size}th.prototype.clear=N_e;th.prototype.delete=T_e;th.prototype.get=O_e;th.prototype.has=P_e;th.prototype.set=A_e;var B9=th,M_e="__lodash_hash_undefined__";function D_e(t){return this.__data__.set(t,M_e),this}var R_e=D_e;function I_e(t){return this.__data__.has(t)}var $_e=I_e,L_e=E2,B_e=R_e,F_e=$_e;function wx(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new L_e;++e<n;)this.add(t[e])}wx.prototype.add=wx.prototype.push=B_e;wx.prototype.has=F_e;var F9=wx;function z_e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var z9=z_e;function V_e(t,e){return t.has(e)}var V9=V_e,U_e=F9,W_e=z9,H_e=V9,q_e=1,K_e=2;function Y_e(t,e,n,r,i,s){var a=n&q_e,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var c=s.get(t),d=s.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,p=n&K_e?new U_e:void 0;for(s.set(t,e),s.set(e,t);++f<o;){var g=t[f],m=e[f];if(r)var y=a?r(m,g,f,e,t,s):r(g,m,f,t,e,s);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!W_e(e,function(v,x){if(!H_e(p,x)&&(g===v||i(g,v,n,r,s)))return p.push(x)})){h=!1;break}}else if(!(g===m||i(g,m,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var U9=Y_e,G_e=Qs,Q_e=G_e.Uint8Array,X_e=Q_e;function J_e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Z_e=J_e;function eje(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var F2=eje,_$=Og,j$=X_e,tje=_2,nje=U9,rje=Z_e,ije=F2,sje=1,aje=2,oje="[object Boolean]",lje="[object Date]",cje="[object Error]",uje="[object Map]",dje="[object Number]",fje="[object RegExp]",hje="[object Set]",pje="[object String]",mje="[object Symbol]",gje="[object ArrayBuffer]",yje="[object DataView]",E$=_$?_$.prototype:void 0,$k=E$?E$.valueOf:void 0;function vje(t,e,n,r,i,s,a){switch(n){case yje:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case gje:return!(t.byteLength!=e.byteLength||!s(new j$(t),new j$(e)));case oje:case lje:case dje:return tje(+t,+e);case cje:return t.name==e.name&&t.message==e.message;case fje:case pje:return t==e+"";case uje:var o=rje;case hje:var l=r&sje;if(o||(o=ije),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=aje,a.set(t,e);var d=nje(o(t),o(e),r,i,s,a);return a.delete(t),d;case mje:if($k)return $k.call(t)==$k.call(e)}return!1}var xje=vje;function bje(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var W9=bje,wje=W9,Sje=Tr;function kje(t,e,n){var r=e(t);return Sje(t)?r:wje(r,n(t))}var Cje=kje;function _je(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}var jje=_je;function Eje(){return[]}var Nje=Eje,Tje=jje,Oje=Nje,Pje=Object.prototype,Aje=Pje.propertyIsEnumerable,N$=Object.getOwnPropertySymbols,Mje=N$?function(t){return t==null?[]:(t=Object(t),Tje(N$(t),function(e){return Aje.call(t,e)}))}:Oje,Dje=Mje;function Rje(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Ije=Rje,$je=Wa,Lje=Ha,Bje="[object Arguments]";function Fje(t){return Lje(t)&&$je(t)==Bje}var zje=Fje,T$=zje,Vje=Ha,H9=Object.prototype,Uje=H9.hasOwnProperty,Wje=H9.propertyIsEnumerable,Hje=T$(function(){return arguments}())?T$:function(t){return Vje(t)&&Uje.call(t,"callee")&&!Wje.call(t,"callee")},z2=Hje,Sx={exports:{}};function qje(){return!1}var Kje=qje;Sx.exports;(function(t,e){var n=Qs,r=Kje,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(Sx,Sx.exports);var q9=Sx.exports,Yje=9007199254740991,Gje=/^(?:0|[1-9]\d*)$/;function Qje(t,e){var n=typeof t;return e=e??Yje,!!e&&(n=="number"||n!="symbol"&&Gje.test(t))&&t>-1&&t%1==0&&t<e}var V2=Qje,Xje=9007199254740991;function Jje(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Xje}var U2=Jje,Zje=Wa,eEe=U2,tEe=Ha,nEe="[object Arguments]",rEe="[object Array]",iEe="[object Boolean]",sEe="[object Date]",aEe="[object Error]",oEe="[object Function]",lEe="[object Map]",cEe="[object Number]",uEe="[object Object]",dEe="[object RegExp]",fEe="[object Set]",hEe="[object String]",pEe="[object WeakMap]",mEe="[object ArrayBuffer]",gEe="[object DataView]",yEe="[object Float32Array]",vEe="[object Float64Array]",xEe="[object Int8Array]",bEe="[object Int16Array]",wEe="[object Int32Array]",SEe="[object Uint8Array]",kEe="[object Uint8ClampedArray]",CEe="[object Uint16Array]",_Ee="[object Uint32Array]",mt={};mt[yEe]=mt[vEe]=mt[xEe]=mt[bEe]=mt[wEe]=mt[SEe]=mt[kEe]=mt[CEe]=mt[_Ee]=!0;mt[nEe]=mt[rEe]=mt[mEe]=mt[iEe]=mt[gEe]=mt[sEe]=mt[aEe]=mt[oEe]=mt[lEe]=mt[cEe]=mt[uEe]=mt[dEe]=mt[fEe]=mt[hEe]=mt[pEe]=!1;function jEe(t){return tEe(t)&&eEe(t.length)&&!!mt[Zje(t)]}var EEe=jEe;function NEe(t){return function(e){return t(e)}}var K9=NEe,kx={exports:{}};kx.exports;(function(t,e){var n=t9,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(kx,kx.exports);var TEe=kx.exports,OEe=EEe,PEe=K9,O$=TEe,P$=O$&&O$.isTypedArray,AEe=P$?PEe(P$):OEe,Y9=AEe,MEe=Ije,DEe=z2,REe=Tr,IEe=q9,$Ee=V2,LEe=Y9,BEe=Object.prototype,FEe=BEe.hasOwnProperty;function zEe(t,e){var n=REe(t),r=!n&&DEe(t),i=!n&&!r&&IEe(t),s=!n&&!r&&!i&&LEe(t),a=n||r||i||s,o=a?MEe(t.length,String):[],l=o.length;for(var c in t)(e||FEe.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||$Ee(c,l)))&&o.push(c);return o}var VEe=zEe,UEe=Object.prototype;function WEe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||UEe;return t===n}var HEe=WEe;function qEe(t,e){return function(n){return t(e(n))}}var G9=qEe,KEe=G9,YEe=KEe(Object.keys,Object),GEe=YEe,QEe=HEe,XEe=GEe,JEe=Object.prototype,ZEe=JEe.hasOwnProperty;function eNe(t){if(!QEe(t))return XEe(t);var e=[];for(var n in Object(t))ZEe.call(t,n)&&n!="constructor"&&e.push(n);return e}var tNe=eNe,nNe=C2,rNe=U2;function iNe(t){return t!=null&&rNe(t.length)&&!nNe(t)}var Mg=iNe,sNe=VEe,aNe=tNe,oNe=Mg;function lNe(t){return oNe(t)?sNe(t):aNe(t)}var k1=lNe,cNe=Cje,uNe=Dje,dNe=k1;function fNe(t){return cNe(t,dNe,uNe)}var hNe=fNe,A$=hNe,pNe=1,mNe=Object.prototype,gNe=mNe.hasOwnProperty;function yNe(t,e,n,r,i,s){var a=n&pNe,o=A$(t),l=o.length,c=A$(e),d=c.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=o[f];if(!(a?h in e:gNe.call(e,h)))return!1}var p=s.get(t),g=s.get(e);if(p&&g)return p==e&&g==t;var m=!0;s.set(t,e),s.set(e,t);for(var y=a;++f<l;){h=o[f];var v=t[h],x=e[h];if(r)var b=a?r(x,v,h,e,t,s):r(v,x,h,t,e,s);if(!(b===void 0?v===x||i(v,x,n,r,s):b)){m=!1;break}y||(y=h=="constructor")}if(m&&!y){var k=t.constructor,w=e.constructor;k!=w&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof w=="function"&&w instanceof w)&&(m=!1)}return s.delete(t),s.delete(e),m}var vNe=yNe,xNe=ru,bNe=Qs,wNe=xNe(bNe,"DataView"),SNe=wNe,kNe=ru,CNe=Qs,_Ne=kNe(CNe,"Promise"),jNe=_Ne,ENe=ru,NNe=Qs,TNe=ENe(NNe,"Set"),Q9=TNe,ONe=ru,PNe=Qs,ANe=ONe(PNe,"WeakMap"),MNe=ANe,sE=SNe,aE=j2,oE=jNe,lE=Q9,cE=MNe,X9=Wa,nh=r9,M$="[object Map]",DNe="[object Object]",D$="[object Promise]",R$="[object Set]",I$="[object WeakMap]",$$="[object DataView]",RNe=nh(sE),INe=nh(aE),$Ne=nh(oE),LNe=nh(lE),BNe=nh(cE),ql=X9;(sE&&ql(new sE(new ArrayBuffer(1)))!=$$||aE&&ql(new aE)!=M$||oE&&ql(oE.resolve())!=D$||lE&&ql(new lE)!=R$||cE&&ql(new cE)!=I$)&&(ql=function(t){var e=X9(t),n=e==DNe?t.constructor:void 0,r=n?nh(n):"";if(r)switch(r){case RNe:return $$;case INe:return M$;case $Ne:return D$;case LNe:return R$;case BNe:return I$}return e});var FNe=ql,Lk=B9,zNe=U9,VNe=xje,UNe=vNe,L$=FNe,B$=Tr,F$=q9,WNe=Y9,HNe=1,z$="[object Arguments]",V$="[object Array]",Gy="[object Object]",qNe=Object.prototype,U$=qNe.hasOwnProperty;function KNe(t,e,n,r,i,s){var a=B$(t),o=B$(e),l=a?V$:L$(t),c=o?V$:L$(e);l=l==z$?Gy:l,c=c==z$?Gy:c;var d=l==Gy,f=c==Gy,h=l==c;if(h&&F$(t)){if(!F$(e))return!1;a=!0,d=!1}if(h&&!d)return s||(s=new Lk),a||WNe(t)?zNe(t,e,n,r,i,s):VNe(t,e,l,n,r,i,s);if(!(n&HNe)){var p=d&&U$.call(t,"__wrapped__"),g=f&&U$.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,y=g?e.value():e;return s||(s=new Lk),i(m,y,n,r,s)}}return h?(s||(s=new Lk),UNe(t,e,n,r,i,s)):!1}var YNe=KNe,GNe=YNe,W$=Ha;function J9(t,e,n,r,i){return t===e?!0:t==null||e==null||!W$(t)&&!W$(e)?t!==t&&e!==e:GNe(t,e,n,r,J9,i)}var W2=J9,QNe=B9,XNe=W2,JNe=1,ZNe=2;function eTe(t,e,n,r){var i=n.length,s=i,a=!r;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var l=o[0],c=t[l],d=o[1];if(a&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new QNe;if(r)var h=r(c,d,l,t,e,f);if(!(h===void 0?XNe(d,c,JNe|ZNe,r,f):h))return!1}}return!0}var tTe=eTe,nTe=wl;function rTe(t){return t===t&&!nTe(t)}var Z9=rTe,iTe=Z9,sTe=k1;function aTe(t){for(var e=sTe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,iTe(i)]}return e}var oTe=aTe;function lTe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var eq=lTe,cTe=tTe,uTe=oTe,dTe=eq;function fTe(t){var e=uTe(t);return e.length==1&&e[0][2]?dTe(e[0][0],e[0][1]):function(n){return n===t||cTe(n,t,e)}}var hTe=fTe;function pTe(t,e){return t!=null&&e in Object(t)}var mTe=pTe,gTe=l9,yTe=z2,vTe=Tr,xTe=V2,bTe=U2,wTe=l1;function STe(t,e,n){e=gTe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=wTe(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&bTe(i)&&xTe(a,i)&&(vTe(t)||yTe(t)))}var kTe=STe,CTe=mTe,_Te=kTe;function jTe(t,e){return t!=null&&_Te(t,e,CTe)}var ETe=jTe,NTe=W2,TTe=c9,OTe=ETe,PTe=k2,ATe=Z9,MTe=eq,DTe=l1,RTe=1,ITe=2;function $Te(t,e){return PTe(t)&&ATe(e)?MTe(DTe(t),e):function(n){var r=TTe(n,t);return r===void 0&&r===e?OTe(n,t):NTe(e,r,RTe|ITe)}}var LTe=$Te;function BTe(t){return t}var rh=BTe;function FTe(t){return function(e){return e==null?void 0:e[t]}}var zTe=FTe,VTe=O2;function UTe(t){return function(e){return VTe(e,t)}}var WTe=UTe,HTe=zTe,qTe=WTe,KTe=k2,YTe=l1;function GTe(t){return KTe(t)?HTe(YTe(t)):qTe(t)}var QTe=GTe,XTe=hTe,JTe=LTe,ZTe=rh,eOe=Tr,tOe=QTe;function nOe(t){return typeof t=="function"?t:t==null?ZTe:typeof t=="object"?eOe(t)?JTe(t[0],t[1]):XTe(t):tOe(t)}var Sl=nOe;function rOe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var tq=rOe;function iOe(t){return t!==t}var sOe=iOe;function aOe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var oOe=aOe,lOe=tq,cOe=sOe,uOe=oOe;function dOe(t,e,n){return e===e?uOe(t,e,n):lOe(t,cOe,n)}var fOe=dOe,hOe=fOe;function pOe(t,e){var n=t==null?0:t.length;return!!n&&hOe(t,e,0)>-1}var mOe=pOe;function gOe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var yOe=gOe;function vOe(){}var xOe=vOe,Bk=Q9,bOe=xOe,wOe=F2,SOe=1/0,kOe=Bk&&1/wOe(new Bk([,-0]))[1]==SOe?function(t){return new Bk(t)}:bOe,COe=kOe,_Oe=F9,jOe=mOe,EOe=yOe,NOe=V9,TOe=COe,OOe=F2,POe=200;function AOe(t,e,n){var r=-1,i=jOe,s=t.length,a=!0,o=[],l=o;if(n)a=!1,i=EOe;else if(s>=POe){var c=e?null:TOe(t);if(c)return OOe(c);a=!1,i=NOe,l=new _Oe}else l=e?[]:o;e:for(;++r<s;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(d)}else i(l,f,n)||(l!==o&&l.push(f),o.push(d))}return o}var MOe=AOe,DOe=Sl,ROe=MOe;function IOe(t,e){return t&&t.length?ROe(t,DOe(e)):[]}var $Oe=IOe;const H$=tt($Oe);function nq(t,e,n){return e===!0?H$(t,n):Me(e)?H$(t,e):t}function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}var LOe=["ref"];function q$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q$(Object(n),!0).forEach(function(r){C1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iq(r.key),r)}}function FOe(t,e,n){return e&&K$(t.prototype,e),n&&K$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zOe(t,e,n){return e=Cx(e),VOe(t,rq()?Reflect.construct(e,n||[],Cx(t).constructor):e.apply(t,n))}function VOe(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UOe(t)}function UOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rq=function(){return!!t})()}function Cx(t){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cx(t)}function WOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uE(t,e)}function uE(t,e){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uE(t,e)}function C1(t,e,n){return e=iq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iq(t){var e=HOe(t,"string");return nf(e)=="symbol"?e:e+""}function HOe(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qOe(t,e){if(t==null)return{};var n=KOe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YOe(t){return t.value}function GOe(t,e){if(T.isValidElement(t))return T.cloneElement(t,e);if(typeof t=="function")return T.createElement(t,e);e.ref;var n=qOe(e,LOe);return T.createElement(B2,n)}var Y$=1,Sd=function(t){function e(){var n;BOe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=zOe(this,e,[].concat(i)),C1(n,"lastBoundingBox",{width:-1,height:-1}),n}return WOe(e,t),FOe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Y$||Math.abs(i.height-this.lastBoundingBox.height)>Y$)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ea({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ea(ea({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=ea(ea({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return T.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},GOe(s,ea(ea({},this.props),{},{payload:nq(d,c,YOe)})))}}],[{key:"getWithHeight",value:function(r,i){var s=ea(ea({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&ee(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(S.PureComponent);C1(Sd,"displayName","Legend");C1(Sd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var G$=Og,QOe=z2,XOe=Tr,Q$=G$?G$.isConcatSpreadable:void 0;function JOe(t){return XOe(t)||QOe(t)||!!(Q$&&t&&t[Q$])}var ZOe=JOe,e2e=W9,t2e=ZOe;function sq(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=t2e),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?sq(o,e-1,n,r,i):e2e(i,o):r||(i[i.length]=o)}return i}var aq=sq;function n2e(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),o=a.length;o--;){var l=a[t?o:++i];if(n(s[l],l,s)===!1)break}return e}}var r2e=n2e,i2e=r2e,s2e=i2e(),a2e=s2e,o2e=a2e,l2e=k1;function c2e(t,e){return t&&o2e(t,e,l2e)}var oq=c2e,u2e=Mg;function d2e(t,e){return function(n,r){if(n==null)return n;if(!u2e(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var f2e=d2e,h2e=oq,p2e=f2e,m2e=p2e(h2e),H2=m2e,g2e=H2,y2e=Mg;function v2e(t,e){var n=-1,r=y2e(t)?Array(t.length):[];return g2e(t,function(i,s,a){r[++n]=e(i,s,a)}),r}var lq=v2e;function x2e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var b2e=x2e,X$=Qf;function w2e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=X$(t),a=e!==void 0,o=e===null,l=e===e,c=X$(e);if(!o&&!c&&!s&&t>e||s&&a&&l&&!o&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||o&&n&&i||!a&&i||!l)return-1}return 0}var S2e=w2e,k2e=S2e;function C2e(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,a=i.length,o=n.length;++r<a;){var l=k2e(i[r],s[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var _2e=C2e,Fk=T2,j2e=O2,E2e=Sl,N2e=lq,T2e=b2e,O2e=K9,P2e=_2e,A2e=rh,M2e=Tr;function D2e(t,e,n){e.length?e=Fk(e,function(s){return M2e(s)?function(a){return j2e(a,s.length===1?s[0]:s)}:s}):e=[A2e];var r=-1;e=Fk(e,O2e(E2e));var i=N2e(t,function(s,a,o){var l=Fk(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return T2e(i,function(s,a){return P2e(s,a,n)})}var R2e=D2e;function I2e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var $2e=I2e,L2e=$2e,J$=Math.max;function B2e(t,e,n){return e=J$(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=J$(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(a),L2e(t,this,o)}}var F2e=B2e;function z2e(t){return function(){return t}}var V2e=z2e,U2e=ru,W2e=function(){try{var t=U2e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),cq=W2e,H2e=V2e,Z$=cq,q2e=rh,K2e=Z$?function(t,e){return Z$(t,"toString",{configurable:!0,enumerable:!1,value:H2e(e),writable:!0})}:q2e,Y2e=K2e,G2e=800,Q2e=16,X2e=Date.now;function J2e(t){var e=0,n=0;return function(){var r=X2e(),i=Q2e-(r-n);if(n=r,i>0){if(++e>=G2e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Z2e=J2e,ePe=Y2e,tPe=Z2e,nPe=tPe(ePe),rPe=nPe,iPe=rh,sPe=F2e,aPe=rPe;function oPe(t,e){return aPe(sPe(t,e,iPe),t+"")}var lPe=oPe,cPe=_2,uPe=Mg,dPe=V2,fPe=wl;function hPe(t,e,n){if(!fPe(n))return!1;var r=typeof e;return(r=="number"?uPe(n)&&dPe(e,n.length):r=="string"&&e in n)?cPe(n[e],t):!1}var _1=hPe,pPe=aq,mPe=R2e,gPe=lPe,eL=_1,yPe=gPe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&eL(t,e[0],e[1])?e=[]:n>2&&eL(e[0],e[1],e[2])&&(e=[e[0]]),mPe(t,pPe(e,1),[])}),vPe=yPe;const q2=tt(vPe);function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function dE(){return dE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dE.apply(this,arguments)}function xPe(t,e){return kPe(t)||SPe(t,e)||wPe(t,e)||bPe()}function bPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wPe(t,e){if(t){if(typeof t=="string")return tL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tL(t,e)}}function tL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function kPe(t){if(Array.isArray(t))return t}function nL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(n),!0).forEach(function(r){CPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CPe(t,e,n){return e=_Pe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Pe(t){var e=jPe(t,"string");return wm(e)=="symbol"?e:e+""}function jPe(t,e){if(wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EPe(t){return Array.isArray(t)&&un(t[0])&&un(t[1])?t.join(" ~ "):t}var NPe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,m=e.label,y=e.labelFormatter,v=e.accessibilityLayer,x=v===void 0?!1:v,b=function(){if(d&&d.length){var O={padding:0,margin:0},D=(h?q2(d,h):d).map(function(A,M){if(A.type==="none")return null;var $=zk({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},o),I=A.formatter||f||EPe,R=A.value,L=A.name,B=R,W=L;if(I&&B!=null&&W!=null){var z=I(R,L,A,M,d);if(Array.isArray(z)){var K=xPe(z,2);B=K[0],W=K[1]}else B=z}return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:$},un(W)?T.createElement("span",{className:"recharts-tooltip-item-name"},W):null,un(W)?T.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,T.createElement("span",{className:"recharts-tooltip-item-value"},B),T.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:O},D)}return null},k=zk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),w=zk({margin:0},c),C=!Re(m),_=C?m:"",j=me("recharts-default-tooltip",p),N=me("recharts-tooltip-label",g);C&&y&&d!==void 0&&d!==null&&(_=y(m,d));var E=x?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",dE({className:j,style:k},E),T.createElement("p",{className:N,style:w},T.isValidElement(_)?_:"".concat(_)),b())};function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function Qy(t,e,n){return e=TPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TPe(t){var e=OPe(t,"string");return Sm(e)=="symbol"?e:e+""}function OPe(t,e){if(Sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ph="recharts-tooltip-wrapper",PPe={visibility:"hidden"};function APe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return me(Ph,Qy(Qy(Qy(Qy({},"".concat(Ph,"-right"),ee(n)&&e&&ee(e.x)&&n>=e.x),"".concat(Ph,"-left"),ee(n)&&e&&ee(e.x)&&n<e.x),"".concat(Ph,"-bottom"),ee(r)&&e&&ee(e.y)&&r>=e.y),"".concat(Ph,"-top"),ee(r)&&e&&ee(e.y)&&r<e.y))}function rL(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&ee(s[r]))return s[r];var d=n[r]-o-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var h=d,p=l[r];return h<p?Math.max(f,l[r]):Math.max(d,l[r])}var g=f+o,m=l[r]+c;return g>m?Math.max(d,l[r]):Math.max(f,l[r])}function MPe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function DPe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,d,f;return a.height>0&&a.width>0&&n?(d=rL({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=rL({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=MPe({translateX:d,translateY:f,useTranslate3d:o})):c=PPe,{cssProperties:c,cssClasses:APe({translateX:d,translateY:f,coordinate:n})}}function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function iL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(n),!0).forEach(function(r){hE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dq(r.key),r)}}function $Pe(t,e,n){return e&&IPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LPe(t,e,n){return e=_x(e),BPe(t,uq()?Reflect.construct(e,n||[],_x(t).constructor):e.apply(t,n))}function BPe(t,e){if(e&&(rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FPe(t)}function FPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uq=function(){return!!t})()}function _x(t){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_x(t)}function zPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fE(t,e)}function fE(t,e){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fE(t,e)}function hE(t,e,n){return e=dq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dq(t){var e=VPe(t,"string");return rf(e)=="symbol"?e:e+""}function VPe(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aL=1,UPe=function(t){function e(){var n;RPe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=LPe(this,e,[].concat(i)),hE(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),hE(n,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return zPe(e,t),$Pe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>aL||Math.abs(r.height-this.state.lastBoundingBox.height)>aL)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,m=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,x=i.wrapperStyle,b=DPe({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),k=b.cssClasses,w=b.cssProperties,C=sL(sL({transition:h&&s?"transform ".concat(o,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return T.createElement("div",{tabIndex:-1,className:k,style:C,ref:function(j){r.wrapperNode=j}},c)}}])}(S.PureComponent),WPe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ih={isSsr:WPe()};function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function oL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(n),!0).forEach(function(r){K2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hq(r.key),r)}}function KPe(t,e,n){return e&&qPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YPe(t,e,n){return e=jx(e),GPe(t,fq()?Reflect.construct(e,n||[],jx(t).constructor):e.apply(t,n))}function GPe(t,e){if(e&&(sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QPe(t)}function QPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fq=function(){return!!t})()}function jx(t){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jx(t)}function XPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pE(t,e)}function pE(t,e){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pE(t,e)}function K2(t,e,n){return e=hq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hq(t){var e=JPe(t,"string");return sf(e)=="symbol"?e:e+""}function JPe(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ZPe(t){return t.dataKey}function eAe(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(NPe,e)}var Gi=function(t){function e(){return HPe(this,e),YPe(this,e,arguments)}return XPe(e,t),KPe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,m=i.payloadUniqBy,y=i.position,v=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,k=i.wrapperStyle,w=g??[];f&&w.length&&(w=nq(g.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),m,ZPe));var C=w.length>0;return T.createElement(UPe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:s,coordinate:d,hasPayload:C,offset:p,position:y,reverseDirection:v,useTranslate3d:x,viewBox:b,wrapperStyle:k},eAe(c,lL(lL({},this.props),{},{payload:w})))}}])}(S.PureComponent);K2(Gi,"displayName","Tooltip");K2(Gi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ih.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var tAe=Qs,nAe=function(){return tAe.Date.now()},rAe=nAe,iAe=/\s/;function sAe(t){for(var e=t.length;e--&&iAe.test(t.charAt(e)););return e}var aAe=sAe,oAe=aAe,lAe=/^\s+/;function cAe(t){return t&&t.slice(0,oAe(t)+1).replace(lAe,"")}var uAe=cAe,dAe=uAe,cL=wl,fAe=Qf,uL=NaN,hAe=/^[-+]0x[0-9a-f]+$/i,pAe=/^0b[01]+$/i,mAe=/^0o[0-7]+$/i,gAe=parseInt;function yAe(t){if(typeof t=="number")return t;if(fAe(t))return uL;if(cL(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=cL(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=dAe(t);var n=pAe.test(t);return n||mAe.test(t)?gAe(t.slice(2),n?2:8):hAe.test(t)?uL:+t}var pq=yAe,vAe=wl,Vk=rAe,dL=pq,xAe="Expected a function",bAe=Math.max,wAe=Math.min;function SAe(t,e,n){var r,i,s,a,o,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(xAe);e=dL(e)||0,vAe(n)&&(d=!!n.leading,f="maxWait"in n,s=f?bAe(dL(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function p(C){var _=r,j=i;return r=i=void 0,c=C,a=t.apply(j,_),a}function g(C){return c=C,o=setTimeout(v,e),d?p(C):a}function m(C){var _=C-l,j=C-c,N=e-_;return f?wAe(N,s-j):N}function y(C){var _=C-l,j=C-c;return l===void 0||_>=e||_<0||f&&j>=s}function v(){var C=Vk();if(y(C))return x(C);o=setTimeout(v,m(C))}function x(C){return o=void 0,h&&r?p(C):(r=i=void 0,a)}function b(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function k(){return o===void 0?a:x(Vk())}function w(){var C=Vk(),_=y(C);if(r=arguments,i=this,l=C,_){if(o===void 0)return g(l);if(f)return clearTimeout(o),o=setTimeout(v,e),p(l)}return o===void 0&&(o=setTimeout(v,e)),a}return w.cancel=b,w.flush=k,w}var kAe=SAe,CAe=kAe,_Ae=wl,jAe="Expected a function";function EAe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(jAe);return _Ae(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),CAe(t,e,{leading:r,maxWait:e,trailing:i})}var NAe=EAe;const mq=tt(NAe);function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function fL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(n),!0).forEach(function(r){TAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TAe(t,e,n){return e=OAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OAe(t){var e=PAe(t,"string");return km(e)=="symbol"?e:e+""}function PAe(t,e){if(km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AAe(t,e){return IAe(t)||RAe(t,e)||DAe(t,e)||MAe()}function MAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DAe(t,e){if(t){if(typeof t=="string")return hL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hL(t,e)}}function hL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function IAe(t){if(Array.isArray(t))return t}var gq=S.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,m=g===void 0?0:g,y=t.id,v=t.className,x=t.onResize,b=t.style,k=b===void 0?{}:b,w=S.useRef(null),C=S.useRef();C.current=x,S.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var _=S.useState({containerWidth:i.width,containerHeight:i.height}),j=AAe(_,2),N=j[0],E=j[1],P=S.useCallback(function(D,A){E(function(M){var $=Math.round(D),I=Math.round(A);return M.containerWidth===$&&M.containerHeight===I?M:{containerWidth:$,containerHeight:I}})},[]);S.useEffect(function(){var D=function(L){var B,W=L[0].contentRect,z=W.width,K=W.height;P(z,K),(B=C.current)===null||B===void 0||B.call(C,z,K)};m>0&&(D=mq(D,m,{trailing:!0,leading:!1}));var A=new ResizeObserver(D),M=w.current.getBoundingClientRect(),$=M.width,I=M.height;return P($,I),A.observe(w.current),function(){A.disconnect()}},[P,m]);var O=S.useMemo(function(){var D=N.containerWidth,A=N.containerHeight;if(D<0||A<0)return null;ka(ic(a)||ic(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),ka(!n||n>0,"The aspect(%s) must be greater than zero.",n);var M=ic(a)?D:a,$=ic(l)?A:l;n&&n>0&&(M?$=M/n:$&&(M=$*n),h&&$>h&&($=h)),ka(M>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,$,a,l,d,f,n);var I=!Array.isArray(p)&&Sa(p.type).endsWith("Chart");return T.Children.map(p,function(R){return T.isValidElement(R)?S.cloneElement(R,Xy({width:M,height:$},I?{style:Xy({height:"100%",width:"100%",maxHeight:$,maxWidth:M},R.props.style)}:{})):R})},[n,p,l,h,f,d,N,a]);return T.createElement("div",{id:y?"".concat(y):void 0,className:me("recharts-responsive-container",v),style:Xy(Xy({},k),{},{width:a,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:w},O)}),yq=function(e){return null};yq.displayName="Cell";function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function pL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(n),!0).forEach(function(r){$Ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Ae(t,e,n){return e=LAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LAe(t){var e=BAe(t,"string");return Cm(e)=="symbol"?e:e+""}function BAe(t,e){if(Cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _u={widthCache:{},cacheCount:0},FAe=2e3,zAe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mL="recharts_measurement_span";function VAe(t){var e=mE({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var xp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ih.isSsr)return{width:0,height:0};var r=VAe(n),i=JSON.stringify({text:e,copyStyle:r});if(_u.widthCache[i])return _u.widthCache[i];try{var s=document.getElementById(mL);s||(s=document.createElement("span"),s.setAttribute("id",mL),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=mE(mE({},zAe),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return _u.widthCache[i]=l,++_u.cacheCount>FAe&&(_u.cacheCount=0,_u.widthCache={}),l}catch{return{width:0,height:0}}},UAe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function Ex(t,e){return KAe(t)||qAe(t,e)||HAe(t,e)||WAe()}function WAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HAe(t,e){if(t){if(typeof t=="string")return gL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gL(t,e)}}function gL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function KAe(t){if(Array.isArray(t))return t}function YAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QAe(r.key),r)}}function GAe(t,e,n){return e&&yL(t.prototype,e),n&&yL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QAe(t){var e=XAe(t,"string");return _m(e)=="symbol"?e:e+""}function XAe(t,e){if(_m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JAe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ZAe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},eMe=Object.keys(vq),rd="NaN";function tMe(t,e){return t*vq[e]}var Jy=function(){function t(e,n){YAe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!JAe.test(n)&&(this.num=NaN,this.unit=""),eMe.includes(n)&&(this.num=tMe(e,n),this.unit="px")}return GAe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=ZAe.exec(n))!==null&&r!==void 0?r:[],s=Ex(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])}();function xq(t){if(t.includes(rd))return rd;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=vL.exec(e))!==null&&n!==void 0?n:[],i=Ex(r,4),s=i[1],a=i[2],o=i[3],l=Jy.parse(s??""),c=Jy.parse(o??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return rd;e=e.replace(vL,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=xL.exec(e))!==null&&f!==void 0?f:[],p=Ex(h,4),g=p[1],m=p[2],y=p[3],v=Jy.parse(g??""),x=Jy.parse(y??""),b=m==="+"?v.add(x):v.subtract(x);if(b.isNaN())return rd;e=e.replace(xL,b.toString())}return e}var bL=/\(([^()]*)\)/;function nMe(t){for(var e=t;e.includes("(");){var n=bL.exec(e),r=Ex(n,2),i=r[1];e=e.replace(bL,xq(i))}return e}function rMe(t){var e=t.replace(/\s+/g,"");return e=nMe(e),e=xq(e),e}function iMe(t){try{return rMe(t)}catch{return rd}}function Uk(t){var e=iMe(t.slice(5,-1));return e===rd?"":e}var sMe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],aMe=["dx","dy","angle","className","breakAll"];function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gE.apply(this,arguments)}function wL(t,e){if(t==null)return{};var n=oMe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SL(t,e){return dMe(t)||uMe(t,e)||cMe(t,e)||lMe()}function lMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cMe(t,e){if(t){if(typeof t=="string")return kL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kL(t,e)}}function kL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function dMe(t){if(Array.isArray(t))return t}var bq=/[ \f\n\r\t\v\u2028\u2029]+/,wq=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Re(n)||(r?s=n.toString().split(""):s=n.toString().split(bq));var a=s.map(function(l){return{word:l,width:xp(l,i).width}}),o=r?0:xp("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},fMe=function(e,n,r,i,s){var a=e.maxLines,o=e.children,l=e.style,c=e.breakAll,d=ee(a),f=o,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function($,I){var R=I.word,L=I.width,B=$[$.length-1];if(B&&(i==null||s||B.width+L+r<Number(i)))B.words.push(R),B.width+=L+r;else{var W={words:[R],width:L};$.push(W)}return $},[])},p=h(n),g=function(M){return M.reduce(function($,I){return $.width>I.width?$:I})};if(!d)return p;for(var m="",y=function(M){var $=f.slice(0,M),I=wq({breakAll:c,style:l,children:$+m}).wordsWithComputedWidth,R=h(I),L=R.length>a||g(R).width>Number(i);return[L,R]},v=0,x=f.length-1,b=0,k;v<=x&&b<=f.length-1;){var w=Math.floor((v+x)/2),C=w-1,_=y(C),j=SL(_,2),N=j[0],E=j[1],P=y(w),O=SL(P,1),D=O[0];if(!N&&!D&&(v=w+1),N&&D&&(x=w-1),!N&&D){k=E;break}b++}return k||p},CL=function(e){var n=Re(e)?[]:e.toString().split(bq);return[{words:n}]},hMe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((n||r)&&!ih.isSsr){var l,c,d=wq({breakAll:a,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return CL(i);return fMe({breakAll:a,children:i,maxLines:o,style:s},l,c,n,r)}return CL(i)},_L="#808080",Nx=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,m=g===void 0?"end":g,y=e.fill,v=y===void 0?_L:y,x=wL(e,sMe),b=S.useMemo(function(){return hMe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),k=x.dx,w=x.dy,C=x.angle,_=x.className,j=x.breakAll,N=wL(x,aMe);if(!un(r)||!un(s))return null;var E=r+(ee(k)?k:0),P=s+(ee(w)?w:0),O;switch(m){case"start":O=Uk("calc(".concat(c,")"));break;case"middle":O=Uk("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:O=Uk("calc(".concat(b.length-1," * -").concat(o,")"));break}var D=[];if(f){var A=b[0].width,M=x.width;D.push("scale(".concat((ee(M)?M/A:1)/A,")"))}return C&&D.push("rotate(".concat(C,", ").concat(E,", ").concat(P,")")),D.length&&(N.transform=D.join(" ")),T.createElement("text",gE({},Be(N,!0),{x:E,y:P,className:me("recharts-text",_),textAnchor:p,fill:v.includes("url")?_L:v}),b.map(function($,I){var R=$.words.join(j?"":" ");return T.createElement("tspan",{x:E,dy:I===0?O:o,key:"".concat(R,"-").concat(I)},R)}))};function Ko(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pMe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Y2(t){let e,n,r;t.length!==2?(e=Ko,n=(o,l)=>Ko(t(o),l),r=(o,l)=>t(o)-l):(e=t===Ko||t===pMe?t:mMe,n=t,r=t);function i(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:a,right:s}}function mMe(){return 0}function Sq(t){return t===null?NaN:+t}function*gMe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const yMe=Y2(Ko),Dg=yMe.right;Y2(Sq).center;class jL extends Map{constructor(e,n=bMe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(EL(this,e))}has(e){return super.has(EL(this,e))}set(e,n){return super.set(vMe(this,e),n)}delete(e){return super.delete(xMe(this,e))}}function EL({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function vMe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function xMe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function bMe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function wMe(t=Ko){if(t===Ko)return kq;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function kq(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const SMe=Math.sqrt(50),kMe=Math.sqrt(10),CMe=Math.sqrt(2);function Tx(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=SMe?10:s>=kMe?5:s>=CMe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?Tx(t,e,n*2):[o,l,c]}function yE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?Tx(e,t,n):Tx(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function vE(t,e,n){return e=+e,t=+t,n=+n,Tx(t,e,n)[2]}function xE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?vE(e,t,n):vE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function NL(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function TL(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Cq(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?kq:wMe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*f/l+h)),g=Math.min(r,Math.floor(e+(l-c)*f/l+h));Cq(t,e,p,g,i)}const s=t[e];let a=n,o=r;for(Ah(t,n,e),i(t[r],s)>0&&Ah(t,n,r);a<o;){for(Ah(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?Ah(t,n,o):(++o,Ah(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Ah(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function _Me(t,e,n){if(t=Float64Array.from(gMe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return TL(t);if(e>=1)return NL(t);var r,i=(r-1)*e,s=Math.floor(i),a=NL(Cq(t,s).subarray(0,s+1)),o=TL(t.subarray(s+1));return a+(o-a)*(i-s)}}function jMe(t,e,n=Sq){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function EMe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Oi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function qa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const bE=Symbol("implicit");function G2(){var t=new jL,e=[],n=[],r=bE;function i(s){let a=t.get(s);if(a===void 0){if(r!==bE)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new jL;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return G2(e,n).unknown(r)},Oi.apply(i,arguments),i}function jm(){var t=G2().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<r,g=p?i:r,m=p?r:i;s=(m-g)/Math.max(1,h-l+c*2),o&&(s=Math.floor(s)),g+=(m-g-s*(h-l))*d,a=s*(1-l),o&&(g=Math.round(g),a=Math.round(a));var y=EMe(h).map(function(v){return g+s*v});return n(p?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return jm(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Oi.apply(f(),arguments)}function _q(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return _q(e())},t}function bp(){return _q(jm.apply(null,arguments).paddingInner(1))}function Q2(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function jq(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Rg(){}var Em=.7,Ox=1/Em,kd="\\s*([+-]?\\d+)\\s*",Nm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NMe=/^#([0-9a-f]{3,8})$/,TMe=new RegExp(`^rgb\\(${kd},${kd},${kd}\\)$`),OMe=new RegExp(`^rgb\\(${Fs},${Fs},${Fs}\\)$`),PMe=new RegExp(`^rgba\\(${kd},${kd},${kd},${Nm}\\)$`),AMe=new RegExp(`^rgba\\(${Fs},${Fs},${Fs},${Nm}\\)$`),MMe=new RegExp(`^hsl\\(${Nm},${Fs},${Fs}\\)$`),DMe=new RegExp(`^hsla\\(${Nm},${Fs},${Fs},${Nm}\\)$`),OL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Q2(Rg,Tm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:PL,formatHex:PL,formatHex8:RMe,formatHsl:IMe,formatRgb:AL,toString:AL});function PL(){return this.rgb().formatHex()}function RMe(){return this.rgb().formatHex8()}function IMe(){return Eq(this).formatHsl()}function AL(){return this.rgb().formatRgb()}function Tm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=NMe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ML(e):n===3?new Cr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=TMe.exec(t))?new Cr(e[1],e[2],e[3],1):(e=OMe.exec(t))?new Cr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=PMe.exec(t))?Zy(e[1],e[2],e[3],e[4]):(e=AMe.exec(t))?Zy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=MMe.exec(t))?IL(e[1],e[2]/100,e[3]/100,1):(e=DMe.exec(t))?IL(e[1],e[2]/100,e[3]/100,e[4]):OL.hasOwnProperty(t)?ML(OL[t]):t==="transparent"?new Cr(NaN,NaN,NaN,0):null}function ML(t){return new Cr(t>>16&255,t>>8&255,t&255,1)}function Zy(t,e,n,r){return r<=0&&(t=e=n=NaN),new Cr(t,e,n,r)}function $Me(t){return t instanceof Rg||(t=Tm(t)),t?(t=t.rgb(),new Cr(t.r,t.g,t.b,t.opacity)):new Cr}function wE(t,e,n,r){return arguments.length===1?$Me(t):new Cr(t,e,n,r??1)}function Cr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Q2(Cr,wE,jq(Rg,{brighter(t){return t=t==null?Ox:Math.pow(Ox,t),new Cr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Em:Math.pow(Em,t),new Cr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Cr(Cc(this.r),Cc(this.g),Cc(this.b),Px(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DL,formatHex:DL,formatHex8:LMe,formatRgb:RL,toString:RL}));function DL(){return`#${sc(this.r)}${sc(this.g)}${sc(this.b)}`}function LMe(){return`#${sc(this.r)}${sc(this.g)}${sc(this.b)}${sc((isNaN(this.opacity)?1:this.opacity)*255)}`}function RL(){const t=Px(this.opacity);return`${t===1?"rgb(":"rgba("}${Cc(this.r)}, ${Cc(this.g)}, ${Cc(this.b)}${t===1?")":`, ${t})`}`}function Px(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Cc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function sc(t){return t=Cc(t),(t<16?"0":"")+t.toString(16)}function IL(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new es(t,e,n,r)}function Eq(t){if(t instanceof es)return new es(t.h,t.s,t.l,t.opacity);if(t instanceof Rg||(t=Tm(t)),!t)return new es;if(t instanceof es)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new es(a,o,l,t.opacity)}function BMe(t,e,n,r){return arguments.length===1?Eq(t):new es(t,e,n,r??1)}function es(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Q2(es,BMe,jq(Rg,{brighter(t){return t=t==null?Ox:Math.pow(Ox,t),new es(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Em:Math.pow(Em,t),new es(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Cr(Wk(t>=240?t-240:t+120,i,r),Wk(t,i,r),Wk(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new es($L(this.h),ev(this.s),ev(this.l),Px(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Px(this.opacity);return`${t===1?"hsl(":"hsla("}${$L(this.h)}, ${ev(this.s)*100}%, ${ev(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $L(t){return t=(t||0)%360,t<0?t+360:t}function ev(t){return Math.max(0,Math.min(1,t||0))}function Wk(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const X2=t=>()=>t;function FMe(t,e){return function(n){return t+n*e}}function zMe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function VMe(t){return(t=+t)==1?Nq:function(e,n){return n-e?zMe(e,n,t):X2(isNaN(e)?n:e)}}function Nq(t,e){var n=e-t;return n?FMe(t,n):X2(isNaN(t)?e:t)}const LL=function t(e){var n=VMe(e);function r(i,s){var a=n((i=wE(i)).r,(s=wE(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=Nq(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function UMe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function WMe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function HMe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=sh(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function qMe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ax(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function KMe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=sh(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var SE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hk=new RegExp(SE.source,"g");function YMe(t){return function(){return t}}function GMe(t){return function(e){return t(e)+""}}function QMe(t,e){var n=SE.lastIndex=Hk.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=SE.exec(t))&&(i=Hk.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Ax(r,i)})),n=Hk.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?GMe(l[0].x):YMe(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function sh(t,e){var n=typeof e,r;return e==null||n==="boolean"?X2(e):(n==="number"?Ax:n==="string"?(r=Tm(e))?(e=r,LL):QMe:e instanceof Tm?LL:e instanceof Date?qMe:WMe(e)?UMe:Array.isArray(e)?HMe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?KMe:Ax)(t,e)}function J2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function XMe(t,e){e===void 0&&(e=t,t=sh);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function JMe(t){return function(){return t}}function Mx(t){return+t}var BL=[0,1];function ar(t){return t}function kE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:JMe(isNaN(e)?NaN:.5)}function ZMe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function eDe(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=kE(i,r),s=n(a,s)):(r=kE(r,i),s=n(s,a)),function(o){return s(r(o))}}function tDe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=kE(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=Dg(t,o,1,r)-1;return s[l](i[l](o))}}function Ig(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function j1(){var t=BL,e=BL,n=sh,r,i,s,a=ar,o,l,c;function d(){var h=Math.min(t.length,e.length);return a!==ar&&(a=ZMe(t[0],t[h-1])),o=h>2?tDe:eDe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=o(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((c||(c=o(e,t.map(r),Ax)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Mx),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=J2,d()},f.clamp=function(h){return arguments.length?(a=h?!0:ar,d()):a!==ar},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return r=h,i=p,d()}}function Z2(){return j1()(ar,ar)}function nDe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Dx(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function af(t){return t=Dx(Math.abs(t)),t?t[1]:NaN}function rDe(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function iDe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var sDe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Om(t){if(!(e=sDe.exec(t)))throw new Error("invalid format: "+t);var e;return new eP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Om.prototype=eP.prototype;function eP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}eP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aDe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Tq;function oDe(t,e){var n=Dx(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Tq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Dx(t,Math.max(0,e+s-1))[0]}function FL(t,e){var n=Dx(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const zL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:nDe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>FL(t*100,e),r:FL,s:oDe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function VL(t){return t}var UL=Array.prototype.map,WL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function lDe(t){var e=t.grouping===void 0||t.thousands===void 0?VL:rDe(UL.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?VL:iDe(UL.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Om(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,y=f.zero,v=f.width,x=f.comma,b=f.precision,k=f.trim,w=f.type;w==="n"?(x=!0,w="g"):zL[w]||(b===void 0&&(b=12),k=!0,w="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var C=m==="$"?n:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",_=m==="$"?r:/[%p]/.test(w)?a:"",j=zL[w],N=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function E(P){var O=C,D=_,A,M,$;if(w==="c")D=j(P)+D,P="";else{P=+P;var I=P<0||1/P<0;if(P=isNaN(P)?l:j(Math.abs(P),b),k&&(P=aDe(P)),I&&+P==0&&g!=="+"&&(I=!1),O=(I?g==="("?g:o:g==="-"||g==="("?"":g)+O,D=(w==="s"?WL[8+Tq/3]:"")+D+(I&&g==="("?")":""),N){for(A=-1,M=P.length;++A<M;)if($=P.charCodeAt(A),48>$||$>57){D=($===46?i+P.slice(A+1):P.slice(A))+D,P=P.slice(0,A);break}}}x&&!y&&(P=e(P,1/0));var R=O.length+P.length+D.length,L=R<v?new Array(v-R+1).join(h):"";switch(x&&y&&(P=e(L+P,L.length?v-D.length:1/0),L=""),p){case"<":P=O+P+D+L;break;case"=":P=O+L+P+D;break;case"^":P=L.slice(0,R=L.length>>1)+O+P+D+L.slice(R);break;default:P=L+O+P+D;break}return s(P)}return E.toString=function(){return f+""},E}function d(f,h){var p=c((f=Om(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(af(h)/3)))*3,m=Math.pow(10,-g),y=WL[8+g/3];return function(v){return p(m*v)+y}}return{format:c,formatPrefix:d}}var tv,tP,Oq;cDe({thousands:",",grouping:[3],currency:["$",""]});function cDe(t){return tv=lDe(t),tP=tv.format,Oq=tv.formatPrefix,tv}function uDe(t){return Math.max(0,-af(Math.abs(t)))}function dDe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(af(e)/3)))*3-af(Math.abs(t)))}function fDe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,af(e)-af(t))+1}function Pq(t,e,n,r){var i=xE(t,e,n),s;switch(r=Om(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=dDe(i,a))&&(r.precision=s),Oq(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=fDe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=uDe(i))&&(r.precision=s-(r.type==="%")*2);break}}return tP(r)}function kl(t){var e=t.domain;return t.ticks=function(n){var r=e();return yE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Pq(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,d=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);d-- >0;){if(c=vE(a,o,n),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function Rx(){var t=Z2();return t.copy=function(){return Ig(t,Rx())},Oi.apply(t,arguments),kl(t)}function Aq(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Mx),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Aq(t).unknown(e)},t=arguments.length?Array.from(t,Mx):[0,1],kl(n)}function Mq(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function HL(t){return Math.log(t)}function qL(t){return Math.exp(t)}function hDe(t){return-Math.log(-t)}function pDe(t){return-Math.exp(-t)}function mDe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function gDe(t){return t===10?mDe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function yDe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function KL(t){return(e,n)=>-t(-e,n)}function nP(t){const e=t(HL,qL),n=e.domain;let r=10,i,s;function a(){return i=yDe(r),s=gDe(r),n()[0]<0?(i=KL(i),s=KL(s),t(hDe,pDe)):t(HL,qL),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),p=i(d),g,m;const y=o==null?10:+o;let v=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<r;++g)if(m=h<0?g/s(-h):g*s(h),!(m<c)){if(m>d)break;v.push(m)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(m=h>0?g/s(-h):g*s(h),!(m<c)){if(m>d)break;v.push(m)}v.length*2<y&&(v=yE(c,d,y))}else v=yE(h,p,Math.min(p-h,y)).map(s);return f?v.reverse():v},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Om(l)).precision==null&&(l.trim=!0),l=tP(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},e.nice=()=>n(Mq(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function Dq(){const t=nP(j1()).domain([1,10]);return t.copy=()=>Ig(t,Dq()).base(t.base()),Oi.apply(t,arguments),t}function YL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function GL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function rP(t){var e=1,n=t(YL(e),GL(e));return n.constant=function(r){return arguments.length?t(YL(e=+r),GL(e)):e},kl(n)}function Rq(){var t=rP(j1());return t.copy=function(){return Ig(t,Rq()).constant(t.constant())},Oi.apply(t,arguments)}function QL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function vDe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function xDe(t){return t<0?-t*t:t*t}function iP(t){var e=t(ar,ar),n=1;function r(){return n===1?t(ar,ar):n===.5?t(vDe,xDe):t(QL(n),QL(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},kl(e)}function sP(){var t=iP(j1());return t.copy=function(){return Ig(t,sP()).exponent(t.exponent())},Oi.apply(t,arguments),t}function bDe(){return sP.apply(null,arguments).exponent(.5)}function XL(t){return Math.sign(t)*t*t}function wDe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Iq(){var t=Z2(),e=[0,1],n=!1,r;function i(s){var a=wDe(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(XL(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Mx)).map(XL)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Iq(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Oi.apply(i,arguments),kl(i)}function $q(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=jMe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Dg(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Ko),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return $q().domain(t).range(e).unknown(r)},Oi.apply(s,arguments)}function Lq(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[Dg(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Lq().domain([t,e]).range(i).unknown(s)},Oi.apply(kl(a),arguments)}function Bq(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Dg(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Bq().domain(t).range(e).unknown(n)},Oi.apply(i,arguments)}const qk=new Date,Kk=new Date;function fn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>fn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(qk.setTime(+s),Kk.setTime(+a),t(qk),t(Kk),Math.floor(n(qk,Kk))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Ix=fn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ix.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?fn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ix);Ix.range;const ha=1e3,vi=ha*60,pa=vi*60,Ia=pa*24,aP=Ia*7,JL=Ia*30,Yk=Ia*365,ac=fn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ha)},(t,e)=>(e-t)/ha,t=>t.getUTCSeconds());ac.range;const oP=fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ha)},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getMinutes());oP.range;const lP=fn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getUTCMinutes());lP.range;const cP=fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ha-t.getMinutes()*vi)},(t,e)=>{t.setTime(+t+e*pa)},(t,e)=>(e-t)/pa,t=>t.getHours());cP.range;const uP=fn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*pa)},(t,e)=>(e-t)/pa,t=>t.getUTCHours());uP.range;const $g=fn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*vi)/Ia,t=>t.getDate()-1);$g.range;const E1=fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ia,t=>t.getUTCDate()-1);E1.range;const Fq=fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ia,t=>Math.floor(t/Ia));Fq.range;function iu(t){return fn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*vi)/aP)}const N1=iu(0),$x=iu(1),SDe=iu(2),kDe=iu(3),of=iu(4),CDe=iu(5),_De=iu(6);N1.range;$x.range;SDe.range;kDe.range;of.range;CDe.range;_De.range;function su(t){return fn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/aP)}const T1=su(0),Lx=su(1),jDe=su(2),EDe=su(3),lf=su(4),NDe=su(5),TDe=su(6);T1.range;Lx.range;jDe.range;EDe.range;lf.range;NDe.range;TDe.range;const dP=fn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());dP.range;const fP=fn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());fP.range;const $a=fn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$a.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});$a.range;const La=fn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());La.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});La.range;function zq(t,e,n,r,i,s){const a=[[ac,1,ha],[ac,5,5*ha],[ac,15,15*ha],[ac,30,30*ha],[s,1,vi],[s,5,5*vi],[s,15,15*vi],[s,30,30*vi],[i,1,pa],[i,3,3*pa],[i,6,6*pa],[i,12,12*pa],[r,1,Ia],[r,2,2*Ia],[n,1,aP],[e,1,JL],[e,3,3*JL],[t,1,Yk]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),g=p?p.range(c,+d+1):[];return h?g.reverse():g}function l(c,d,f){const h=Math.abs(d-c)/f,p=Y2(([,,y])=>y).right(a,h);if(p===a.length)return t.every(xE(c/Yk,d/Yk,f));if(p===0)return Ix.every(Math.max(xE(c,d,f),1));const[g,m]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return g.every(m)}return[o,l]}const[ODe,PDe]=zq(La,fP,T1,Fq,uP,lP),[ADe,MDe]=zq($a,dP,N1,$g,cP,oP);function Gk(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Qk(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Mh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function DDe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=Dh(i),d=Rh(i),f=Dh(s),h=Rh(s),p=Dh(a),g=Rh(a),m=Dh(o),y=Rh(o),v=Dh(l),x=Rh(l),b={a:I,A:R,b:L,B,c:null,d:i3,e:i3,f:rRe,g:hRe,G:mRe,H:eRe,I:tRe,j:nRe,L:Vq,m:iRe,M:sRe,p:W,q:z,Q:o3,s:l3,S:aRe,u:oRe,U:lRe,V:cRe,w:uRe,W:dRe,x:null,X:null,y:fRe,Y:pRe,Z:gRe,"%":a3},k={a:K,A:ie,b:J,B:ye,c:null,d:s3,e:s3,f:bRe,g:ORe,G:ARe,H:yRe,I:vRe,j:xRe,L:Wq,m:wRe,M:SRe,p:Z,q:_e,Q:o3,s:l3,S:kRe,u:CRe,U:_Re,V:jRe,w:ERe,W:NRe,x:null,X:null,y:TRe,Y:PRe,Z:MRe,"%":a3},w={a:E,A:P,b:O,B:D,c:A,d:n3,e:n3,f:QDe,g:t3,G:e3,H:r3,I:r3,j:qDe,L:GDe,m:HDe,M:KDe,p:N,q:WDe,Q:JDe,s:ZDe,S:YDe,u:BDe,U:FDe,V:zDe,w:LDe,W:VDe,x:M,X:$,y:t3,Y:e3,Z:UDe,"%":XDe};b.x=C(n,b),b.X=C(r,b),b.c=C(e,b),k.x=C(n,k),k.X=C(r,k),k.c=C(e,k);function C(Y,re){return function(ne){var F=[],Pe=-1,Se=0,ot=Y.length,rt,Dt,hr;for(ne instanceof Date||(ne=new Date(+ne));++Pe<ot;)Y.charCodeAt(Pe)===37&&(F.push(Y.slice(Se,Pe)),(Dt=ZL[rt=Y.charAt(++Pe)])!=null?rt=Y.charAt(++Pe):Dt=rt==="e"?" ":"0",(hr=re[rt])&&(rt=hr(ne,Dt)),F.push(rt),Se=Pe+1);return F.push(Y.slice(Se,Pe)),F.join("")}}function _(Y,re){return function(ne){var F=Mh(1900,void 0,1),Pe=j(F,Y,ne+="",0),Se,ot;if(Pe!=ne.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(re&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(Se=Qk(Mh(F.y,0,1)),ot=Se.getUTCDay(),Se=ot>4||ot===0?Lx.ceil(Se):Lx(Se),Se=E1.offset(Se,(F.V-1)*7),F.y=Se.getUTCFullYear(),F.m=Se.getUTCMonth(),F.d=Se.getUTCDate()+(F.w+6)%7):(Se=Gk(Mh(F.y,0,1)),ot=Se.getDay(),Se=ot>4||ot===0?$x.ceil(Se):$x(Se),Se=$g.offset(Se,(F.V-1)*7),F.y=Se.getFullYear(),F.m=Se.getMonth(),F.d=Se.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),ot="Z"in F?Qk(Mh(F.y,0,1)).getUTCDay():Gk(Mh(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(ot+5)%7:F.w+F.U*7-(ot+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,Qk(F)):Gk(F)}}function j(Y,re,ne,F){for(var Pe=0,Se=re.length,ot=ne.length,rt,Dt;Pe<Se;){if(F>=ot)return-1;if(rt=re.charCodeAt(Pe++),rt===37){if(rt=re.charAt(Pe++),Dt=w[rt in ZL?re.charAt(Pe++):rt],!Dt||(F=Dt(Y,ne,F))<0)return-1}else if(rt!=ne.charCodeAt(F++))return-1}return F}function N(Y,re,ne){var F=c.exec(re.slice(ne));return F?(Y.p=d.get(F[0].toLowerCase()),ne+F[0].length):-1}function E(Y,re,ne){var F=p.exec(re.slice(ne));return F?(Y.w=g.get(F[0].toLowerCase()),ne+F[0].length):-1}function P(Y,re,ne){var F=f.exec(re.slice(ne));return F?(Y.w=h.get(F[0].toLowerCase()),ne+F[0].length):-1}function O(Y,re,ne){var F=v.exec(re.slice(ne));return F?(Y.m=x.get(F[0].toLowerCase()),ne+F[0].length):-1}function D(Y,re,ne){var F=m.exec(re.slice(ne));return F?(Y.m=y.get(F[0].toLowerCase()),ne+F[0].length):-1}function A(Y,re,ne){return j(Y,e,re,ne)}function M(Y,re,ne){return j(Y,n,re,ne)}function $(Y,re,ne){return j(Y,r,re,ne)}function I(Y){return a[Y.getDay()]}function R(Y){return s[Y.getDay()]}function L(Y){return l[Y.getMonth()]}function B(Y){return o[Y.getMonth()]}function W(Y){return i[+(Y.getHours()>=12)]}function z(Y){return 1+~~(Y.getMonth()/3)}function K(Y){return a[Y.getUTCDay()]}function ie(Y){return s[Y.getUTCDay()]}function J(Y){return l[Y.getUTCMonth()]}function ye(Y){return o[Y.getUTCMonth()]}function Z(Y){return i[+(Y.getUTCHours()>=12)]}function _e(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var re=C(Y+="",b);return re.toString=function(){return Y},re},parse:function(Y){var re=_(Y+="",!1);return re.toString=function(){return Y},re},utcFormat:function(Y){var re=C(Y+="",k);return re.toString=function(){return Y},re},utcParse:function(Y){var re=_(Y+="",!0);return re.toString=function(){return Y},re}}}var ZL={"-":"",_:" ",0:"0"},Sn=/^\s*\d+/,RDe=/^%/,IDe=/[\\^$*+?|[\]().{}]/g;function He(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function $De(t){return t.replace(IDe,"\\$&")}function Dh(t){return new RegExp("^(?:"+t.map($De).join("|")+")","i")}function Rh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function LDe(t,e,n){var r=Sn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function BDe(t,e,n){var r=Sn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function FDe(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function zDe(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function VDe(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function e3(t,e,n){var r=Sn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function t3(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function UDe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function WDe(t,e,n){var r=Sn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function HDe(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function n3(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function qDe(t,e,n){var r=Sn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function r3(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function KDe(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function YDe(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function GDe(t,e,n){var r=Sn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function QDe(t,e,n){var r=Sn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function XDe(t,e,n){var r=RDe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function JDe(t,e,n){var r=Sn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ZDe(t,e,n){var r=Sn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function i3(t,e){return He(t.getDate(),e,2)}function eRe(t,e){return He(t.getHours(),e,2)}function tRe(t,e){return He(t.getHours()%12||12,e,2)}function nRe(t,e){return He(1+$g.count($a(t),t),e,3)}function Vq(t,e){return He(t.getMilliseconds(),e,3)}function rRe(t,e){return Vq(t,e)+"000"}function iRe(t,e){return He(t.getMonth()+1,e,2)}function sRe(t,e){return He(t.getMinutes(),e,2)}function aRe(t,e){return He(t.getSeconds(),e,2)}function oRe(t){var e=t.getDay();return e===0?7:e}function lRe(t,e){return He(N1.count($a(t)-1,t),e,2)}function Uq(t){var e=t.getDay();return e>=4||e===0?of(t):of.ceil(t)}function cRe(t,e){return t=Uq(t),He(of.count($a(t),t)+($a(t).getDay()===4),e,2)}function uRe(t){return t.getDay()}function dRe(t,e){return He($x.count($a(t)-1,t),e,2)}function fRe(t,e){return He(t.getFullYear()%100,e,2)}function hRe(t,e){return t=Uq(t),He(t.getFullYear()%100,e,2)}function pRe(t,e){return He(t.getFullYear()%1e4,e,4)}function mRe(t,e){var n=t.getDay();return t=n>=4||n===0?of(t):of.ceil(t),He(t.getFullYear()%1e4,e,4)}function gRe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+He(e/60|0,"0",2)+He(e%60,"0",2)}function s3(t,e){return He(t.getUTCDate(),e,2)}function yRe(t,e){return He(t.getUTCHours(),e,2)}function vRe(t,e){return He(t.getUTCHours()%12||12,e,2)}function xRe(t,e){return He(1+E1.count(La(t),t),e,3)}function Wq(t,e){return He(t.getUTCMilliseconds(),e,3)}function bRe(t,e){return Wq(t,e)+"000"}function wRe(t,e){return He(t.getUTCMonth()+1,e,2)}function SRe(t,e){return He(t.getUTCMinutes(),e,2)}function kRe(t,e){return He(t.getUTCSeconds(),e,2)}function CRe(t){var e=t.getUTCDay();return e===0?7:e}function _Re(t,e){return He(T1.count(La(t)-1,t),e,2)}function Hq(t){var e=t.getUTCDay();return e>=4||e===0?lf(t):lf.ceil(t)}function jRe(t,e){return t=Hq(t),He(lf.count(La(t),t)+(La(t).getUTCDay()===4),e,2)}function ERe(t){return t.getUTCDay()}function NRe(t,e){return He(Lx.count(La(t)-1,t),e,2)}function TRe(t,e){return He(t.getUTCFullYear()%100,e,2)}function ORe(t,e){return t=Hq(t),He(t.getUTCFullYear()%100,e,2)}function PRe(t,e){return He(t.getUTCFullYear()%1e4,e,4)}function ARe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?lf(t):lf.ceil(t),He(t.getUTCFullYear()%1e4,e,4)}function MRe(){return"+0000"}function a3(){return"%"}function o3(t){return+t}function l3(t){return Math.floor(+t/1e3)}var ju,qq,Kq;DRe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function DRe(t){return ju=DDe(t),qq=ju.format,ju.parse,Kq=ju.utcFormat,ju.utcParse,ju}function RRe(t){return new Date(t)}function IRe(t){return t instanceof Date?+t:+new Date(+t)}function hP(t,e,n,r,i,s,a,o,l,c){var d=Z2(),f=d.invert,h=d.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),x=c("%b %d"),b=c("%B"),k=c("%Y");function w(C){return(l(C)<C?p:o(C)<C?g:a(C)<C?m:s(C)<C?y:r(C)<C?i(C)<C?v:x:n(C)<C?b:k)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?h(Array.from(C,IRe)):h().map(RRe)},d.ticks=function(C){var _=h();return t(_[0],_[_.length-1],C??10)},d.tickFormat=function(C,_){return _==null?w:c(_)},d.nice=function(C){var _=h();return(!C||typeof C.range!="function")&&(C=e(_[0],_[_.length-1],C??10)),C?h(Mq(_,C)):d},d.copy=function(){return Ig(d,hP(t,e,n,r,i,s,a,o,l,c))},d}function $Re(){return Oi.apply(hP(ADe,MDe,$a,dP,N1,$g,cP,oP,ac,qq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LRe(){return Oi.apply(hP(ODe,PDe,La,fP,T1,E1,uP,lP,ac,Kq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function O1(){var t=0,e=1,n,r,i,s,a=ar,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(s(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(a=f,c):a};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,a=f(p,g),c):[a(0),a(1)]}}return c.range=d(sh),c.rangeRound=d(J2),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Cl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Yq(){var t=kl(O1()(ar));return t.copy=function(){return Cl(t,Yq())},qa.apply(t,arguments)}function Gq(){var t=nP(O1()).domain([1,10]);return t.copy=function(){return Cl(t,Gq()).base(t.base())},qa.apply(t,arguments)}function Qq(){var t=rP(O1());return t.copy=function(){return Cl(t,Qq()).constant(t.constant())},qa.apply(t,arguments)}function pP(){var t=iP(O1());return t.copy=function(){return Cl(t,pP()).exponent(t.exponent())},qa.apply(t,arguments)}function BRe(){return pP.apply(null,arguments).exponent(.5)}function Xq(){var t=[],e=ar;function n(r){if(r!=null&&!isNaN(r=+r))return e((Dg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ko),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>_Me(t,s/r))},n.copy=function(){return Xq(e).domain(t)},qa.apply(n,arguments)}function P1(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,c=ar,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-s)*(r*m<r*s?o:l),c(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,n]=m,i=d(t=+t),s=d(e=+e),a=d(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p):[t,e,n]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(c=m,p):c};function g(m){return function(y){var v,x,b;return arguments.length?([v,x,b]=y,c=XMe(m,[v,x,b]),p):[c(0),c(.5),c(1)]}}return p.range=g(sh),p.rangeRound=g(J2),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,i=m(t),s=m(e),a=m(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p}}function Jq(){var t=kl(P1()(ar));return t.copy=function(){return Cl(t,Jq())},qa.apply(t,arguments)}function Zq(){var t=nP(P1()).domain([.1,1,10]);return t.copy=function(){return Cl(t,Zq()).base(t.base())},qa.apply(t,arguments)}function eK(){var t=rP(P1());return t.copy=function(){return Cl(t,eK()).constant(t.constant())},qa.apply(t,arguments)}function mP(){var t=iP(P1());return t.copy=function(){return Cl(t,mP()).exponent(t.exponent())},qa.apply(t,arguments)}function FRe(){return mP.apply(null,arguments).exponent(.5)}const c3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jm,scaleDiverging:Jq,scaleDivergingLog:Zq,scaleDivergingPow:mP,scaleDivergingSqrt:FRe,scaleDivergingSymlog:eK,scaleIdentity:Aq,scaleImplicit:bE,scaleLinear:Rx,scaleLog:Dq,scaleOrdinal:G2,scalePoint:bp,scalePow:sP,scaleQuantile:$q,scaleQuantize:Lq,scaleRadial:Iq,scaleSequential:Yq,scaleSequentialLog:Gq,scaleSequentialPow:pP,scaleSequentialQuantile:Xq,scaleSequentialSqrt:BRe,scaleSequentialSymlog:Qq,scaleSqrt:bDe,scaleSymlog:Rq,scaleThreshold:Bq,scaleTime:$Re,scaleUtc:LRe,tickFormat:Pq},Symbol.toStringTag,{value:"Module"}));var zRe=Qf;function VRe(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(a!=null&&(o===void 0?a===a&&!zRe(a):n(a,o)))var o=a,l=s}return l}var tK=VRe;function URe(t,e){return t>e}var WRe=URe,HRe=tK,qRe=WRe,KRe=rh;function YRe(t){return t&&t.length?HRe(t,KRe,qRe):void 0}var GRe=YRe;const A1=tt(GRe);function QRe(t,e){return t<e}var XRe=QRe,JRe=tK,ZRe=XRe,eIe=rh;function tIe(t){return t&&t.length?JRe(t,eIe,ZRe):void 0}var nIe=tIe;const M1=tt(nIe);var rIe=T2,iIe=Sl,sIe=lq,aIe=Tr;function oIe(t,e){var n=aIe(t)?rIe:sIe;return n(t,iIe(e))}var lIe=oIe,cIe=aq,uIe=lIe;function dIe(t,e){return cIe(uIe(t,e),1)}var fIe=dIe;const hIe=tt(fIe);var pIe=W2;function mIe(t,e){return pIe(t,e)}var gIe=mIe;const D1=tt(gIe);var ah=1e9,yIe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yP,jt=!0,Ni="[DecimalError] ",_c=Ni+"Invalid argument: ",gP=Ni+"Exponent out of range: ",oh=Math.floor,Kl=Math.pow,vIe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fr,mn=1e7,yt=7,nK=9007199254740991,Bx=oh(nK/yt),ue={};ue.absoluteValue=ue.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ue.comparedTo=ue.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*yt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ue.dividedBy=ue.div=function(t){return Ca(this,new this.constructor(t))};ue.dividedToIntegerBy=ue.idiv=function(t){var e=this,n=e.constructor;return ct(Ca(e,new n(t),0,1),n.precision)};ue.equals=ue.eq=function(t){return!this.cmp(t)};ue.exponent=function(){return nn(this)};ue.greaterThan=ue.gt=function(t){return this.cmp(t)>0};ue.greaterThanOrEqualTo=ue.gte=function(t){return this.cmp(t)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(t){return this.cmp(t)<0};ue.lessThanOrEqualTo=ue.lte=function(t){return this.cmp(t)<1};ue.logarithm=ue.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Fr))throw Error(Ni+"NaN");if(n.s<1)throw Error(Ni+(n.s?"NaN":"-Infinity"));return n.eq(Fr)?new r(0):(jt=!1,e=Ca(Pm(n,s),Pm(t,s),s),jt=!0,ct(e,i))};ue.minus=ue.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sK(e,t):rK(e,(t.s=-t.s,t))};ue.modulo=ue.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ni+"NaN");return n.s?(jt=!1,e=Ca(n,t,0,1).times(t),jt=!0,n.minus(e)):ct(new r(n),i)};ue.naturalExponential=ue.exp=function(){return iK(this)};ue.naturalLogarithm=ue.ln=function(){return Pm(this)};ue.negated=ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ue.plus=ue.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rK(e,t):sK(e,(t.s=-t.s,t))};ue.precision=ue.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(_c+t);if(e=nn(i)+1,r=i.d.length-1,n=r*yt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ue.squareRoot=ue.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ni+"NaN")}for(t=nn(o),jt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ds(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=oh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(Ca(o,s,a+2)).times(.5),Ds(s.d).slice(0,a)===(e=Ds(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(ct(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return jt=!0,ct(r,n)};ue.times=ue.mul=function(t){var e,n,r,i,s,a,o,l,c,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,c=p.length,l<c&&(s=h,h=p,p=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+p[r]*h[i-r-1]+e,s[i--]=o%mn|0,e=o/mn|0;s[i]=(s[i]+e)%mn|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,jt?ct(t,f.precision):t};ue.toDecimalPlaces=ue.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Us(t,0,ah),e===void 0?e=r.rounding:Us(e,0,8),ct(n,t+nn(n)+1,e))};ue.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Vc(r,!0):(Us(t,0,ah),e===void 0?e=i.rounding:Us(e,0,8),r=ct(new i(r),t+1,e),n=Vc(r,!0,t+1)),n};ue.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Vc(i):(Us(t,0,ah),e===void 0?e=s.rounding:Us(e,0,8),r=ct(new s(i),t+nn(i)+1,e),n=Vc(r.abs(),!1,t+nn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ue.toInteger=ue.toint=function(){var t=this,e=t.constructor;return ct(new e(t),nn(t)+1,e.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Fr);if(o=new l(o),!o.s){if(t.s<1)throw Error(Ni+"Infinity");return o}if(o.eq(Fr))return o;if(r=l.precision,t.eq(Fr))return ct(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=d<0?-d:d)<=nK){for(i=new l(Fr),e=Math.ceil(r/yt+4),jt=!1;n%2&&(i=i.times(o),d3(i.d,e)),n=oh(n/2),n!==0;)o=o.times(o),d3(o.d,e);return jt=!0,t.s<0?new l(Fr).div(i):ct(i,r)}}else if(s<0)throw Error(Ni+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,jt=!1,i=t.times(Pm(o,r+c)),jt=!0,i=iK(i),i.s=s,i};ue.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=nn(i),r=Vc(i,n<=s.toExpNeg||n>=s.toExpPos)):(Us(t,1,ah),e===void 0?e=s.rounding:Us(e,0,8),i=ct(new s(i),t,e),n=nn(i),r=Vc(i,t<=n||n<=s.toExpNeg,t)),r};ue.toSignificantDigits=ue.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Us(t,1,ah),e===void 0?e=r.rounding:Us(e,0,8)),ct(new r(n),t,e)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=nn(t),n=t.constructor;return Vc(t,e<=n.toExpNeg||e>=n.toExpPos)};function rK(t,e){var n,r,i,s,a,o,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),jt?ct(e,f):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(f/yt),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/mn|0,l[s]%=mn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,jt?ct(e,f):e}function Us(t,e,n){if(t!==~~t||t<e||t>n)throw Error(_c+t)}function Ds(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=yt-r.length,n&&(s+=co(n)),s+=r;a=t[e],r=a+"",n=yt-r.length,n&&(s+=co(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Ca=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%mn|0,a=s/mn|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*mn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,d,f,h,p,g,m,y,v,x,b,k,w,C,_,j,N=r.constructor,E=r.s==i.s?1:-1,P=r.d,O=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(Ni+"Division by zero");for(l=r.e-i.e,_=O.length,w=P.length,p=new N(E),g=p.d=[],c=0;O[c]==(P[c]||0);)++c;if(O[c]>(P[c]||0)&&--l,s==null?x=s=N.precision:a?x=s+(nn(r)-nn(i))+1:x=s,x<0)return new N(0);if(x=x/yt+2|0,c=0,_==1)for(d=0,O=O[0],x++;(c<w||d)&&x--;c++)b=d*mn+(P[c]||0),g[c]=b/O|0,d=b%O|0;else{for(d=mn/(O[0]+1)|0,d>1&&(O=t(O,d),P=t(P,d),_=O.length,w=P.length),k=_,m=P.slice(0,_),y=m.length;y<_;)m[y++]=0;j=O.slice(),j.unshift(0),C=O[0],O[1]>=mn/2&&++C;do d=0,o=e(O,m,_,y),o<0?(v=m[0],_!=y&&(v=v*mn+(m[1]||0)),d=v/C|0,d>1?(d>=mn&&(d=mn-1),f=t(O,d),h=f.length,y=m.length,o=e(f,m,h,y),o==1&&(d--,n(f,_<h?j:O,h))):(d==0&&(o=d=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),n(m,f,y),o==-1&&(y=m.length,o=e(O,m,_,y),o<1&&(d++,n(m,_<y?j:O,y))),y=m.length):o===0&&(d++,m=[0]),g[c++]=d,o&&m[0]?m[y++]=P[k]||0:(m=[P[k]],y=1);while((k++<w||m[0]!==void 0)&&x--)}return g[0]||g.shift(),p.e=l,ct(p,a?s+nn(p)+1:s)}}();function iK(t,e){var n,r,i,s,a,o,l=0,c=0,d=t.constructor,f=d.precision;if(nn(t)>16)throw Error(gP+nn(t));if(!t.s)return new d(Fr);for(jt=!1,o=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(Kl(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new d(Fr),d.precision=o;;){if(i=ct(i.times(t),o),n=n.times(++l),a=s.plus(Ca(i,n,o)),Ds(a.d).slice(0,o)===Ds(s.d).slice(0,o)){for(;c--;)s=ct(s.times(s),o);return d.precision=f,e==null?(jt=!0,ct(s,f)):s}s=a}}function nn(t){for(var e=t.e*yt,n=t.d[0];n>=10;n/=10)e++;return e}function Xk(t,e,n){if(e>t.LN10.sd())throw jt=!0,n&&(t.precision=n),Error(Ni+"LN10 precision limit exceeded");return ct(new t(t.LN10),e)}function co(t){for(var e="";t--;)e+="0";return e}function Pm(t,e){var n,r,i,s,a,o,l,c,d,f=1,h=10,p=t,g=p.d,m=p.constructor,y=m.precision;if(p.s<1)throw Error(Ni+(p.s?"NaN":"-Infinity"));if(p.eq(Fr))return new m(0);if(e==null?(jt=!1,c=y):c=e,p.eq(10))return e==null&&(jt=!0),Xk(m,c);if(c+=h,m.precision=c,n=Ds(g),r=n.charAt(0),s=nn(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Ds(p.d),r=n.charAt(0),f++;s=nn(p),r>1?(p=new m("0."+n),s++):p=new m(r+"."+n.slice(1))}else return l=Xk(m,c+2,y).times(s+""),p=Pm(new m(r+"."+n.slice(1)),c-h).plus(l),m.precision=y,e==null?(jt=!0,ct(p,y)):p;for(o=a=p=Ca(p.minus(Fr),p.plus(Fr),c),d=ct(p.times(p),c),i=3;;){if(a=ct(a.times(d),c),l=o.plus(Ca(a,new m(i),c)),Ds(l.d).slice(0,c)===Ds(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(Xk(m,c+2,y).times(s+""))),o=Ca(o,new m(f),c),m.precision=y,e==null?(jt=!0,ct(o,y)):o;o=l,i+=2}}function u3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=oh(n/yt),t.d=[],r=(n+1)%yt,n<0&&(r+=yt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=yt;r<i;)t.d.push(+e.slice(r,r+=yt));e=e.slice(r),r=yt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),jt&&(t.e>Bx||t.e<-Bx))throw Error(gP+n)}else t.s=0,t.e=0,t.d=[0];return t}function ct(t,e,n){var r,i,s,a,o,l,c,d,f=t.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=yt,i=e,c=f[d=0];else{if(d=Math.ceil((r+1)/yt),s=f.length,d>=s)return t;for(c=s=f[d],a=1;s>=10;s/=10)a++;r%=yt,i=r-yt+a}if(n!==void 0&&(s=Kl(10,a-i-1),o=c/s%10|0,l=e<0||f[d+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Kl(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(s=nn(t),f.length=1,e=e-s-1,f[0]=Kl(10,(yt-e%yt)%yt),t.e=oh(-e/yt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=Kl(10,yt-r),f[d]=i>0?(c/Kl(10,a-i)%Kl(10,i)|0)*s:0),l)for(;;)if(d==0){(f[0]+=s)==mn&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=mn)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(jt&&(t.e>Bx||t.e<-Bx))throw Error(gP+nn(t));return t}function sK(t,e){var n,r,i,s,a,o,l,c,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),jt?ct(e,p):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(d=a<0,d?(n=l,a=-a,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(p/yt),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=mn-1;--l[s],l[i]+=mn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,jt?ct(e,p):e):new h(0)}function Vc(t,e,n){var r,i=nn(t),s=Ds(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+co(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+co(-i-1)+s,n&&(r=n-a)>0&&(s+=co(r))):i>=a?(s+=co(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+co(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=co(r))),t.s<0?"-"+s:s}function d3(t,e){if(t.length>e)return t.length=e,!0}function aK(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(_c+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return u3(a,s.toString())}else if(typeof s!="string")throw Error(_c+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,vIe.test(s))u3(a,s);else throw Error(_c+s)}if(i.prototype=ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=aK,i.config=i.set=xIe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function xIe(t){if(!t||typeof t!="object")throw Error(Ni+"Object expected");var e,n,r,i=["precision",1,ah,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(oh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(_c+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(_c+n+": "+r);return this}var yP=aK(yIe);Fr=new yP(1);const st=yP;function bIe(t){return CIe(t)||kIe(t)||SIe(t)||wIe()}function wIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SIe(t,e){if(t){if(typeof t=="string")return CE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CE(t,e)}}function kIe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function CIe(t){if(Array.isArray(t))return CE(t)}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _Ie=function(e){return e},oK={},lK=function(e){return e===oK},f3=function(e){return function n(){return arguments.length===0||arguments.length===1&&lK(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},jIe=function t(e,n){return e===1?n:f3(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==oK}).length;return a>=e?n.apply(void 0,i):t(e-a,f3(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=i.map(function(f){return lK(f)?l.shift():f});return n.apply(void 0,bIe(d).concat(l))}))})},R1=function(e){return jIe(e.length,e)},_E=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},EIe=R1(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),NIe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return _Ie;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},jE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},cK=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(o,l){return o===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function TIe(t){var e;return t===0?e=1:e=Math.floor(new st(t).abs().log(10).toNumber())+1,e}function OIe(t,e,n){for(var r=new st(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var PIe=R1(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),AIe=R1(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),MIe=R1(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const I1={rangeStep:OIe,getDigitCount:TIe,interpolateNumber:PIe,uninterpolateNumber:AIe,uninterpolateTruncation:MIe};function EE(t){return IIe(t)||RIe(t)||uK(t)||DIe()}function DIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RIe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function IIe(t){if(Array.isArray(t))return NE(t)}function Am(t,e){return BIe(t)||LIe(t,e)||uK(t,e)||$Ie()}function $Ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uK(t,e){if(t){if(typeof t=="string")return NE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NE(t,e)}}function NE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LIe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function BIe(t){if(Array.isArray(t))return t}function dK(t){var e=Am(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function fK(t,e,n){if(t.lte(0))return new st(0);var r=I1.getDigitCount(t.toNumber()),i=new st(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new st(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?l:new st(Math.ceil(l))}function FIe(t,e,n){var r=1,i=new st(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new st(10).pow(I1.getDigitCount(t)-1),i=new st(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new st(Math.floor(t)))}else t===0?i=new st(Math.floor((e-1)/2)):n||(i=new st(Math.floor(t)));var a=Math.floor((e-1)/2),o=NIe(EIe(function(l){return i.add(new st(l-a).mul(r)).toNumber()}),_E);return o(0,e)}function hK(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new st(0),tickMin:new st(0),tickMax:new st(0)};var s=fK(new st(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new st(0):(a=new st(t).add(e).div(2),a=a.sub(new st(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new st(e).sub(a).div(s).toNumber()),c=o+l+1;return c>n?hK(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:s,tickMin:a.sub(new st(o).mul(s)),tickMax:a.add(new st(l).mul(s))})}function zIe(t){var e=Am(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=dK([n,r]),l=Am(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(EE(_E(0,i-1).map(function(){return 1/0}))):[].concat(EE(_E(0,i-1).map(function(){return-1/0})),[d]);return n>r?jE(f):f}if(c===d)return FIe(c,i,s);var h=hK(c,d,a,s),p=h.step,g=h.tickMin,m=h.tickMax,y=I1.rangeStep(g,m.add(new st(.1).mul(p)),p);return n>r?jE(y):y}function VIe(t,e){var n=Am(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=dK([r,i]),o=Am(a,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),f=fK(new st(c).sub(l).div(d-1),s,0),h=[].concat(EE(I1.rangeStep(new st(l),new st(c).sub(new st(.99).mul(f)),f)),[c]);return r>i?jE(h):h}var UIe=cK(zIe),WIe=cK(VIe),HIe="Invariant failed";function Uc(t,e){throw new Error(HIe)}var qIe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function Fx(){return Fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fx.apply(this,arguments)}function KIe(t,e){return XIe(t)||QIe(t,e)||GIe(t,e)||YIe()}function YIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GIe(t,e){if(t){if(typeof t=="string")return h3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h3(t,e)}}function h3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function XIe(t){if(Array.isArray(t))return t}function JIe(t,e){if(t==null)return{};var n=ZIe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function e$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t$e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gK(r.key),r)}}function n$e(t,e,n){return e&&t$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r$e(t,e,n){return e=zx(e),i$e(t,pK()?Reflect.construct(e,n||[],zx(t).constructor):e.apply(t,n))}function i$e(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s$e(t)}function s$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pK=function(){return!!t})()}function zx(t){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zx(t)}function a$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TE(t,e)}function TE(t,e){return TE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TE(t,e)}function mK(t,e,n){return e=gK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gK(t){var e=o$e(t,"string");return cf(e)=="symbol"?e:e+""}function o$e(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lg=function(t){function e(){return e$e(this,e),r$e(this,e,arguments)}return a$e(e,t),n$e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=JIe(r,qIe),p=Be(h,!1);this.props.direction==="x"&&d.type!=="number"&&Uc();var g=l.map(function(m){var y=c(m,o),v=y.x,x=y.y,b=y.value,k=y.errorVal;if(!k)return null;var w=[],C,_;if(Array.isArray(k)){var j=KIe(k,2);C=j[0],_=j[1]}else C=_=k;if(s==="vertical"){var N=d.scale,E=x+i,P=E+a,O=E-a,D=N(b-C),A=N(b+_);w.push({x1:A,y1:P,x2:A,y2:O}),w.push({x1:D,y1:E,x2:A,y2:E}),w.push({x1:D,y1:P,x2:D,y2:O})}else if(s==="horizontal"){var M=f.scale,$=v+i,I=$-a,R=$+a,L=M(b-C),B=M(b+_);w.push({x1:I,y1:B,x2:R,y2:B}),w.push({x1:$,y1:L,x2:$,y2:B}),w.push({x1:I,y1:L,x2:R,y2:L})}return T.createElement(Ut,Fx({className:"recharts-errorBar",key:"bar-".concat(w.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},p),w.map(function(W){return T.createElement("line",Fx({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return T.createElement(Ut,{className:"recharts-errorBars"},g)}}])}(T.Component);mK(Lg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});mK(Lg,"displayName","ErrorBar");function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}function p3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p3(Object(n),!0).forEach(function(r){l$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l$e(t,e,n){return e=c$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c$e(t){var e=u$e(t,"string");return Mm(e)=="symbol"?e:e+""}function u$e(t,e){if(Mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yK=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=$r(n,Sd);if(!a)return null;var o=Sd.defaultProps,l=o!==void 0?Dl(Dl({},o),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:s==="children"?c=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:a.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Dl(Dl({},h),f.props):{},g=p.dataKey,m=p.name,y=p.legendType,v=p.hide;return{inactive:v,dataKey:g,type:l.iconType||y||"square",color:vP(f),value:m||g,payload:p}}),Dl(Dl(Dl({},l),Sd.getWithHeight(a,i)),{},{payload:c,item:a})};function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function m3(t){return p$e(t)||h$e(t)||f$e(t)||d$e()}function d$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f$e(t,e){if(t){if(typeof t=="string")return OE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OE(t,e)}}function h$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function p$e(t){if(Array.isArray(t))return OE(t)}function OE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g3(Object(n),!0).forEach(function(r){Cd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cd(t,e,n){return e=m$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m$e(t){var e=g$e(t,"string");return Dm(e)=="symbol"?e:e+""}function g$e(t,e){if(Dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gr(t,e,n){return Re(t)||Re(e)?n:un(e)?wi(t,e,n):Me(e)?e(t):n}function wp(t,e,n,r){var i=hIe(t,function(o){return Gr(o,e)});if(n==="number"){var s=i.filter(function(o){return ee(o)||parseFloat(o)});return s.length?[M1(s),A1(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!Re(o)}):i;return a.map(function(o){return un(o)||o instanceof Date?o:""})}var y$e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<o;c++){var d=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(ns(f-d)!==ns(h-f)){var g=[];if(ns(h-f)===ns(l[1]-l[0])){p=h;var m=f+l[1]-l[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var y=h+l[1]-l[0];g[0]=Math.min(f,(y+f)/2),g[1]=Math.max(f,(y+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>v[0]&&e<=v[1]||e>=g[0]&&e<=g[1]){a=i[c].index;break}}else{var x=Math.min(d,h),b=Math.max(d,h);if(e>(x+f)/2&&e<=(b+f)/2){a=i[c].index;break}}}else for(var k=0;k<o;k++)if(k===0&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<o-1&&e>(r[k].coordinate+r[k-1].coordinate)/2&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k===o-1&&e>(r[k].coordinate+r[k-1].coordinate)/2){a=r[k].index;break}return a},vP=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Bt(Bt({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},v$e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,c=o.length;l<c;l++)for(var d=s[o[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,y=g.cateAxisId,v=m.filter(function(_){return Sa(_.type).indexOf("Bar")>=0});if(v&&v.length){var x=v[0].type.defaultProps,b=x!==void 0?Bt(Bt({},x),v[0].props):v[0].props,k=b.barSize,w=b[y];a[w]||(a[w]=[]);var C=Re(k)?n:k;a[w].push({item:v[0],stackList:v.slice(1),barSize:Re(C)?void 0:zc(C,r,0)})}}return a},x$e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var c=zc(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=i/l,g=a.reduce(function(k,w){return k+w.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var m=(i-g)/2>>0,y={offset:m-c,size:0};d=a.reduce(function(k,w){var C={item:w.item,position:{offset:y.offset+y.size+c,size:h?p:w.barSize}},_=[].concat(m3(k),[C]);return y=_[_.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){_.push({item:j,position:y})}),_},f)}else{var v=zc(r,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var x=(i-2*v-(l-1)*c)/l;x>1&&(x>>=0);var b=o===+o?Math.min(x,o):x;d=a.reduce(function(k,w,C){var _=[].concat(m3(k),[{item:w.item,position:{offset:v+(x+c)*C+(x-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){_.push({item:j,position:_[_.length-1].position})}),_},f)}return d},b$e=function(e,n,r,i){var s=r.children,a=r.width,o=r.margin,l=a-(o.left||0)-(o.right||0),c=yK({children:s,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,p=c.align,g=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&ee(e[p]))return Bt(Bt({},e),{},Cd({},p,e[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&ee(e[g]))return Bt(Bt({},e),{},Cd({},g,e[g]+(h||0)))}return e},w$e=function(e,n,r){return Re(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},vK=function(e,n,r,i,s){var a=n.props.children,o=Si(a,Lg).filter(function(c){return w$e(i,s,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=Gr(d,r);if(Re(f))return c;var h=Array.isArray(f)?[M1(f),A1(f)]:[f,f],p=l.reduce(function(g,m){var y=Gr(d,m,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),x=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},S$e=function(e,n,r,i,s){var a=n.map(function(o){return vK(e,o,r,s,i)}).filter(function(o){return!Re(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},xK=function(e,n,r,i,s){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&vK(e,l,c,i)||wp(e,c,r,s)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)o[c[d]]||(o[c[d]]=!0,l.push(c[d]));return l},[])},bK=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},wK=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,a,o=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(a=!0),l.coordinate});return s||o.push(n),a||o.push(r),o},ma=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ns(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!Pg(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:s?s[f]:f,index:h,offset:c}})},Jk=new WeakMap,nv=function(e,n){if(typeof n!="function")return e;Jk.has(e)||Jk.set(e,new WeakMap);var r=Jk.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},k$e=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:jm(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:Rx(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:bp(),realScaleType:"point"}:s==="category"?{scale:jm(),realScaleType:"band"}:{scale:Rx(),realScaleType:"linear"};if(Fc(i)){var l="scale".concat(x1(i));return{scale:(c3[l]||bp)(),realScaleType:c3[l]?l:"point"}}return Me(i)?{scale:i}:{scale:bp(),realScaleType:"point"}},y3=1e-4,C$e=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-y3,a=Math.max(i[0],i[1])+y3,o=e(n[0]),l=e(n[r-1]);(o<s||o>a||l<s||l>a)&&e.domain([n[0],n[r-1]])}},_$e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},j$e=function(e,n){if(!n||n.length!==2||!ee(n[0])||!ee(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!ee(e[0])||e[0]<r)&&(s[0]=r),(!ee(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},E$e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,o=0;o<n;++o){var l=Pg(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1])}},N$e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var o=Pg(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},T$e={sign:E$e,expand:WCe,none:ef,silhouette:HCe,wiggle:qCe,positive:N$e},O$e=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),s=T$e[r],a=UCe().keys(i).value(function(o,l){return+Gr(o,l,0)}).order(tE).offset(s);return a(e)},P$e=function(e,n,r,i,s,a){if(!e)return null;var o=a?n.reverse():n,l={},c=o.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Bt(Bt({},h.type.defaultProps),h.props):h.props,m=g.stackId,y=g.hide;if(y)return f;var v=g[r],x=f[v]||{hasStack:!1,stackGroups:{}};if(un(m)){var b=x.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[m]=b}else x.stackGroups[Ag("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Bt(Bt({},f),{},Cd({},v,x))},l),d={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,y){var v=p.stackGroups[y];return Bt(Bt({},m),{},Cd({},y,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:O$e(e,v.items,s)}))},g)}return Bt(Bt({},f),{},Cd({},h,p))},d)},A$e=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=UIe(c,s,o);return e.domain([M1(d),A1(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),h=WIe(f,s,o);return{niceTicks:h}}return null};function v3(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Re(i[e.dataKey])){var o=fx(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Gr(i,Re(a)?e.dataKey:a);return Re(l)?null:e.scale(l)}var x3=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=Gr(a,n.dataKey,n.domain[o]);return Re(l)?null:n.scale(l)-s/2+i},M$e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},D$e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Bt(Bt({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(un(s)){var a=n[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},R$e=function(e){return e.reduce(function(n,r){return[M1(r.concat([n[0]]).filter(ee)),A1(r.concat([n[1]]).filter(ee))]},[1/0,-1/0])},SK=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(c,d){var f=R$e(d.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},b3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PE=function(e,n,r){if(Me(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ee(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(b3.test(e[0])){var s=+b3.exec(e[0])[1];i[0]=n[0]-s}else Me(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ee(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(w3.test(e[1])){var a=+w3.exec(e[1])[1];i[1]=n[1]+a}else Me(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Vx=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=q2(n,function(f){return f.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var c=s[o],d=s[o-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},S3=function(e,n,r){return!e||!e.length||D1(e,wi(r,"type.defaultProps.domain"))?n:e},kK=function(e,n){var r=e.type.defaultProps?Bt(Bt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return Bt(Bt({},Be(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:vP(e),value:Gr(n,i),type:l,payload:n,chartType:c,hide:d})};function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function k3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k3(Object(n),!0).forEach(function(r){I$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I$e(t,e,n){return e=$$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $$e(t){var e=L$e(t,"string");return Rm(e)=="symbol"?e:e+""}function L$e(t,e){if(Rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ux=Math.PI/180,B$e=function(e){return e*180/Math.PI},Pn=function(e,n,r,i){return{x:e+Math.cos(-Ux*i)*r,y:n+Math.sin(-Ux*i)*r}},F$e=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},z$e=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,o=F$e({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(r-s)/o,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:o,angle:B$e(c),angleInRadian:c}},V$e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},U$e=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},_3=function(e,n){var r=e.x,i=e.y,s=z$e({x:r,y:i},n),a=s.radius,o=s.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var d=V$e(n),f=d.startAngle,h=d.endAngle,p=o,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?C3(C3({},n),{},{radius:a,angle:U$e(p,n)}):null};function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}var W$e=["offset"];function H$e(t){return G$e(t)||Y$e(t)||K$e(t)||q$e()}function q$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K$e(t,e){if(t){if(typeof t=="string")return AE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AE(t,e)}}function Y$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function G$e(t){if(Array.isArray(t))return AE(t)}function AE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q$e(t,e){if(t==null)return{};var n=X$e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function X$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function j3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j3(Object(n),!0).forEach(function(r){J$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J$e(t,e,n){return e=Z$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z$e(t){var e=eLe(t,"string");return Im(e)=="symbol"?e:e+""}function eLe(t,e){if(Im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$m.apply(this,arguments)}var tLe=function(e){var n=e.value,r=e.formatter,i=Re(e.children)?n:e.children;return Me(r)?r(i):i},nLe=function(e,n){var r=ns(n-e),i=Math.min(Math.abs(n-e),360);return r*i},rLe=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,y=(f+h)/2,v=nLe(p,g),x=v>=0?1:-1,b,k;i==="insideStart"?(b=p+x*a,k=m):i==="insideEnd"?(b=g-x*a,k=!m):i==="end"&&(b=g+x*a,k=m),k=v<=0?k:!k;var w=Pn(c,d,y,b),C=Pn(c,d,y,b+(k?1:-1)*359),_="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(k?0:1,`,
    `).concat(C.x,",").concat(C.y),j=Re(e.id)?Ag("recharts-radial-line-"):e.id;return T.createElement("text",$m({},r,{dominantBaseline:"central",className:me("recharts-radial-bar-label",o)}),T.createElement("defs",null,T.createElement("path",{id:j,d:_})),T.createElement("textPath",{xlinkHref:"#".concat(j)},n))},iLe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,o=s.cy,l=s.innerRadius,c=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(i==="outside"){var p=Pn(a,o,c+r,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,v=Pn(a,o,y,h),x=v.x,b=v.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},sLe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,o=a.x,l=a.y,c=a.width,d=a.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",g=f>0?"start":"end",m=c>=0?1:-1,y=m*i,v=m>0?"end":"start",x=m>0?"start":"end";if(s==="top"){var b={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return an(an({},b),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var k={x:o+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:g};return an(an({},k),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(s==="left"){var w={x:o-y,y:l+d/2,textAnchor:v,verticalAnchor:"middle"};return an(an({},w),r?{width:Math.max(w.x-r.x,0),height:d}:{})}if(s==="right"){var C={x:o+c+y,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return an(an({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:d}:{})}var _=r?{width:c,height:d}:{};return s==="insideLeft"?an({x:o+y,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},_):s==="insideRight"?an({x:o+c-y,y:l+d/2,textAnchor:v,verticalAnchor:"middle"},_):s==="insideTop"?an({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},_):s==="insideBottom"?an({x:o+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},_):s==="insideTopLeft"?an({x:o+y,y:l+h,textAnchor:x,verticalAnchor:g},_):s==="insideTopRight"?an({x:o+c-y,y:l+h,textAnchor:v,verticalAnchor:g},_):s==="insideBottomLeft"?an({x:o+y,y:l+d-h,textAnchor:x,verticalAnchor:p},_):s==="insideBottomRight"?an({x:o+c-y,y:l+d-h,textAnchor:v,verticalAnchor:p},_):Xf(s)&&(ee(s.x)||ic(s.x))&&(ee(s.y)||ic(s.y))?an({x:o+zc(s.x,c),y:l+zc(s.y,d),textAnchor:"end",verticalAnchor:"end"},_):an({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},aLe=function(e){return"cx"in e&&ee(e.cx)};function Hn(t){var e=t.offset,n=e===void 0?5:e,r=Q$e(t,W$e),i=an({offset:n},r),s=i.viewBox,a=i.position,o=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!s||Re(o)&&Re(l)&&!S.isValidElement(c)&&!Me(c))return null;if(S.isValidElement(c))return S.cloneElement(c,i);var p;if(Me(c)){if(p=S.createElement(c,i),S.isValidElement(p))return p}else p=tLe(i);var g=aLe(s),m=Be(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return rLe(i,p,m);var y=g?iLe(i):sLe(i);return T.createElement(Nx,$m({className:me("recharts-label",f)},m,y,{breakAll:h}),p)}Hn.displayName="Label";var CK=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,g=e.left,m=e.width,y=e.height,v=e.clockWise,x=e.labelViewBox;if(x)return x;if(ee(m)&&ee(y)){if(ee(f)&&ee(h))return{x:f,y:h,width:m,height:y};if(ee(p)&&ee(g))return{x:p,y:g,width:m,height:y}}return ee(f)&&ee(h)?{x:f,y:h,width:0,height:0}:ee(n)&&ee(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:v}:e.viewBox?e.viewBox:{}},oLe=function(e,n){return e?e===!0?T.createElement(Hn,{key:"label-implicit",viewBox:n}):un(e)?T.createElement(Hn,{key:"label-implicit",viewBox:n,value:e}):S.isValidElement(e)?e.type===Hn?S.cloneElement(e,{key:"label-implicit",viewBox:n}):T.createElement(Hn,{key:"label-implicit",content:e,viewBox:n}):Me(e)?T.createElement(Hn,{key:"label-implicit",content:e,viewBox:n}):Xf(e)?T.createElement(Hn,$m({viewBox:n},e,{key:"label-implicit"})):null:null},lLe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=CK(e),a=Si(i,Hn).map(function(l,c){return S.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return a;var o=oLe(e.label,n||s);return[o].concat(H$e(a))};Hn.parseViewBox=CK;Hn.renderCallByParent=lLe;function cLe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var uLe=cLe;const dLe=tt(uLe);function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}var fLe=["valueAccessor"],hLe=["data","dataKey","clockWise","id","textBreakAll"];function pLe(t){return vLe(t)||yLe(t)||gLe(t)||mLe()}function mLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gLe(t,e){if(t){if(typeof t=="string")return ME(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ME(t,e)}}function yLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vLe(t){if(Array.isArray(t))return ME(t)}function ME(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wx(){return Wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wx.apply(this,arguments)}function E3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E3(Object(n),!0).forEach(function(r){xLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xLe(t,e,n){return e=bLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bLe(t){var e=wLe(t,"string");return Lm(e)=="symbol"?e:e+""}function wLe(t,e){if(Lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T3(t,e){if(t==null)return{};var n=SLe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kLe=function(e){return Array.isArray(e.value)?dLe(e.value):e.value};function Yo(t){var e=t.valueAccessor,n=e===void 0?kLe:e,r=T3(t,fLe),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,l=r.textBreakAll,c=T3(r,hLe);return!i||!i.length?null:T.createElement(Ut,{className:"recharts-label-list"},i.map(function(d,f){var h=Re(s)?n(d,f):Gr(d&&d.payload,s),p=Re(o)?{}:{id:"".concat(o,"-").concat(f)};return T.createElement(Hn,Wx({},Be(d,!0),c,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Hn.parseViewBox(Re(a)?d:N3(N3({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Yo.displayName="LabelList";function CLe(t,e){return t?t===!0?T.createElement(Yo,{key:"labelList-implicit",data:e}):T.isValidElement(t)||Me(t)?T.createElement(Yo,{key:"labelList-implicit",data:e,content:t}):Xf(t)?T.createElement(Yo,Wx({data:e},t,{key:"labelList-implicit"})):null:null}function _Le(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Si(r,Yo).map(function(a,o){return S.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var s=CLe(t.label,e);return[s].concat(pLe(i))}Yo.renderCallByParent=_Le;function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}function DE(){return DE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DE.apply(this,arguments)}function O3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O3(Object(n),!0).forEach(function(r){jLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jLe(t,e,n){return e=ELe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ELe(t){var e=NLe(t,"string");return Bm(e)=="symbol"?e:e+""}function NLe(t,e){if(Bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TLe=function(e,n){var r=ns(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},rv=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(o?1:-1)+i,f=Math.asin(l/d)/Ux,h=c?s:s+a*f,p=Pn(n,r,d,h),g=Pn(n,r,i,h),m=c?s-a*f:s,y=Pn(n,r,d*Math.cos(f*Ux),m);return{center:p,circleTangency:g,lineTangency:y,theta:f}},_K=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=TLe(a,o),c=a+l,d=Pn(n,r,s,a),f=Pn(n,r,s,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Pn(n,r,i,a),g=Pn(n,r,i,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},OLe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=ns(d-c),h=rv({cx:n,cy:r,radius:s,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,m=h.theta,y=rv({cx:n,cy:r,radius:s,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),v=y.circleTangency,x=y.lineTangency,b=y.theta,k=l?Math.abs(c-d):Math.abs(c-d)-m-b;if(k<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):_K({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:d});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var C=rv({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),_=C.circleTangency,j=C.lineTangency,N=C.theta,E=rv({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),P=E.circleTangency,O=E.lineTangency,D=E.theta,A=l?Math.abs(c-d):Math.abs(c-d)-N-D;if(A<0&&a===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},PLe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},jK=function(e){var n=P3(P3({},PLe),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(a<s||d===f)return null;var p=me("recharts-sector",h),g=a-s,m=zc(o,g,0,!0),y;return m>0&&Math.abs(d-f)<360?y=OLe({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):y=_K({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:f}),T.createElement("path",DE({},Be(n,!0),{className:p,d:y,role:"img"}))};function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RE.apply(this,arguments)}function A3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A3(Object(n),!0).forEach(function(r){ALe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ALe(t,e,n){return e=MLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MLe(t){var e=DLe(t,"string");return Fm(e)=="symbol"?e:e+""}function DLe(t,e){if(Fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D3={curveBasisClosed:ACe,curveBasisOpen:MCe,curveBasis:PCe,curveBumpX:yCe,curveBumpY:vCe,curveLinearClosed:DCe,curveLinear:w1,curveMonotoneX:RCe,curveMonotoneY:ICe,curveNatural:$Ce,curveStep:LCe,curveStepAfter:FCe,curveStepBefore:BCe},iv=function(e){return e.x===+e.x&&e.y===+e.y},Ih=function(e){return e.x},$h=function(e){return e.y},RLe=function(e,n){if(Me(e))return e;var r="curve".concat(x1(e));return(r==="curveMonotone"||r==="curveBump")&&n?D3["".concat(r).concat(n==="vertical"?"Y":"X")]:D3[r]||w1},ILe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=RLe(r,o),f=c?s.filter(function(m){return iv(m)}):s,h;if(Array.isArray(a)){var p=c?a.filter(function(m){return iv(m)}):a,g=f.map(function(m,y){return M3(M3({},m),{},{base:p[y]})});return o==="vertical"?h=Yy().y($h).x1(Ih).x0(function(m){return m.base.x}):h=Yy().x(Ih).y1($h).y0(function(m){return m.base.y}),h.defined(iv).curve(d),h(g)}return o==="vertical"&&ee(a)?h=Yy().y($h).x1(Ih).x0(a):ee(a)?h=Yy().x(Ih).y1($h).y0(a):h=_9().x(Ih).y($h),h.defined(iv).curve(d),h(f)},IE=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?ILe(e):i;return S.createElement("path",RE({},Be(e,!1),hx(e),{className:me("recharts-curve",n),d:a,ref:s}))},EK={exports:{}},$Le="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",LLe=$Le,BLe=LLe;function NK(){}function TK(){}TK.resetWarningCache=NK;var FLe=function(){function t(r,i,s,a,o,l){if(l!==BLe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:TK,resetWarningCache:NK};return n.PropTypes=n,n};EK.exports=FLe();var zLe=EK.exports;const Ge=tt(zLe),{getOwnPropertyNames:VLe,getOwnPropertySymbols:ULe}=Object,{hasOwnProperty:WLe}=Object.prototype;function R3(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function sv(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:s}=i,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);const l=t(n,r,i);return s.delete(n),s.delete(r),l}}function HLe(t){return t!=null?t[Symbol.toStringTag]:void 0}function I3(t){return VLe(t).concat(ULe(t))}const qLe=Object.hasOwn||((t,e)=>WLe.call(t,e));function au(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const KLe="__v",YLe="__o",GLe="_owner",{getOwnPropertyDescriptor:$3,keys:L3}=Object;function QLe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function XLe(t,e){return au(t.getTime(),e.getTime())}function JLe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function ZLe(t,e){return t===e}function B3(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.entries();let a,o,l=0;for(;(a=s.next())&&!a.done;){const c=e.entries();let d=!1,f=0;for(;(o=c.next())&&!o.done;){if(i[f]){f++;continue}const h=a.value,p=o.value;if(n.equals(h[0],p[0],l,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}const e3e=au;function t3e(t,e,n){const r=L3(t);let i=r.length;if(L3(e).length!==i)return!1;for(;i-- >0;)if(!OK(t,e,n,r[i]))return!1;return!0}function Lh(t,e,n){const r=I3(t);let i=r.length;if(I3(e).length!==i)return!1;let s,a,o;for(;i-- >0;)if(s=r[i],!OK(t,e,n,s)||(a=$3(t,s),o=$3(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function n3e(t,e){return au(t.valueOf(),e.valueOf())}function r3e(t,e){return t.source===e.source&&t.flags===e.flags}function F3(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.values();let a,o;for(;(a=s.next())&&!a.done;){const l=e.values();let c=!1,d=0;for(;(o=l.next())&&!o.done;){if(!i[d]&&n.equals(a.value,o.value,a.value,o.value,t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function i3e(t,e){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function s3e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function OK(t,e,n,r){return(r===GLe||r===YLe||r===KLe)&&(t.$$typeof||e.$$typeof)?!0:qLe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const a3e="[object Arguments]",o3e="[object Boolean]",l3e="[object Date]",c3e="[object Error]",u3e="[object Map]",d3e="[object Number]",f3e="[object Object]",h3e="[object RegExp]",p3e="[object Set]",m3e="[object String]",g3e="[object URL]",{isArray:y3e}=Array,z3=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,{assign:V3}=Object,v3e=Object.prototype.toString.call.bind(Object.prototype.toString);function x3e({areArraysEqual:t,areDatesEqual:e,areErrorsEqual:n,areFunctionsEqual:r,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:a,arePrimitiveWrappersEqual:o,areRegExpsEqual:l,areSetsEqual:c,areTypedArraysEqual:d,areUrlsEqual:f,unknownTagComparators:h}){return function(g,m,y){if(g===m)return!0;if(g==null||m==null)return!1;const v=typeof g;if(v!==typeof m)return!1;if(v!=="object")return v==="number"?s(g,m,y):v==="function"?r(g,m,y):!1;const x=g.constructor;if(x!==m.constructor)return!1;if(x===Object)return a(g,m,y);if(y3e(g))return t(g,m,y);if(z3!=null&&z3(g))return d(g,m,y);if(x===Date)return e(g,m,y);if(x===RegExp)return l(g,m,y);if(x===Map)return i(g,m,y);if(x===Set)return c(g,m,y);const b=v3e(g);if(b===l3e)return e(g,m,y);if(b===h3e)return l(g,m,y);if(b===u3e)return i(g,m,y);if(b===p3e)return c(g,m,y);if(b===f3e)return typeof g.then!="function"&&typeof m.then!="function"&&a(g,m,y);if(b===g3e)return f(g,m,y);if(b===c3e)return n(g,m,y);if(b===a3e)return a(g,m,y);if(b===o3e||b===d3e||b===m3e)return o(g,m,y);if(h){let k=h[b];if(!k){const w=HLe(g);w&&(k=h[w])}if(k)return k(g,m,y)}return!1}}function b3e({circular:t,createCustomConfig:e,strict:n}){let r={areArraysEqual:n?Lh:QLe,areDatesEqual:XLe,areErrorsEqual:JLe,areFunctionsEqual:ZLe,areMapsEqual:n?R3(B3,Lh):B3,areNumbersEqual:e3e,areObjectsEqual:n?Lh:t3e,arePrimitiveWrappersEqual:n3e,areRegExpsEqual:r3e,areSetsEqual:n?R3(F3,Lh):F3,areTypedArraysEqual:n?Lh:i3e,areUrlsEqual:s3e,unknownTagComparators:void 0};if(e&&(r=V3({},r,e(r))),t){const i=sv(r.areArraysEqual),s=sv(r.areMapsEqual),a=sv(r.areObjectsEqual),o=sv(r.areSetsEqual);r=V3({},r,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:o})}return r}function w3e(t){return function(e,n,r,i,s,a,o){return t(e,n,o)}}function S3e({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(o,l){const{cache:c=t?new WeakMap:void 0,meta:d}=n();return e(o,l,{cache:c,equals:r,meta:d,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const s={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,l){return e(o,l,s)}}const PK=_l();_l({strict:!0});_l({circular:!0});_l({circular:!0,strict:!0});_l({createInternalComparator:()=>au});_l({strict:!0,createInternalComparator:()=>au});_l({circular:!0,createInternalComparator:()=>au});_l({circular:!0,createInternalComparator:()=>au,strict:!0});function _l(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,s=b3e(t),a=x3e(s),o=n?n(a):w3e(a);return S3e({circular:e,comparator:a,createState:r,equals:o,strict:i})}function k3e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function U3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):k3e(i)};requestAnimationFrame(r)}function $E(t){"@babel/helpers - typeof";return $E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$E(t)}function C3e(t){return N3e(t)||E3e(t)||j3e(t)||_3e()}function _3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j3e(t,e){if(t){if(typeof t=="string")return W3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W3(t,e)}}function W3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N3e(t){if(Array.isArray(t))return t}function T3e(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,o=C3e(a),l=o[0],c=o.slice(1);if(typeof l=="number"){U3(i.bind(null,c),l);return}i(l),U3(i.bind(null,c));return}$E(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}function H3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H3(Object(n),!0).forEach(function(r){AK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AK(t,e,n){return e=O3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O3e(t){var e=P3e(t,"string");return zm(e)==="symbol"?e:String(e)}function P3e(t,e){if(zm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A3e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},M3e=function(e){return e},D3e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Sp=function(e,n){return Object.keys(n).reduce(function(r,i){return q3(q3({},r),{},AK({},i,e(i,n[i])))},{})},K3=function(e,n,r){return e.map(function(i){return"".concat(D3e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function R3e(t,e){return L3e(t)||$3e(t,e)||MK(t,e)||I3e()}function I3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function L3e(t){if(Array.isArray(t))return t}function B3e(t){return V3e(t)||z3e(t)||MK(t)||F3e()}function F3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MK(t,e){if(t){if(typeof t=="string")return LE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LE(t,e)}}function z3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V3e(t){if(Array.isArray(t))return LE(t)}function LE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hx=1e-4,DK=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},RK=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},Y3=function(e,n){return function(r){var i=DK(e,n);return RK(i,r)}},U3e=function(e,n){return function(r){var i=DK(e,n),s=[].concat(B3e(i.map(function(a,o){return a*o}).slice(1)),[0]);return RK(s,r)}},G3=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=R3e(c,4);i=d[0],s=d[1],a=d[2],o=d[3]}}}var f=Y3(i,a),h=Y3(s,o),p=U3e(i,a),g=function(v){return v>1?1:v<0?0:v},m=function(v){for(var x=v>1?1:v,b=x,k=0;k<8;++k){var w=f(b)-x,C=p(b);if(Math.abs(w-x)<Hx||C<Hx)return h(b);b=g(b-w/C)}return h(b)};return m.isStepper=!1,m},W3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(d,f,h){var p=-(d-f)*r,g=h*s,m=h+(p-g)*o/1e3,y=h*o/1e3+d;return Math.abs(y-f)<Hx&&Math.abs(m)<Hx?[f,0]:[y,m]};return l.isStepper=!0,l.dt=o,l},H3e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return G3(i);case"spring":return W3e();default:if(i.split("(")[0]==="cubic-bezier")return G3(i)}return typeof i=="function"?i:null};function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function Q3(t){return Y3e(t)||K3e(t)||IK(t)||q3e()}function q3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Y3e(t){if(Array.isArray(t))return FE(t)}function X3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(n),!0).forEach(function(r){BE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BE(t,e,n){return e=G3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G3e(t){var e=Q3e(t,"string");return Vm(e)==="symbol"?e:String(e)}function Q3e(t,e){if(Vm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X3e(t,e){return e4e(t)||Z3e(t,e)||IK(t,e)||J3e()}function J3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IK(t,e){if(t){if(typeof t=="string")return FE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FE(t,e)}}function FE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function e4e(t){if(Array.isArray(t))return t}var qx=function(e,n,r){return e+(n-e)*r},zE=function(e){var n=e.from,r=e.to;return n!==r},t4e=function t(e,n,r){var i=Sp(function(s,a){if(zE(a)){var o=e(a.from,a.to,a.velocity),l=X3e(o,2),c=l[0],d=l[1];return _n(_n({},a),{},{from:c,velocity:d})}return a},n);return r<1?Sp(function(s,a){return zE(a)?_n(_n({},a),{},{velocity:qx(a.velocity,i[s].velocity,r),from:qx(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const n4e=function(t,e,n,r,i){var s=A3e(t,e),a=s.reduce(function(y,v){return _n(_n({},y),{},BE({},v,[t[v],e[v]]))},{}),o=s.reduce(function(y,v){return _n(_n({},y),{},BE({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return Sp(function(v,x){return x.from},o)},p=function(){return!Object.values(o).filter(zE).length},g=function(v){c||(c=v);var x=v-c,b=x/n.dt;o=t4e(n,o,b),i(_n(_n(_n({},t),e),h())),c=v,p()||(l=requestAnimationFrame(f))},m=function(v){d||(d=v);var x=(v-d)/r,b=Sp(function(w,C){return qx.apply(void 0,Q3(C).concat([n(x)]))},a);if(i(_n(_n(_n({},t),e),b)),x<1)l=requestAnimationFrame(f);else{var k=Sp(function(w,C){return qx.apply(void 0,Q3(C).concat([n(1)]))},a);i(_n(_n(_n({},t),e),k))}};return f=n.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}var r4e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function i4e(t,e){if(t==null)return{};var n=s4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s4e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Zk(t){return c4e(t)||l4e(t)||o4e(t)||a4e()}function a4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o4e(t,e){if(t){if(typeof t=="string")return VE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VE(t,e)}}function l4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c4e(t){if(Array.isArray(t))return VE(t)}function VE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J3(Object(n),!0).forEach(function(r){Zh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zh(t,e,n){return e=$K(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d4e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$K(r.key),r)}}function f4e(t,e,n){return e&&d4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $K(t){var e=h4e(t,"string");return uf(e)==="symbol"?e:String(e)}function h4e(t,e){if(uf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UE(t,e)}function UE(t,e){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UE(t,e)}function m4e(t){var e=g4e();return function(){var r=Kx(t),i;if(e){var s=Kx(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return WE(this,i)}}function WE(t,e){if(e&&(uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HE(t)}function HE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g4e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Kx(t){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kx(t)}var Ba=function(t){p4e(n,t);var e=m4e(n);function n(r,i){var s;u4e(this,n),s=e.call(this,r,i);var a=s.props,o=a.isActive,l=a.attributeName,c=a.from,d=a.to,f=a.steps,h=a.children,p=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(HE(s)),s.changeStyle=s.changeStyle.bind(HE(s)),!o||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),WE(s);if(f&&f.length)s.state={style:f[0].style};else if(c){if(typeof h=="function")return s.state={style:c},WE(s);s.state={style:l?Zh({},l,c):c}}else s.state={style:{}};return s}return f4e(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(o){if(!a){var p={style:l?Zh({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(PK(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||c?f:i.to;if(this.state&&h){var y={style:l?Zh({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(y)}this.runAnimation(Li(Li({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=n4e(a,o,H3e(c),l,this.changeStyle),g=function(){s.stopJSAnimation=p()};this.manager.start([h,d,g,l,f])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,c=a[0],d=c.style,f=c.duration,h=f===void 0?0:f,p=function(m,y,v){if(v===0)return m;var x=y.duration,b=y.easing,k=b===void 0?"ease":b,w=y.style,C=y.properties,_=y.onAnimationEnd,j=v>0?a[v-1]:y,N=C||Object.keys(w);if(typeof k=="function"||k==="spring")return[].concat(Zk(m),[s.runJSAnimation.bind(s,{from:j.style,to:w,duration:x,easing:k}),x]);var E=K3(N,x,k),P=Li(Li(Li({},j.style),w),{},{transition:E});return[].concat(Zk(m),[P,x,_]).filter(M3e)};return this.manager.start([l].concat(Zk(a.reduce(p,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=T3e());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=o?Zh({},o,l):l,y=K3(Object.keys(m),a,c);g.start([d,s,Li(Li({},m),{},{transition:y}),a,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=i4e(i,r4e),c=S.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!o||c===0||a<=0)return s;var f=function(p){var g=p.props,m=g.style,y=m===void 0?{}:m,v=g.className,x=S.cloneElement(p,Li(Li({},l),{},{style:Li(Li({},y),d),className:v}));return x};return c===1?f(S.Children.only(s)):T.createElement("div",null,S.Children.map(s,function(h){return f(h)}))}}]),n}(S.PureComponent);Ba.displayName="Animate";Ba.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ba.propTypes={from:Ge.oneOfType([Ge.object,Ge.string]),to:Ge.oneOfType([Ge.object,Ge.string]),attributeName:Ge.string,duration:Ge.number,begin:Ge.number,easing:Ge.oneOfType([Ge.string,Ge.func]),steps:Ge.arrayOf(Ge.shape({duration:Ge.number.isRequired,style:Ge.object.isRequired,easing:Ge.oneOfType([Ge.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ge.func]),properties:Ge.arrayOf("string"),onAnimationEnd:Ge.func})),children:Ge.oneOfType([Ge.node,Ge.func]),isActive:Ge.bool,canBegin:Ge.bool,onAnimationEnd:Ge.func,shouldReAnimate:Ge.bool,onAnimationStart:Ge.func,onAnimationReStart:Ge.func};function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function Yx(){return Yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yx.apply(this,arguments)}function y4e(t,e){return w4e(t)||b4e(t,e)||x4e(t,e)||v4e()}function v4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x4e(t,e){if(t){if(typeof t=="string")return Z3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z3(t,e)}}function Z3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function w4e(t){if(Array.isArray(t))return t}function e4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(n),!0).forEach(function(r){S4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S4e(t,e,n){return e=k4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k4e(t){var e=C4e(t,"string");return Um(e)=="symbol"?e:e+""}function C4e(t,e){if(Um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n4=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=s[h]>a?a:s[h];d="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*f[1])),d+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*f[3])),d+="Z"}else if(a>0&&s===+s&&s>0){var g=Math.min(a,s);d="M ".concat(e,",").concat(n+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*g,`
            L `).concat(e+r,",").concat(n+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*g," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},_4e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(s,s+o),d=Math.max(s,s+o),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=c&&r<=d&&i>=f&&i<=h}return!1},j4e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xP=function(e){var n=t4(t4({},j4e),e),r=S.useRef(),i=S.useState(-1),s=y4e(i,2),a=s[0],o=s[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&o(k)}catch{}},[]);var l=n.x,c=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,g=n.animationEasing,m=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var b=me("recharts-rectangle",p);return x?T.createElement(Ba,{canBegin:a>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:m,animationEasing:g,isActive:x},function(k){var w=k.width,C=k.height,_=k.x,j=k.y;return T.createElement(Ba,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,isActive:v,easing:g},T.createElement("path",Yx({},Be(n,!0),{className:b,d:n4(_,j,w,C,h),ref:r})))}):T.createElement("path",Yx({},Be(n,!0),{className:b,d:n4(l,c,d,f,h)}))};function qE(){return qE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qE.apply(this,arguments)}var bP=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=me("recharts-dot",s);return n===+n&&r===+r&&i===+i?S.createElement("circle",qE({},Be(e,!1),hx(e),{className:a,cx:n,cy:r,r:i})):null};function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}var E4e=["x","y","top","left","width","height","className"];function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(this,arguments)}function r4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N4e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(n),!0).forEach(function(r){T4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T4e(t,e,n){return e=O4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O4e(t){var e=P4e(t,"string");return Wm(e)=="symbol"?e:e+""}function P4e(t,e){if(Wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A4e(t,e){if(t==null)return{};var n=M4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var D4e=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},R4e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,g=e.className,m=A4e(e,E4e),y=N4e({x:r,y:s,top:o,left:c,width:f,height:p},m);return!ee(r)||!ee(s)||!ee(f)||!ee(p)||!ee(o)||!ee(c)?null:T.createElement("path",KE({},Be(y,!0),{className:me("recharts-cross",g),d:D4e(r,s,f,p,o,c)}))},I4e=G9,$4e=I4e(Object.getPrototypeOf,Object),L4e=$4e,B4e=Wa,F4e=L4e,z4e=Ha,V4e="[object Object]",U4e=Function.prototype,W4e=Object.prototype,LK=U4e.toString,H4e=W4e.hasOwnProperty,q4e=LK.call(Object);function K4e(t){if(!z4e(t)||B4e(t)!=V4e)return!1;var e=F4e(t);if(e===null)return!0;var n=H4e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&LK.call(n)==q4e}var Y4e=K4e;const G4e=tt(Y4e);var Q4e=Wa,X4e=Ha,J4e="[object Boolean]";function Z4e(t){return t===!0||t===!1||X4e(t)&&Q4e(t)==J4e}var eBe=Z4e;const tBe=tt(eBe);function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function Gx(){return Gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gx.apply(this,arguments)}function nBe(t,e){return aBe(t)||sBe(t,e)||iBe(t,e)||rBe()}function rBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iBe(t,e){if(t){if(typeof t=="string")return i4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i4(t,e)}}function i4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sBe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function aBe(t){if(Array.isArray(t))return t}function s4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s4(Object(n),!0).forEach(function(r){oBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oBe(t,e,n){return e=lBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lBe(t){var e=cBe(t,"string");return Hm(e)=="symbol"?e:e+""}function cBe(t,e){if(Hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o4=function(e,n,r,i,s){var a=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-a/2,",").concat(n+s),o+="L ".concat(e+r-a/2-i,",").concat(n+s),o+="L ".concat(e,",").concat(n," Z"),o},uBe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dBe=function(e){var n=a4(a4({},uBe),e),r=S.useRef(),i=S.useState(-1),s=nBe(i,2),a=s[0],o=s[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&o(b)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,g=n.animationEasing,m=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=me("recharts-trapezoid",p);return v?T.createElement(Ba,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:m,animationEasing:g,isActive:v},function(b){var k=b.upperWidth,w=b.lowerWidth,C=b.height,_=b.x,j=b.y;return T.createElement(Ba,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,easing:g},T.createElement("path",Gx({},Be(n,!0),{className:x,d:o4(_,j,k,w,C),ref:r})))}):T.createElement("g",null,T.createElement("path",Gx({},Be(n,!0),{className:x,d:o4(l,c,d,f,h)})))},fBe=["option","shapeType","propTransformer","activeClassName","isActive"];function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}function hBe(t,e){if(t==null)return{};var n=pBe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function l4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l4(Object(n),!0).forEach(function(r){mBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mBe(t,e,n){return e=gBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gBe(t){var e=yBe(t,"string");return qm(e)=="symbol"?e:e+""}function yBe(t,e){if(qm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vBe(t,e){return Qx(Qx({},e),t)}function xBe(t,e){return t==="symbols"}function c4(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return T.createElement(xP,n);case"trapezoid":return T.createElement(dBe,n);case"sector":return T.createElement(jK,n);case"symbols":if(xBe(e))return T.createElement(L2,n);break;default:return null}}function bBe(t){return S.isValidElement(t)?t.props:t}function wBe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?vBe:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=hBe(t,fBe),c;if(S.isValidElement(e))c=S.cloneElement(e,Qx(Qx({},l),bBe(e)));else if(Me(e))c=e(l);else if(G4e(e)&&!tBe(e)){var d=i(e,l);c=T.createElement(c4,{shapeType:n,elementProps:d})}else{var f=l;c=T.createElement(c4,{shapeType:n,elementProps:f})}return o?T.createElement(Ut,{className:a},c):c}function $1(t,e){return e!=null&&"trapezoids"in t.props}function L1(t,e){return e!=null&&"sectors"in t.props}function Km(t,e){return e!=null&&"points"in t.props}function SBe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function kBe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function CBe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function _Be(t,e){var n;return $1(t,e)?n=SBe:L1(t,e)?n=kBe:Km(t,e)&&(n=CBe),n}function jBe(t,e){var n;return $1(t,e)?n="trapezoids":L1(t,e)?n="sectors":Km(t,e)&&(n="points"),n}function EBe(t,e){if($1(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(L1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Km(t,e)?e.payload:{}}function NBe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=jBe(n,e),s=EBe(n,e),a=r.filter(function(l,c){var d=D1(s,l),f=n.props[i].filter(function(g){var m=_Be(n,e);return m(g,e)}),h=n.props[i].indexOf(f[f.length-1]),p=c===h;return d&&p}),o=r.indexOf(a[a.length-1]);return o}var TBe=Math.ceil,OBe=Math.max;function PBe(t,e,n,r){for(var i=-1,s=OBe(TBe((e-t)/(n||1)),0),a=Array(s);s--;)a[r?s:++i]=t,t+=n;return a}var ABe=PBe,MBe=pq,u4=1/0,DBe=17976931348623157e292;function RBe(t){if(!t)return t===0?t:0;if(t=MBe(t),t===u4||t===-u4){var e=t<0?-1:1;return e*DBe}return t===t?t:0}var BK=RBe,IBe=ABe,$Be=_1,eC=BK;function LBe(t){return function(e,n,r){return r&&typeof r!="number"&&$Be(e,n,r)&&(n=r=void 0),e=eC(e),n===void 0?(n=e,e=0):n=eC(n),r=r===void 0?e<n?1:-1:eC(r),IBe(e,n,r,t)}}var BBe=LBe,FBe=BBe,zBe=FBe(),VBe=zBe;const Xx=tt(VBe);function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}function d4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d4(Object(n),!0).forEach(function(r){FK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FK(t,e,n){return e=UBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UBe(t){var e=WBe(t,"string");return Ym(e)=="symbol"?e:e+""}function WBe(t,e){if(Ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HBe=["Webkit","Moz","O","ms"],qBe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=HBe.reduce(function(s,a){return f4(f4({},s),{},FK({},a+r,n))},{});return i[e]=n,i};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function Jx(){return Jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jx.apply(this,arguments)}function h4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(n),!0).forEach(function(r){Dr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VK(r.key),r)}}function YBe(t,e,n){return e&&p4(t.prototype,e),n&&p4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GBe(t,e,n){return e=Zx(e),QBe(t,zK()?Reflect.construct(e,n||[],Zx(t).constructor):e.apply(t,n))}function QBe(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XBe(t)}function XBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zK=function(){return!!t})()}function Zx(t){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zx(t)}function JBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YE(t,e)}function YE(t,e){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YE(t,e)}function Dr(t,e,n){return e=VK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VK(t){var e=ZBe(t,"string");return df(e)=="symbol"?e:e+""}function ZBe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eFe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=bp().domain(Xx(0,l)).range([s,s+a-o]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},m4=function(e){return e.changedTouches&&!!e.changedTouches.length},ff=function(t){function e(n){var r;return KBe(this,e),r=GBe(this,e,[n]),Dr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Dr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Dr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),Dr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Dr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Dr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Dr(r,"handleSlideDragStart",function(i){var s=m4(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return JBe(e,t),YBe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,d=c.length-1,f=Math.min(i,s),h=Math.max(i,s),p=e.getIndexInRange(a,f),g=e.getIndexInRange(a,h);return{startIndex:p-p%l,endIndex:g===d?d:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=Gr(s[r],o,r);return Me(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,m=r.pageX-s;m>0?m=Math.min(m,c+d-f-o,c+d-f-a):m<0&&(m=Math.max(m,c-a,c-o));var y=this.getIndex({startX:a+m,endX:o+m});(y.startIndex!==h||y.endIndex!==p)&&g&&g(y),this.setState({startX:a+m,endX:o+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=m4(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[a],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,y=d.data,v={startX:this.state.startX,endX:this.state.endX},x=r.pageX-s;x>0?x=Math.min(x,f+h-p-c):x<0&&(x=Math.max(x,f-c)),v[a]=c+x;var b=this.getIndex(v),k=b.startIndex,w=b.endIndex,C=function(){var j=y.length-1;return a==="startX"&&(o>l?k%m===0:w%m===0)||o<l&&w===j||a==="endX"&&(o>l?w%m===0:k%m===0)||o>l&&w===j};this.setState(Dr(Dr({},a,c+x),"brushMoveStartX",r.pageX),function(){g&&C()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,c=a.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Dr({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.fill,c=r.stroke;return T.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.data,c=r.children,d=r.padding,f=S.Children.only(c);return f?T.cloneElement(f,{x:i,y:s,width:a,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,y=l.endIndex,v=Math.max(r,this.props.x),x=tC(tC({},Be(this.props,!1)),{},{x:v,y:c,width:d,height:f}),b=p||"Min value: ".concat((s=g[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=g[y])===null||a===void 0?void 0:a.name);return T.createElement(Ut,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,c=s.travellerWidth,d=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return T.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:c};return T.createElement(Ut,{className:"recharts-brush-texts"},T.createElement(Nx,Jx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:a+o/2},g),this.getTextOfTick(i)),T.createElement(Nx,Jx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:a+o/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,l=r.y,c=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!ee(o)||!ee(l)||!ee(c)||!ee(d)||c<=0||d<=0)return null;var b=me("recharts-brush",s),k=T.Children.count(a)===1,w=qBe("userSelect","none");return T.createElement(Ut,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||y||v||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,l=r.stroke,c=Math.floor(s+o/2)-1;return T.createElement(T.Fragment,null,T.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),T.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),T.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return T.isValidElement(r)?s=T.cloneElement(r,i):Me(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,f=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return tC({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a},s&&s.length?eFe({data:s,width:a,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);r[l]>i?o=l:a=l}return i>=r[o]?o:a}}])}(S.PureComponent);Dr(ff,"displayName","Brush");Dr(ff,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var tFe=H2;function nFe(t,e){var n;return tFe(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var rFe=nFe,iFe=z9,sFe=Sl,aFe=rFe,oFe=Tr,lFe=_1;function cFe(t,e,n){var r=oFe(t)?iFe:aFe;return n&&lFe(t,e,n)&&(e=void 0),r(t,sFe(e))}var uFe=cFe;const dFe=tt(uFe);var zs=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},g4=cq;function fFe(t,e,n){e=="__proto__"&&g4?g4(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var hFe=fFe,pFe=hFe,mFe=oq,gFe=Sl;function yFe(t,e){var n={};return e=gFe(e),mFe(t,function(r,i,s){pFe(n,i,e(r,i,s))}),n}var vFe=yFe;const xFe=tt(vFe);function bFe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var wFe=bFe,SFe=H2;function kFe(t,e){var n=!0;return SFe(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var CFe=kFe,_Fe=wFe,jFe=CFe,EFe=Sl,NFe=Tr,TFe=_1;function OFe(t,e,n){var r=NFe(t)?_Fe:jFe;return n&&TFe(t,e,n)&&(e=void 0),r(t,EFe(e))}var PFe=OFe;const UK=tt(PFe);var AFe=["x","y"];function Gm(t){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(t)}function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(this,arguments)}function y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(n),!0).forEach(function(r){MFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MFe(t,e,n){return e=DFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DFe(t){var e=RFe(t,"string");return Gm(e)=="symbol"?e:e+""}function RFe(t,e){if(Gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IFe(t,e){if(t==null)return{};var n=$Fe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Fe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LFe(t,e){var n=t.x,r=t.y,i=IFe(t,AFe),s="".concat(n),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Bh(Bh(Bh(Bh(Bh({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function v4(t){return T.createElement(wBe,GE({shapeType:"rectangle",propTransformer:LFe,activeClassName:"recharts-active-bar"},t))}var BFe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=ee(r)||nke(r);return s?e(r,i):(s||Uc(),n)}},FFe=["value","background"],WK;function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function zFe(t,e){if(t==null)return{};var n=VFe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VFe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eb(){return eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eb.apply(this,arguments)}function x4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x4(Object(n),!0).forEach(function(r){Po(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qK(r.key),r)}}function WFe(t,e,n){return e&&b4(t.prototype,e),n&&b4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HFe(t,e,n){return e=tb(e),qFe(t,HK()?Reflect.construct(e,n||[],tb(t).constructor):e.apply(t,n))}function qFe(t,e){if(e&&(hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KFe(t)}function KFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HK=function(){return!!t})()}function tb(t){return tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tb(t)}function YFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QE(t,e)}function QE(t,e){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QE(t,e)}function Po(t,e,n){return e=qK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qK(t){var e=GFe(t,"string");return hf(e)=="symbol"?e:e+""}function GFe(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ou=function(t){function e(){var n;UFe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=HFe(this,e,[].concat(i)),Po(n,"state",{isAnimationFinished:!1}),Po(n,"id",Ag("recharts-bar-")),Po(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Po(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return YFe(e,t),WFe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,c=s.activeBar,d=Be(this.props,!1);return r&&r.map(function(f,h){var p=h===l,g=p?c:a,m=Xt(Xt(Xt({},d),f),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return T.createElement(Ut,eb({className:"recharts-bar-rectangle"},px(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),T.createElement(v4,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return T.createElement(Ba,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=s.map(function(y,v){var x=h&&h[v];if(x){var b=Zi(x.x,y.x),k=Zi(x.y,y.y),w=Zi(x.width,y.width),C=Zi(x.height,y.height);return Xt(Xt({},y),{},{x:b(g),y:k(g),width:w(g),height:C(g)})}if(a==="horizontal"){var _=Zi(0,y.height),j=_(g);return Xt(Xt({},y),{},{y:y.y+y.height-j,height:j})}var N=Zi(0,y.width),E=N(g);return Xt(Xt({},y),{},{width:E})});return T.createElement(Ut,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!D1(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=Be(this.props.background,!1);return s.map(function(c,d){c.value;var f=c.background,h=zFe(c,FFe);if(!f)return null;var p=Xt(Xt(Xt(Xt(Xt({},h),{},{fill:"#eee"},f),l),px(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return T.createElement(v4,eb({key:"background-bar-".concat(d),option:r.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,f=Si(d,Lg);if(!f)return null;var h=c==="vertical"?a[0].height/2:a[0].width/2,p=function(y,v){var x=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:x,errorVal:Gr(y,v)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return T.createElement(Ut,g,f.map(function(m){return T.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,o=r.xAxis,l=r.yAxis,c=r.left,d=r.top,f=r.width,h=r.height,p=r.isAnimationActive,g=r.background,m=r.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,v=me("recharts-bar",a),x=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,k=x||b,w=Re(m)?this.id:m;return T.createElement(Ut,{className:v},x||b?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(w)},T.createElement("rect",{x:x?c:c-f/2,y:b?d:d-h/2,width:x?f:f*2,height:b?h:h*2}))):null,T.createElement(Ut,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,w),(!p||y)&&Yo.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(S.PureComponent);WK=ou;Po(ou,"displayName","Bar");Po(ou,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ih.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Po(ou,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=_$e(r,n);if(!p)return null;var g=e.layout,m=n.type.defaultProps,y=m!==void 0?Xt(Xt({},m),n.props):n.props,v=y.dataKey,x=y.children,b=y.minPointSize,k=g==="horizontal"?a:s,w=c?k.scale.domain():null,C=M$e({numericAxis:k}),_=Si(x,yq),j=f.map(function(N,E){var P,O,D,A,M,$;c?P=j$e(c[d+E],w):(P=Gr(N,v),Array.isArray(P)||(P=[C,P]));var I=BFe(b,WK.defaultProps.minPointSize)(P[1],E);if(g==="horizontal"){var R,L=[a.scale(P[0]),a.scale(P[1])],B=L[0],W=L[1];O=x3({axis:s,ticks:o,bandSize:i,offset:p.offset,entry:N,index:E}),D=(R=W??B)!==null&&R!==void 0?R:void 0,A=p.size;var z=B-W;if(M=Number.isNaN(z)?0:z,$={x:O,y:a.y,width:A,height:a.height},Math.abs(I)>0&&Math.abs(M)<Math.abs(I)){var K=ns(M||I)*(Math.abs(I)-Math.abs(M));D-=K,M+=K}}else{var ie=[s.scale(P[0]),s.scale(P[1])],J=ie[0],ye=ie[1];if(O=J,D=x3({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:N,index:E}),A=ye-J,M=p.size,$={x:s.x,y:D,width:s.width,height:M},Math.abs(I)>0&&Math.abs(A)<Math.abs(I)){var Z=ns(A||I)*(Math.abs(I)-Math.abs(A));A+=Z}}return Xt(Xt(Xt({},N),{},{x:O,y:D,width:A,height:M,value:c?P:P[1],payload:N,background:$},_&&_[E]&&_[E].props),{},{tooltipPayload:[kK(n,N)],tooltipPosition:{x:O+A/2,y:D+M/2}})});return Xt({data:j,layout:g},h)});function Qm(t){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(t)}function QFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KK(r.key),r)}}function XFe(t,e,n){return e&&w4(t.prototype,e),n&&w4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function S4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S4(Object(n),!0).forEach(function(r){B1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B1(t,e,n){return e=KK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KK(t){var e=JFe(t,"string");return Qm(e)=="symbol"?e:e+""}function JFe(t,e){if(Qm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YK=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.layout,c=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!$r(c,ou);return d.reduce(function(p,g){var m=n[g],y=m.orientation,v=m.domain,x=m.padding,b=x===void 0?{}:x,k=m.mirror,w=m.reversed,C="".concat(y).concat(k?"Mirror":""),_,j,N,E,P;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=v[1]-v[0],D=1/0,A=m.categoricalDomain.sort(ske);if(A.forEach(function(ie,J){J>0&&(D=Math.min((ie||0)-(A[J-1]||0),D))}),Number.isFinite(D)){var M=D/O,$=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(_=M*$/2),m.padding==="no-gap"){var I=zc(e.barCategoryGap,M*$),R=M*$/2;_=R-I-(R-I)/$*I}}}i==="xAxis"?j=[r.left+(b.left||0)+(_||0),r.left+r.width-(b.right||0)-(_||0)]:i==="yAxis"?j=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(_||0),r.top+r.height-(b.bottom||0)-(_||0)]:j=m.range,w&&(j=[j[1],j[0]]);var L=k$e(m,s,h),B=L.scale,W=L.realScaleType;B.domain(v).range(j),C$e(B);var z=A$e(B,Qi(Qi({},m),{},{realScaleType:W}));i==="xAxis"?(P=y==="top"&&!k||y==="bottom"&&k,N=r.left,E=f[C]-P*m.height):i==="yAxis"&&(P=y==="left"&&!k||y==="right"&&k,N=f[C]-P*m.width,E=r.top);var K=Qi(Qi(Qi({},m),z),{},{realScaleType:W,x:N,y:E,scale:B,width:i==="xAxis"?r.width:m.width,height:i==="yAxis"?r.height:m.height});return K.bandSize=Vx(K,z),!m.hide&&i==="xAxis"?f[C]+=(P?-1:1)*K.height:m.hide||(f[C]+=(P?-1:1)*K.width),Qi(Qi({},p),{},B1({},g,K))},{})},GK=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},ZFe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return GK({x:n,y:r},{x:i,y:s})},QK=function(){function t(e){QFe(this,t),this.scale=e}return XFe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();B1(QK,"EPS",1e-4);var wP=function(e){var n=Object.keys(e).reduce(function(r,i){return Qi(Qi({},r),{},B1({},i,QK.create(e[i])))},{});return Qi(Qi({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return xFe(i,function(l,c){return n[c].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return UK(i,function(s,a){return n[a].isInRange(s)})}})};function e6e(t){return(t%180+180)%180}var t6e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=e6e(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},n6e=Sl,r6e=Mg,i6e=k1;function s6e(t){return function(e,n,r){var i=Object(e);if(!r6e(e)){var s=n6e(n);e=i6e(e),n=function(o){return s(i[o],o,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:void 0}}var a6e=s6e,o6e=BK;function l6e(t){var e=o6e(t),n=e%1;return e===e?n?e-n:e:0}var c6e=l6e,u6e=tq,d6e=Sl,f6e=c6e,h6e=Math.max;function p6e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:f6e(n);return i<0&&(i=h6e(r+i,0)),u6e(t,d6e(e),i)}var m6e=p6e,g6e=a6e,y6e=m6e,v6e=g6e(y6e),x6e=v6e;const b6e=tt(x6e);var w6e=lSe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),SP=S.createContext(void 0),kP=S.createContext(void 0),XK=S.createContext(void 0),JK=S.createContext({}),ZK=S.createContext(void 0),eY=S.createContext(0),tY=S.createContext(0),k4=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,d=w6e(s);return T.createElement(SP.Provider,{value:r},T.createElement(kP.Provider,{value:i},T.createElement(JK.Provider,{value:s},T.createElement(XK.Provider,{value:d},T.createElement(ZK.Provider,{value:a},T.createElement(eY.Provider,{value:c},T.createElement(tY.Provider,{value:l},o)))))))},S6e=function(){return S.useContext(ZK)},nY=function(e){var n=S.useContext(SP);n==null&&Uc();var r=n[e];return r==null&&Uc(),r},k6e=function(){var e=S.useContext(SP);return vo(e)},C6e=function(){var e=S.useContext(kP),n=b6e(e,function(r){return UK(r.domain,Number.isFinite)});return n||vo(e)},rY=function(e){var n=S.useContext(kP);n==null&&Uc();var r=n[e];return r==null&&Uc(),r},_6e=function(){var e=S.useContext(XK);return e},j6e=function(){return S.useContext(JK)},CP=function(){return S.useContext(tY)},_P=function(){return S.useContext(eY)};function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function E6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N6e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sY(r.key),r)}}function T6e(t,e,n){return e&&N6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function O6e(t,e,n){return e=nb(e),P6e(t,iY()?Reflect.construct(e,n||[],nb(t).constructor):e.apply(t,n))}function P6e(t,e){if(e&&(pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A6e(t)}function A6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iY=function(){return!!t})()}function nb(t){return nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nb(t)}function M6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XE(t,e)}function XE(t,e){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XE(t,e)}function C4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(n),!0).forEach(function(r){jP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jP(t,e,n){return e=sY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sY(t){var e=D6e(t,"string");return pf(e)=="symbol"?e:e+""}function D6e(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function R6e(t,e){return B6e(t)||L6e(t,e)||$6e(t,e)||I6e()}function I6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $6e(t,e){if(t){if(typeof t=="string")return j4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j4(t,e)}}function j4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function B6e(t){if(Array.isArray(t))return t}function JE(){return JE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JE.apply(this,arguments)}var F6e=function(e,n){var r;return T.isValidElement(e)?r=T.cloneElement(e,n):Me(e)?r=e(n):r=T.createElement("line",JE({},n,{className:"recharts-reference-line-line"})),r},z6e=function(e,n,r,i,s,a,o,l,c){var d=s.x,f=s.y,h=s.width,p=s.height;if(r){var g=c.y,m=e.y.apply(g,{position:a});if(zs(c,"discard")&&!e.y.isInRange(m))return null;var y=[{x:d+h,y:m},{x:d,y:m}];return l==="left"?y.reverse():y}if(n){var v=c.x,x=e.x.apply(v,{position:a});if(zs(c,"discard")&&!e.x.isInRange(x))return null;var b=[{x,y:f+p},{x,y:f}];return o==="top"?b.reverse():b}if(i){var k=c.segment,w=k.map(function(C){return e.apply(C,{position:a})});return zs(c,"discard")&&dFe(w,function(C){return!e.isInRange(C)})?null:w}return null};function V6e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,c=S6e(),d=nY(i),f=rY(s),h=_6e();if(!c||!h)return null;ka(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=wP({x:d.scale,y:f.scale}),g=un(e),m=un(n),y=r&&r.length===2,v=z6e(p,g,m,y,h,t.position,d.orientation,f.orientation,t);if(!v)return null;var x=R6e(v,2),b=x[0],k=b.x,w=b.y,C=x[1],_=C.x,j=C.y,N=zs(t,"hidden")?"url(#".concat(c,")"):void 0,E=_4(_4({clipPath:N},Be(t,!0)),{},{x1:k,y1:w,x2:_,y2:j});return T.createElement(Ut,{className:me("recharts-reference-line",o)},F6e(a,E),Hn.renderCallByParent(t,ZFe({x1:k,y1:w,x2:_,y2:j})))}var EP=function(t){function e(){return E6e(this,e),O6e(this,e,arguments)}return M6e(e,t),T6e(e,[{key:"render",value:function(){return T.createElement(V6e,this.props)}}])}(T.Component);jP(EP,"displayName","ReferenceLine");jP(EP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ZE(){return ZE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZE.apply(this,arguments)}function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function E4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E4(Object(n),!0).forEach(function(r){F1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W6e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oY(r.key),r)}}function H6e(t,e,n){return e&&W6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function q6e(t,e,n){return e=rb(e),K6e(t,aY()?Reflect.construct(e,n||[],rb(t).constructor):e.apply(t,n))}function K6e(t,e){if(e&&(mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y6e(t)}function Y6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aY=function(){return!!t})()}function rb(t){return rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rb(t)}function G6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eN(t,e)}function eN(t,e){return eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eN(t,e)}function F1(t,e,n){return e=oY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oY(t){var e=Q6e(t,"string");return mf(e)=="symbol"?e:e+""}function Q6e(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var X6e=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=wP({x:i.scale,y:s.scale}),o=a.apply({x:n,y:r},{bandAware:!0});return zs(e,"discard")&&!a.isInRange(o)?null:o},z1=function(t){function e(){return U6e(this,e),q6e(this,e,arguments)}return G6e(e,t),H6e(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,l=r.clipPathId,c=un(i),d=un(s);if(ka(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=X6e(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,y=g.className,v=zs(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=N4(N4({clipPath:v},Be(this.props,!0)),{},{cx:h,cy:p});return T.createElement(Ut,{className:me("recharts-reference-dot",y)},e.renderDot(m,x),Hn.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])}(T.Component);F1(z1,"displayName","ReferenceDot");F1(z1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});F1(z1,"renderDot",function(t,e){var n;return T.isValidElement(t)?n=T.cloneElement(t,e):Me(t)?n=t(e):n=T.createElement(bP,ZE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function tN(){return tN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tN.apply(this,arguments)}function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function T4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(n),!0).forEach(function(r){V1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z6e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cY(r.key),r)}}function e5e(t,e,n){return e&&Z6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t5e(t,e,n){return e=ib(e),n5e(t,lY()?Reflect.construct(e,n||[],ib(t).constructor):e.apply(t,n))}function n5e(t,e){if(e&&(gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r5e(t)}function r5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lY=function(){return!!t})()}function ib(t){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ib(t)}function i5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nN(t,e)}function nN(t,e){return nN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nN(t,e)}function V1(t,e,n){return e=cY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cY(t){var e=s5e(t,"string");return gf(e)=="symbol"?e:e+""}function s5e(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var a5e=function(e,n,r,i,s){var a=s.x1,o=s.x2,l=s.y1,c=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=wP({x:d.scale,y:f.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return zs(s,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:GK(p,g)},U1=function(t){function e(){return J6e(this,e),t5e(this,e,arguments)}return i5e(e,t),e5e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;ka(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=un(i),h=un(s),p=un(a),g=un(o),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var y=a5e(f,h,p,g,this.props);if(!y&&!m)return null;var v=zs(this.props,"hidden")?"url(#".concat(d,")"):void 0;return T.createElement(Ut,{className:me("recharts-reference-area",l)},e.renderRect(m,O4(O4({clipPath:v},Be(this.props,!0)),y)),Hn.renderCallByParent(this.props,y))}}])}(T.Component);V1(U1,"displayName","ReferenceArea");V1(U1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});V1(U1,"renderRect",function(t,e){var n;return T.isValidElement(t)?n=T.cloneElement(t,e):Me(t)?n=t(e):n=T.createElement(xP,tN({},e,{className:"recharts-reference-area-rect"})),n});function uY(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function o5e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return t6e(r,n)}function l5e(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function sb(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function c5e(t,e){return uY(t,e+1)}function u5e(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,o=e.end,l=0,c=1,d=a,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:uY(r,c)};var m=l,y,v=function(){return y===void 0&&(y=n(g,m)),y},x=g.coordinate,b=l===0||sb(t,x,v,d,o);b||(l=0,d=a,c+=1),b&&(d=x+t*(v()/2+i),l+=c)},h;c<=s.length;)if(h=f(),h)return h.v;return[]}function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}function P4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(n),!0).forEach(function(r){d5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d5e(t,e,n){return e=f5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f5e(t){var e=h5e(t,"string");return Xm(e)=="symbol"?e:e+""}function h5e(t,e){if(Xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p5e(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,o=e.start,l=e.end,c=function(h){var p=s[h],g,m=function(){return g===void 0&&(g=n(p,h)),g};if(h===a-1){var y=t*(p.coordinate+t*m()/2-l);s[h]=p=Bn(Bn({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else s[h]=p=Bn(Bn({},p),{},{tickCoord:p.coordinate});var v=sb(t,p.tickCoord,m,o,l);v&&(l=p.tickCoord-t*(m()/2+i),s[h]=Bn(Bn({},p),{},{isShow:!0}))},d=a-1;d>=0;d--)c(d);return s}function m5e(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end;if(s){var d=r[o-1],f=n(d,o-1),h=t*(d.coordinate+t*f/2-c);a[o-1]=d=Bn(Bn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=sb(t,d.tickCoord,function(){return f},l,c);p&&(c=d.tickCoord-t*(f/2+i),a[o-1]=Bn(Bn({},d),{},{isShow:!0}))}for(var g=s?o-1:o,m=function(x){var b=a[x],k,w=function(){return k===void 0&&(k=n(b,x)),k};if(x===0){var C=t*(b.coordinate-t*w()/2-l);a[x]=b=Bn(Bn({},b),{},{tickCoord:C<0?b.coordinate-C*t:b.coordinate})}else a[x]=b=Bn(Bn({},b),{},{tickCoord:b.coordinate});var _=sb(t,b.tickCoord,w,l,c);_&&(l=b.tickCoord+t*(w()/2+i),a[x]=Bn(Bn({},b),{},{isShow:!0}))},y=0;y<g;y++)m(y);return a}function NP(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ee(l)||ih.isSsr)return c5e(i,typeof l=="number"&&ee(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?xp(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(b,k){var w=Me(c)?c(b.value,k):b.value;return p==="width"?o5e(xp(w,{fontSize:e,letterSpacing:n}),g,f):xp(w,{fontSize:e,letterSpacing:n})[p]},y=i.length>=2?ns(i[1].coordinate-i[0].coordinate):1,v=l5e(s,y,p);return l==="equidistantPreserveStart"?u5e(y,v,m,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=m5e(y,v,m,i,a,l==="preserveStartEnd"):h=p5e(y,v,m,i,a),h.filter(function(x){return x.isShow}))}var g5e=["viewBox"],y5e=["viewBox"],v5e=["ticks"];function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function id(){return id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},id.apply(this,arguments)}function A4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(n),!0).forEach(function(r){TP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nC(t,e){if(t==null)return{};var n=x5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function x5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function b5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fY(r.key),r)}}function w5e(t,e,n){return e&&M4(t.prototype,e),n&&M4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function S5e(t,e,n){return e=ab(e),k5e(t,dY()?Reflect.construct(e,n||[],ab(t).constructor):e.apply(t,n))}function k5e(t,e){if(e&&(yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C5e(t)}function C5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dY=function(){return!!t})()}function ab(t){return ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ab(t)}function _5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rN(t,e)}function rN(t,e){return rN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rN(t,e)}function TP(t,e,n){return e=fY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fY(t){var e=j5e(t,"string");return yf(e)=="symbol"?e:e+""}function j5e(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lh=function(t){function e(n){var r;return b5e(this,e),r=S5e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return _5e(e,t),w5e(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=nC(r,g5e),o=this.props,l=o.viewBox,c=nC(o,y5e);return!wd(s,l)||!wd(a,c)||!wd(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,g,m,y,v,x,b=f?-1:1,k=r.tickSize||d,w=ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=g=r.coordinate,y=a+ +!f*l,m=y-b*k,x=m-b*h,v=w;break;case"left":m=y=r.coordinate,g=s+ +!f*o,p=g-b*k,v=p-b*h,x=w;break;case"right":m=y=r.coordinate,g=s+ +f*o,p=g+b*k,v=p+b*h,x=w;break;default:p=g=r.coordinate,y=a+ +f*l,m=y+b*k,x=m+b*h,v=w;break}return{line:{x1:p,y1:m,x2:g,y2:y},tick:{x:v,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,f=sn(sn(sn({},Be(this.props,!1)),Be(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=sn(sn({},f),{},{x1:i,y1:s+h*o,x2:i+a,y2:s+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=sn(sn({},f),{},{x1:i+p*a,y1:s,x2:i+p*a,y2:s+o})}return T.createElement("line",id({},f,{className:me("recharts-cartesian-axis-line",wi(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,o=this.props,l=o.tickLine,c=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=NP(sn(sn({},this.props),{},{ticks:r}),i,s),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),y=Be(this.props,!1),v=Be(d,!1),x=sn(sn({},y),{},{fill:"none"},Be(l,!1)),b=p.map(function(k,w){var C=a.getTickLineCoord(k),_=C.line,j=C.tick,N=sn(sn(sn(sn({textAnchor:g,verticalAnchor:m},y),{},{stroke:"none",fill:c},v),j),{},{index:w,payload:k,visibleTicksCount:p.length,tickFormatter:f});return T.createElement(Ut,id({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},px(a.props,k,w)),l&&T.createElement("line",id({},x,_,{className:me("recharts-cartesian-axis-tick-line",wi(l,"className"))})),d&&e.renderTickItem(d,N,"".concat(Me(f)?f(k.value,w):k.value).concat(h||"")))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=nC(f,v5e),g=h;return Me(l)&&(g=h&&h.length>0?l(this.props):l(p)),a<=0||o<=0||!g||!g.length?null:T.createElement(Ut,{className:me("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Hn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a,o=me(i.className,"recharts-cartesian-axis-tick-value");return T.isValidElement(r)?a=T.cloneElement(r,sn(sn({},i),{},{className:o})):Me(r)?a=r(sn(sn({},i),{},{className:o})):a=T.createElement(Nx,id({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(S.Component);TP(lh,"displayName","CartesianAxis");TP(lh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var E5e=["x1","y1","x2","y2","key"],N5e=["offset"];function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function D4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(n),!0).forEach(function(r){T5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T5e(t,e,n){return e=O5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O5e(t){var e=P5e(t,"string");return Wc(e)=="symbol"?e:e+""}function P5e(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(this,arguments)}function R4(t,e){if(t==null)return{};var n=A5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var M5e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return T.createElement("rect",{x:i,y:s,ry:l,width:a,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function hY(t,e){var n;if(T.isValidElement(t))n=T.cloneElement(t,e);else if(Me(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,l=R4(e,E5e),c=Be(l,!1);c.offset;var d=R4(c,N5e);n=T.createElement("line",oc({},d,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function D5e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=qn(qn({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return hY(i,c)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function R5e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=qn(qn({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return hY(i,c)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function I5e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?i+a-h:d[p+1]-h;if(m<=0)return null;var y=p%e.length;return T.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:m,width:s,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function $5e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?s+o-h:d[p+1]-h;if(m<=0)return null;var y=p%r.length;return T.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:m,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var L5e=function(e,n){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return wK(NP(qn(qn(qn({},lh.defaultProps),r),{},{ticks:ma(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},B5e=function(e,n){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return wK(NP(qn(qn(qn({},lh.defaultProps),r),{},{ticks:ma(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},Eu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function OP(t){var e,n,r,i,s,a,o=CP(),l=_P(),c=j6e(),d=qn(qn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Eu.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Eu.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Eu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Eu.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Eu.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Eu.verticalFill,x:ee(t.x)?t.x:c.left,y:ee(t.y)?t.y:c.top,width:ee(t.width)?t.width:c.width,height:ee(t.height)?t.height:c.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,x=k6e(),b=C6e();if(!ee(p)||p<=0||!ee(g)||g<=0||!ee(f)||f!==+f||!ee(h)||h!==+h)return null;var k=d.verticalCoordinatesGenerator||L5e,w=d.horizontalCoordinatesGenerator||B5e,C=d.horizontalPoints,_=d.verticalPoints;if((!C||!C.length)&&Me(w)){var j=y&&y.length,N=w({yAxis:b?qn(qn({},b),{},{ticks:j?y:b.ticks}):void 0,width:o,height:l,offset:c},j?!0:m);ka(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Wc(N),"]")),Array.isArray(N)&&(C=N)}if((!_||!_.length)&&Me(k)){var E=v&&v.length,P=k({xAxis:x?qn(qn({},x),{},{ticks:E?v:x.ticks}):void 0,width:o,height:l,offset:c},E?!0:m);ka(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Wc(P),"]")),Array.isArray(P)&&(_=P)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(M5e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),T.createElement(D5e,oc({},d,{offset:c,horizontalPoints:C,xAxis:x,yAxis:b})),T.createElement(R5e,oc({},d,{offset:c,verticalPoints:_,xAxis:x,yAxis:b})),T.createElement(I5e,oc({},d,{horizontalPoints:C})),T.createElement($5e,oc({},d,{verticalPoints:_})))}OP.displayName="CartesianGrid";var F5e=["type","layout","connectNulls","ref"],z5e=["key"];function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function I4(t,e){if(t==null)return{};var n=V5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function V5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kp(){return kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kp.apply(this,arguments)}function $4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(n),!0).forEach(function(r){Xi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nu(t){return q5e(t)||H5e(t)||W5e(t)||U5e()}function U5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W5e(t,e){if(t){if(typeof t=="string")return iN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iN(t,e)}}function H5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function q5e(t){if(Array.isArray(t))return iN(t)}function iN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mY(r.key),r)}}function Y5e(t,e,n){return e&&L4(t.prototype,e),n&&L4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function G5e(t,e,n){return e=ob(e),Q5e(t,pY()?Reflect.construct(e,n||[],ob(t).constructor):e.apply(t,n))}function Q5e(t,e){if(e&&(vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X5e(t)}function X5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pY=function(){return!!t})()}function ob(t){return ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ob(t)}function J5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sN(t,e)}function sN(t,e){return sN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sN(t,e)}function Xi(t,e,n){return e=mY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mY(t){var e=Z5e(t,"string");return vf(e)=="symbol"?e:e+""}function Z5e(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bg=function(t){function e(){var n;K5e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=G5e(this,e,[].concat(i)),Xi(n,"state",{isAnimationFinished:!0,totalLength:0}),Xi(n,"generateSimpleStrokeDasharray",function(a,o){return"".concat(o,"px ").concat(a-o,"px")}),Xi(n,"getStrokeDasharray",function(a,o,l){var c=l.reduce(function(v,x){return v+x});if(!c)return n.generateSimpleStrokeDasharray(o,a);for(var d=Math.floor(a/c),f=a%c,h=o-a,p=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>f){p=[].concat(Nu(l.slice(0,g)),[f-m]);break}var y=p.length%2===0?[0,h]:[h];return[].concat(Nu(e.repeat(l,d)),Nu(p),y).map(function(v){return"".concat(v,"px")}).join(", ")}),Xi(n,"id",Ag("recharts-line-")),Xi(n,"pathRef",function(a){n.mainCurve=a}),Xi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Xi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return J5e(e,t),Y5e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,o=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,f=Si(d,Lg);if(!f)return null;var h=function(m,y){return{x:m.x,y:m.y,value:m.value,errorVal:Gr(m.payload,y)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return T.createElement(Ut,p,f.map(function(g){return T.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,d=o.dataKey,f=Be(this.props,!1),h=Be(l,!0),p=c.map(function(m,y){var v=Mr(Mr(Mr({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:c});return e.renderDotItem(l,v)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return T.createElement(Ut,kp({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(r,i,s,a){var o=this.props,l=o.type,c=o.layout,d=o.connectNulls;o.ref;var f=I4(o,F5e),h=Mr(Mr(Mr({},Be(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:d});return T.createElement(IE,kp({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,l=a.strokeDasharray,c=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,p=a.animationId,g=a.animateNewValues,m=a.width,y=a.height,v=this.state,x=v.prevPoints,b=v.totalLength;return T.createElement(Ba,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var w=k.t;if(x){var C=x.length/o.length,_=o.map(function(O,D){var A=Math.floor(D*C);if(x[A]){var M=x[A],$=Zi(M.x,O.x),I=Zi(M.y,O.y);return Mr(Mr({},O),{},{x:$(w),y:I(w)})}if(g){var R=Zi(m*2,O.x),L=Zi(y/2,O.y);return Mr(Mr({},O),{},{x:R(w),y:L(w)})}return Mr(Mr({},O),{},{x:O.x,y:O.y})});return s.renderCurveStatically(_,r,i)}var j=Zi(0,b),N=j(w),E;if(l){var P="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});E=s.getStrokeDasharray(N,b,P)}else E=s.generateSimpleStrokeDasharray(b,N);return s.renderCurveStatically(o,r,i,{strokeDasharray:E})})}},{key:"renderCurve",value:function(r,i){var s=this.props,a=s.points,o=s.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return o&&a&&a.length&&(!c&&d>0||!D1(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,g=i.height,m=i.isAnimationActive,y=i.id;if(s||!o||!o.length)return null;var v=this.state.isAnimationFinished,x=o.length===1,b=me("recharts-line",l),k=c&&c.allowDataOverflow,w=d&&d.allowDataOverflow,C=k||w,_=Re(y)?this.id:y,j=(r=Be(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=j.r,E=N===void 0?3:N,P=j.strokeWidth,O=P===void 0?2:P,D=pke(a)?a:{},A=D.clipDot,M=A===void 0?!0:A,$=E*2+O;return T.createElement(Ut,{className:b},k||w?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(_)},T.createElement("rect",{x:k?h:h-p/2,y:w?f:f-g/2,width:k?p:p*2,height:w?g:g*2})),!M&&T.createElement("clipPath",{id:"clipPath-dots-".concat(_)},T.createElement("rect",{x:h-$/2,y:f-$/2,width:p+$,height:g+$}))):null,!x&&this.renderCurve(C,_),this.renderErrorBar(C,_),(x||a)&&this.renderDots(C,M,_),(!m||v)&&Yo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(Nu(r),[0]):r,a=[],o=0;o<i;++o)a=[].concat(Nu(a),Nu(s));return a}},{key:"renderDotItem",value:function(r,i){var s;if(T.isValidElement(r))s=T.cloneElement(r,i);else if(Me(r))s=r(i);else{var a=i.key,o=I4(i,z5e),l=me("recharts-line-dot",typeof r!="boolean"?r.className:"");s=T.createElement(bP,kp({key:a},o,{className:l}))}return s}}])}(S.PureComponent);Xi(Bg,"displayName","Line");Xi(Bg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ih.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Xi(Bg,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,f=l.map(function(h,p){var g=Gr(h,a);return d==="horizontal"?{x:v3({axis:n,ticks:i,bandSize:o,entry:h,index:p}),y:Re(g)?null:r.scale(g),value:g,payload:h}:{x:Re(g)?null:n.scale(g),y:v3({axis:r,ticks:s,bandSize:o,entry:h,index:p}),value:g,payload:h}});return Mr({points:f,layout:d},c)});function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function e8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vY(r.key),r)}}function n8e(t,e,n){return e&&t8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r8e(t,e,n){return e=lb(e),i8e(t,gY()?Reflect.construct(e,n||[],lb(t).constructor):e.apply(t,n))}function i8e(t,e){if(e&&(xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s8e(t)}function s8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gY=function(){return!!t})()}function lb(t){return lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lb(t)}function a8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aN(t,e)}function aN(t,e){return aN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aN(t,e)}function yY(t,e,n){return e=vY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vY(t){var e=o8e(t,"string");return xf(e)=="symbol"?e:e+""}function o8e(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function oN(){return oN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oN.apply(this,arguments)}function l8e(t){var e=t.xAxisId,n=CP(),r=_P(),i=nY(e);return i==null?null:S.createElement(lh,oN({},i,{className:me("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return ma(a,!0)}}))}var ch=function(t){function e(){return e8e(this,e),r8e(this,e,arguments)}return a8e(e,t),n8e(e,[{key:"render",value:function(){return S.createElement(l8e,this.props)}}])}(S.Component);yY(ch,"displayName","XAxis");yY(ch,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function c8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wY(r.key),r)}}function d8e(t,e,n){return e&&u8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function f8e(t,e,n){return e=cb(e),h8e(t,xY()?Reflect.construct(e,n||[],cb(t).constructor):e.apply(t,n))}function h8e(t,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p8e(t)}function p8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xY=function(){return!!t})()}function cb(t){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cb(t)}function m8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lN(t,e)}function lN(t,e){return lN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lN(t,e)}function bY(t,e,n){return e=wY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wY(t){var e=g8e(t,"string");return bf(e)=="symbol"?e:e+""}function g8e(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cN(){return cN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cN.apply(this,arguments)}var y8e=function(e){var n=e.yAxisId,r=CP(),i=_P(),s=rY(n);return s==null?null:S.createElement(lh,cN({},s,{className:me("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return ma(o,!0)}}))},uh=function(t){function e(){return c8e(this,e),f8e(this,e,arguments)}return m8e(e,t),d8e(e,[{key:"render",value:function(){return S.createElement(y8e,this.props)}}])}(S.Component);bY(uh,"displayName","YAxis");bY(uh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function B4(t){return w8e(t)||b8e(t)||x8e(t)||v8e()}function v8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x8e(t,e){if(t){if(typeof t=="string")return uN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uN(t,e)}}function b8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w8e(t){if(Array.isArray(t))return uN(t)}function uN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dN=function(e,n,r,i,s){var a=Si(e,EP),o=Si(e,z1),l=[].concat(B4(a),B4(o)),c=Si(e,U1),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(m,y){if(y.props[d]===r&&zs(y.props,"extendDomain")&&ee(y.props[f])){var v=y.props[f];return[Math.min(m[0],v),Math.max(m[1],v)]}return m},h)),c.length){var p="".concat(f,"1"),g="".concat(f,"2");h=c.reduce(function(m,y){if(y.props[d]===r&&zs(y.props,"extendDomain")&&ee(y.props[p])&&ee(y.props[g])){var v=y.props[p],x=y.props[g];return[Math.min(m[0],v,x),Math.max(m[1],v,x)]}return m},h)}return s&&s.length&&(h=s.reduce(function(m,y){return ee(y)?[Math.min(m[0],y),Math.max(m[1],y)]:m},h)),h},SY={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,p,g){var m=n?n+c:c;if(!this._events[m])return!1;var y=this._events[m],v=arguments.length,x,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,p),!0;case 6:return y.fn.call(y.context,d,f,h,p,g),!0}for(b=1,x=new Array(v-1);b<v;b++)x[b-1]=arguments[b];y.fn.apply(y.context,x)}else{var k=y.length,w;for(b=0;b<k;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),v){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,h);break;default:if(!x)for(w=1,x=new Array(v-1);w<v;w++)x[w-1]=arguments[w];y[b].fn.apply(y[b].context,x)}}return!0},o.prototype.on=function(c,d,f){return s(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return s(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var p=n?n+c:c;if(!this._events[p])return this;if(!d)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&a(this,p);else{for(var m=0,y=[],v=g.length;m<v;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&y.push(g[m]);y.length?this._events[p]=y.length===1?y[0]:y:a(this,p)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(SY);var S8e=SY.exports;const k8e=tt(S8e);var rC=new k8e,iC="recharts.syncMouseEvents";function Jm(t){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(t)}function C8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kY(r.key),r)}}function j8e(t,e,n){return e&&_8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sC(t,e,n){return e=kY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kY(t){var e=E8e(t,"string");return Jm(e)=="symbol"?e:e+""}function E8e(t,e){if(Jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var N8e=function(){function t(){C8e(this,t),sC(this,"activeIndex",0),sC(this,"coordinateList",[]),sC(this,"layout","horizontal")}return j8e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,o=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+l+c,h=a+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function T8e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ee(r)&&ee(i))return!0}return!1}function O8e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function CY(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=Pn(e,n,r,i),o=Pn(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function P8e(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,h=Pn(o,l,c,f),p=Pn(o,l,d,f);r=h.x,i=h.y,s=p.x,a=p.y}else return CY(e);return[{x:r,y:i},{x:s,y:a}]}function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function F4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function av(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(n),!0).forEach(function(r){A8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A8e(t,e,n){return e=M8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M8e(t){var e=D8e(t,"string");return Zm(e)=="symbol"?e:e+""}function D8e(t,e){if(Zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R8e(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!s||!a||h!=="ScatterChart"&&i!=="axis")return null;var g,m=IE;if(h==="ScatterChart")g=a,m=R4e;else if(h==="BarChart")g=O8e(f,a,l,d),m=xP;else if(f==="radial"){var y=CY(a),v=y.cx,x=y.cy,b=y.radius,k=y.startAngle,w=y.endAngle;g={cx:v,cy:x,startAngle:k,endAngle:w,innerRadius:b,outerRadius:b},m=jK}else g={points:P8e(f,a,l)},m=IE;var C=av(av(av(av({stroke:"#ccc",pointerEvents:"none"},l),g),Be(p,!1)),{},{payload:o,payloadIndex:c,className:me("recharts-tooltip-cursor",p.className)});return S.isValidElement(p)?S.cloneElement(p,C):S.createElement(m,C)}var I8e=["item"],$8e=["children","className","width","height","style","compact","title","desc"];function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sd.apply(this,arguments)}function z4(t,e){return F8e(t)||B8e(t,e)||jY(t,e)||L8e()}function L8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function F8e(t){if(Array.isArray(t))return t}function V4(t,e){if(t==null)return{};var n=z8e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function V8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EY(r.key),r)}}function W8e(t,e,n){return e&&U8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H8e(t,e,n){return e=ub(e),q8e(t,_Y()?Reflect.construct(e,n||[],ub(t).constructor):e.apply(t,n))}function q8e(t,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K8e(t)}function K8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _Y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_Y=function(){return!!t})()}function ub(t){return ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ub(t)}function Y8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fN(t,e)}function fN(t,e){return fN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fN(t,e)}function Sf(t){return X8e(t)||Q8e(t)||jY(t)||G8e()}function G8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jY(t,e){if(t){if(typeof t=="string")return hN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hN(t,e)}}function Q8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X8e(t){if(Array.isArray(t))return hN(t)}function hN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U4(Object(n),!0).forEach(function(r){ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ve(t,e,n){return e=EY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EY(t){var e=J8e(t,"string");return wf(e)=="symbol"?e:e+""}function J8e(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z8e={xAxis:["bottom","top"],yAxis:["left","right"]},eze={width:"100%",height:"100%"},NY={x:0,y:0};function ov(t){return t}var tze=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},nze=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return V(V(V({},i),Pn(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,c=i.angle;return V(V(V({},i),Pn(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return NY},W1=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Sf(o),Sf(c)):o},[]);return a.length>0?a:e&&e.length&&ee(i)&&ee(s)?e.slice(i,s+1):[]};function TY(t){return t==="number"?[0,"auto"]:void 0}var pN=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,o=W1(n,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?o:f;h=fx(p,a.dataKey,i)}else h=f&&f[r]||o[r];return h?[].concat(Sf(l),[kK(c,h)]):l},[])},W4=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=tze(s,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=y$e(a,o,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=pN(e,n,d,f),p=nze(r,o,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},rze=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=bK(d,s);return r.reduce(function(g,m){var y,v=m.type.defaultProps!==void 0?V(V({},m.type.defaultProps),m.props):m.props,x=v.type,b=v.dataKey,k=v.allowDataOverflow,w=v.allowDuplicatedCategory,C=v.scale,_=v.ticks,j=v.includeHidden,N=v[a];if(g[N])return g;var E=W1(e.data,{graphicalItems:i.filter(function(z){var K,ie=a in z.props?z.props[a]:(K=z.type.defaultProps)===null||K===void 0?void 0:K[a];return ie===N}),dataStartIndex:l,dataEndIndex:c}),P=E.length,O,D,A;T8e(v.domain,k,x)&&(O=PE(v.domain,null,k),p&&(x==="number"||C!=="auto")&&(A=wp(E,b,"category")));var M=TY(x);if(!O||O.length===0){var $,I=($=v.domain)!==null&&$!==void 0?$:M;if(b){if(O=wp(E,b,x),x==="category"&&p){var R=ike(O);w&&R?(D=O,O=Xx(0,P)):w||(O=S3(I,O,m).reduce(function(z,K){return z.indexOf(K)>=0?z:[].concat(Sf(z),[K])},[]))}else if(x==="category")w?O=O.filter(function(z){return z!==""&&!Re(z)}):O=S3(I,O,m).reduce(function(z,K){return z.indexOf(K)>=0||K===""||Re(K)?z:[].concat(Sf(z),[K])},[]);else if(x==="number"){var L=S$e(E,i.filter(function(z){var K,ie,J=a in z.props?z.props[a]:(K=z.type.defaultProps)===null||K===void 0?void 0:K[a],ye="hide"in z.props?z.props.hide:(ie=z.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return J===N&&(j||!ye)}),b,s,d);L&&(O=L)}p&&(x==="number"||C!=="auto")&&(A=wp(E,b,"category"))}else p?O=Xx(0,P):o&&o[N]&&o[N].hasStack&&x==="number"?O=h==="expand"?[0,1]:SK(o[N].stackGroups,l,c):O=xK(E,i.filter(function(z){var K=a in z.props?z.props[a]:z.type.defaultProps[a],ie="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return K===N&&(j||!ie)}),x,d,!0);if(x==="number")O=dN(f,O,N,s,_),I&&(O=PE(I,O,k));else if(x==="category"&&I){var B=I,W=O.every(function(z){return B.indexOf(z)>=0});W&&(O=B)}}return V(V({},g),{},ve({},N,V(V({},v),{},{axisType:s,domain:O,categoricalDomain:A,duplicateDomain:D,originalDomain:(y=v.domain)!==null&&y!==void 0?y:M,isCategorical:p,layout:d})))},{})},ize=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=W1(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=bK(d,s),m=-1;return r.reduce(function(y,v){var x=v.type.defaultProps!==void 0?V(V({},v.type.defaultProps),v.props):v.props,b=x[a],k=TY("number");if(!y[b]){m++;var w;return g?w=Xx(0,p):o&&o[b]&&o[b].hasStack?(w=SK(o[b].stackGroups,l,c),w=dN(f,w,b,s)):(w=PE(k,xK(h,r.filter(function(C){var _,j,N=a in C.props?C.props[a]:(_=C.type.defaultProps)===null||_===void 0?void 0:_[a],E="hide"in C.props?C.props.hide:(j=C.type.defaultProps)===null||j===void 0?void 0:j.hide;return N===b&&!E}),"number",d),i.defaultProps.allowDataOverflow),w=dN(f,w,b,s)),V(V({},y),{},ve({},b,V(V({axisType:s},i.defaultProps),{},{hide:!0,orientation:wi(Z8e,"".concat(s,".").concat(m%2),null),domain:w,originalDomain:k,isCategorical:g,layout:d})))}return y},{})},sze=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Si(d,s),p={};return h&&h.length?p=rze(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(p=ize(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},aze=function(e){var n=vo(e),r=ma(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:q2(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Vx(n,r)}},H4=function(e){var n=e.children,r=e.defaultShowTooltip,i=$r(n,ff),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},oze=function(e){return!e||!e.length?!1:e.some(function(n){var r=Sa(n&&n.type);return r&&r.indexOf("Bar")>=0})},q4=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},lze=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,d=r.height,f=r.children,h=r.margin||{},p=$r(f,ff),g=$r(f,Sd),m=Object.keys(l).reduce(function(w,C){var _=l[C],j=_.orientation;return!_.mirror&&!_.hide?V(V({},w),{},ve({},j,w[j]+_.width)):w},{left:h.left||0,right:h.right||0}),y=Object.keys(a).reduce(function(w,C){var _=a[C],j=_.orientation;return!_.mirror&&!_.hide?V(V({},w),{},ve({},j,wi(w,"".concat(j))+_.height)):w},{top:h.top||0,bottom:h.bottom||0}),v=V(V({},y),m),x=v.bottom;p&&(v.bottom+=p.props.height||ff.defaultProps.height),g&&n&&(v=b$e(v,i,r,n));var b=c-v.left-v.right,k=d-v.top-v.bottom;return V(V({brushBottom:x},v),{},{width:Math.max(b,0),height:Math.max(k,0)})},cze=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},OY=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(v,x){var b=x.graphicalItems,k=x.stackGroups,w=x.offset,C=x.updateId,_=x.dataStartIndex,j=x.dataEndIndex,N=v.barSize,E=v.layout,P=v.barGap,O=v.barCategoryGap,D=v.maxBarSize,A=q4(E),M=A.numericAxisName,$=A.cateAxisName,I=oze(b),R=[];return b.forEach(function(L,B){var W=W1(v.data,{graphicalItems:[L],dataStartIndex:_,dataEndIndex:j}),z=L.type.defaultProps!==void 0?V(V({},L.type.defaultProps),L.props):L.props,K=z.dataKey,ie=z.maxBarSize,J=z["".concat(M,"Id")],ye=z["".concat($,"Id")],Z={},_e=l.reduce(function(Ar,ms){var Pi=x["".concat(ms.axisType,"Map")],Wg=z["".concat(ms.axisType,"Id")];Pi&&Pi[Wg]||ms.axisType==="zAxis"||Uc();var Hg=Pi[Wg];return V(V({},Ar),{},ve(ve({},ms.axisType,Hg),"".concat(ms.axisType,"Ticks"),ma(Hg)))},Z),Y=_e[$],re=_e["".concat($,"Ticks")],ne=k&&k[J]&&k[J].hasStack&&D$e(L,k[J].stackGroups),F=Sa(L.type).indexOf("Bar")>=0,Pe=Vx(Y,re),Se=[],ot=I&&v$e({barSize:N,stackGroups:k,totalSize:cze(_e,$)});if(F){var rt,Dt,hr=Re(ie)?D:ie,Pr=(rt=(Dt=Vx(Y,re,!0))!==null&&Dt!==void 0?Dt:hr)!==null&&rt!==void 0?rt:0;Se=x$e({barGap:P,barCategoryGap:O,bandSize:Pr!==Pe?Pr:Pe,sizeList:ot[ye],maxBarSize:hr}),Pr!==Pe&&(Se=Se.map(function(Ar){return V(V({},Ar),{},{position:V(V({},Ar.position),{},{offset:Ar.position.offset-Pr/2})})}))}var Nl=L&&L.type&&L.type.getComposedData;Nl&&R.push({props:V(V({},Nl(V(V({},_e),{},{displayedData:W,props:v,dataKey:K,item:L,bandSize:Pe,barPosition:Se,offset:w,stackedData:ne,layout:E,dataStartIndex:_,dataEndIndex:j}))),{},ve(ve(ve({key:L.key||"item-".concat(B)},M,_e[M]),$,_e[$]),"animationId",C)),childIndex:yke(L,v.children),item:L})}),R},p=function(v,x){var b=v.props,k=v.dataStartIndex,w=v.dataEndIndex,C=v.updateId;if(!m$({props:b}))return null;var _=b.children,j=b.layout,N=b.stackOffset,E=b.data,P=b.reverseStackOrder,O=q4(j),D=O.numericAxisName,A=O.cateAxisName,M=Si(_,r),$=P$e(E,M,"".concat(D,"Id"),"".concat(A,"Id"),N,P),I=l.reduce(function(z,K){var ie="".concat(K.axisType,"Map");return V(V({},z),{},ve({},ie,sze(b,V(V({},K),{},{graphicalItems:M,stackGroups:K.axisType===D&&$,dataStartIndex:k,dataEndIndex:w}))))},{}),R=lze(V(V({},I),{},{props:b,graphicalItems:M}),x==null?void 0:x.legendBBox);Object.keys(I).forEach(function(z){I[z]=d(b,I[z],R,z.replace("Map",""),n)});var L=I["".concat(A,"Map")],B=aze(L),W=h(b,V(V({},I),{},{dataStartIndex:k,dataEndIndex:w,updateId:C,graphicalItems:M,stackGroups:$,offset:R}));return V(V({formattedGraphicalItems:W,graphicalItems:M,offset:R,stackGroups:$},B),I)},g=function(y){function v(x){var b,k,w;return V8e(this,v),w=H8e(this,v,[x]),ve(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ve(w,"accessibilityManager",new N8e),ve(w,"handleLegendBBoxUpdate",function(C){if(C){var _=w.state,j=_.dataStartIndex,N=_.dataEndIndex,E=_.updateId;w.setState(V({legendBBox:C},p({props:w.props,dataStartIndex:j,dataEndIndex:N,updateId:E},V(V({},w.state),{},{legendBBox:C}))))}}),ve(w,"handleReceiveSyncEvent",function(C,_,j){if(w.props.syncId===C){if(j===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(_)}}),ve(w,"handleBrushChange",function(C){var _=C.startIndex,j=C.endIndex;if(_!==w.state.dataStartIndex||j!==w.state.dataEndIndex){var N=w.state.updateId;w.setState(function(){return V({dataStartIndex:_,dataEndIndex:j},p({props:w.props,dataStartIndex:_,dataEndIndex:j,updateId:N},w.state))}),w.triggerSyncEvent({dataStartIndex:_,dataEndIndex:j})}}),ve(w,"handleMouseEnter",function(C){var _=w.getMouseInfo(C);if(_){var j=V(V({},_),{},{isTooltipActive:!0});w.setState(j),w.triggerSyncEvent(j);var N=w.props.onMouseEnter;Me(N)&&N(j,C)}}),ve(w,"triggeredAfterMouseMove",function(C){var _=w.getMouseInfo(C),j=_?V(V({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var N=w.props.onMouseMove;Me(N)&&N(j,C)}),ve(w,"handleItemMouseEnter",function(C){w.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),ve(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),ve(w,"handleMouseMove",function(C){C.persist(),w.throttleTriggeredAfterMouseMove(C)}),ve(w,"handleMouseLeave",function(C){w.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};w.setState(_),w.triggerSyncEvent(_);var j=w.props.onMouseLeave;Me(j)&&j(_,C)}),ve(w,"handleOuterEvent",function(C){var _=gke(C),j=wi(w.props,"".concat(_));if(_&&Me(j)){var N,E;/.*touch.*/i.test(_)?E=w.getMouseInfo(C.changedTouches[0]):E=w.getMouseInfo(C),j((N=E)!==null&&N!==void 0?N:{},C)}}),ve(w,"handleClick",function(C){var _=w.getMouseInfo(C);if(_){var j=V(V({},_),{},{isTooltipActive:!0});w.setState(j),w.triggerSyncEvent(j);var N=w.props.onClick;Me(N)&&N(j,C)}}),ve(w,"handleMouseDown",function(C){var _=w.props.onMouseDown;if(Me(_)){var j=w.getMouseInfo(C);_(j,C)}}),ve(w,"handleMouseUp",function(C){var _=w.props.onMouseUp;if(Me(_)){var j=w.getMouseInfo(C);_(j,C)}}),ve(w,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),ve(w,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseDown(C.changedTouches[0])}),ve(w,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseUp(C.changedTouches[0])}),ve(w,"handleDoubleClick",function(C){var _=w.props.onDoubleClick;if(Me(_)){var j=w.getMouseInfo(C);_(j,C)}}),ve(w,"handleContextMenu",function(C){var _=w.props.onContextMenu;if(Me(_)){var j=w.getMouseInfo(C);_(j,C)}}),ve(w,"triggerSyncEvent",function(C){w.props.syncId!==void 0&&rC.emit(iC,w.props.syncId,C,w.eventEmitterSymbol)}),ve(w,"applySyncEvent",function(C){var _=w.props,j=_.layout,N=_.syncMethod,E=w.state.updateId,P=C.dataStartIndex,O=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)w.setState(V({dataStartIndex:P,dataEndIndex:O},p({props:w.props,dataStartIndex:P,dataEndIndex:O,updateId:E},w.state)));else if(C.activeTooltipIndex!==void 0){var D=C.chartX,A=C.chartY,M=C.activeTooltipIndex,$=w.state,I=$.offset,R=$.tooltipTicks;if(!I)return;if(typeof N=="function")M=N(R,C);else if(N==="value"){M=-1;for(var L=0;L<R.length;L++)if(R[L].value===C.activeLabel){M=L;break}}var B=V(V({},I),{},{x:I.left,y:I.top}),W=Math.min(D,B.x+B.width),z=Math.min(A,B.y+B.height),K=R[M]&&R[M].value,ie=pN(w.state,w.props.data,M),J=R[M]?{x:j==="horizontal"?R[M].coordinate:W,y:j==="horizontal"?z:R[M].coordinate}:NY;w.setState(V(V({},C),{},{activeLabel:K,activeCoordinate:J,activePayload:ie,activeTooltipIndex:M}))}else w.setState(C)}),ve(w,"renderCursor",function(C){var _,j=w.state,N=j.isTooltipActive,E=j.activeCoordinate,P=j.activePayload,O=j.offset,D=j.activeTooltipIndex,A=j.tooltipAxisBandSize,M=w.getTooltipEventType(),$=(_=C.props.active)!==null&&_!==void 0?_:N,I=w.props.layout,R=C.key||"_recharts-cursor";return T.createElement(R8e,{key:R,activeCoordinate:E,activePayload:P,activeTooltipIndex:D,chartName:n,element:C,isActive:$,layout:I,offset:O,tooltipAxisBandSize:A,tooltipEventType:M})}),ve(w,"renderPolarAxis",function(C,_,j){var N=wi(C,"type.axisType"),E=wi(w.state,"".concat(N,"Map")),P=C.type.defaultProps,O=P!==void 0?V(V({},P),C.props):C.props,D=E&&E[O["".concat(N,"Id")]];return S.cloneElement(C,V(V({},D),{},{className:me(N,D.className),key:C.key||"".concat(_,"-").concat(j),ticks:ma(D,!0)}))}),ve(w,"renderPolarGrid",function(C){var _=C.props,j=_.radialLines,N=_.polarAngles,E=_.polarRadius,P=w.state,O=P.radiusAxisMap,D=P.angleAxisMap,A=vo(O),M=vo(D),$=M.cx,I=M.cy,R=M.innerRadius,L=M.outerRadius;return S.cloneElement(C,{polarAngles:Array.isArray(N)?N:ma(M,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(E)?E:ma(A,!0).map(function(B){return B.coordinate}),cx:$,cy:I,innerRadius:R,outerRadius:L,key:C.key||"polar-grid",radialLines:j})}),ve(w,"renderLegend",function(){var C=w.state.formattedGraphicalItems,_=w.props,j=_.children,N=_.width,E=_.height,P=w.props.margin||{},O=N-(P.left||0)-(P.right||0),D=yK({children:j,formattedGraphicalItems:C,legendWidth:O,legendContent:c});if(!D)return null;var A=D.item,M=V4(D,I8e);return S.cloneElement(A,V(V({},M),{},{chartWidth:N,chartHeight:E,margin:P,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),ve(w,"renderTooltip",function(){var C,_=w.props,j=_.children,N=_.accessibilityLayer,E=$r(j,Gi);if(!E)return null;var P=w.state,O=P.isTooltipActive,D=P.activeCoordinate,A=P.activePayload,M=P.activeLabel,$=P.offset,I=(C=E.props.active)!==null&&C!==void 0?C:O;return S.cloneElement(E,{viewBox:V(V({},$),{},{x:$.left,y:$.top}),active:I,label:M,payload:I?A:[],coordinate:D,accessibilityLayer:N})}),ve(w,"renderBrush",function(C){var _=w.props,j=_.margin,N=_.data,E=w.state,P=E.offset,O=E.dataStartIndex,D=E.dataEndIndex,A=E.updateId;return S.cloneElement(C,{key:C.key||"_recharts-brush",onChange:nv(w.handleBrushChange,C.props.onChange),data:N,x:ee(C.props.x)?C.props.x:P.left,y:ee(C.props.y)?C.props.y:P.top+P.height+P.brushBottom-(j.bottom||0),width:ee(C.props.width)?C.props.width:P.width,startIndex:O,endIndex:D,updateId:"brush-".concat(A)})}),ve(w,"renderReferenceElement",function(C,_,j){if(!C)return null;var N=w,E=N.clipPathId,P=w.state,O=P.xAxisMap,D=P.yAxisMap,A=P.offset,M=C.type.defaultProps||{},$=C.props,I=$.xAxisId,R=I===void 0?M.xAxisId:I,L=$.yAxisId,B=L===void 0?M.yAxisId:L;return S.cloneElement(C,{key:C.key||"".concat(_,"-").concat(j),xAxis:O[R],yAxis:D[B],viewBox:{x:A.left,y:A.top,width:A.width,height:A.height},clipPathId:E})}),ve(w,"renderActivePoints",function(C){var _=C.item,j=C.activePoint,N=C.basePoint,E=C.childIndex,P=C.isRange,O=[],D=_.props.key,A=_.item.type.defaultProps!==void 0?V(V({},_.item.type.defaultProps),_.item.props):_.item.props,M=A.activeDot,$=A.dataKey,I=V(V({index:E,dataKey:$,cx:j.x,cy:j.y,r:4,fill:vP(_.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},Be(M,!1)),hx(M));return O.push(v.renderActiveDot(M,I,"".concat(D,"-activePoint-").concat(E))),N?O.push(v.renderActiveDot(M,V(V({},I),{},{cx:N.x,cy:N.y}),"".concat(D,"-basePoint-").concat(E))):P&&O.push(null),O}),ve(w,"renderGraphicChild",function(C,_,j){var N=w.filterFormatItem(C,_,j);if(!N)return null;var E=w.getTooltipEventType(),P=w.state,O=P.isTooltipActive,D=P.tooltipAxis,A=P.activeTooltipIndex,M=P.activeLabel,$=w.props.children,I=$r($,Gi),R=N.props,L=R.points,B=R.isRange,W=R.baseLine,z=N.item.type.defaultProps!==void 0?V(V({},N.item.type.defaultProps),N.item.props):N.item.props,K=z.activeDot,ie=z.hide,J=z.activeBar,ye=z.activeShape,Z=!!(!ie&&O&&I&&(K||J||ye)),_e={};E!=="axis"&&I&&I.props.trigger==="click"?_e={onClick:nv(w.handleItemMouseEnter,C.props.onClick)}:E!=="axis"&&(_e={onMouseLeave:nv(w.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:nv(w.handleItemMouseEnter,C.props.onMouseEnter)});var Y=S.cloneElement(C,V(V({},N.props),_e));function re(ms){return typeof D.dataKey=="function"?D.dataKey(ms.payload):null}if(Z)if(A>=0){var ne,F;if(D.dataKey&&!D.allowDuplicatedCategory){var Pe=typeof D.dataKey=="function"?re:"payload.".concat(D.dataKey.toString());ne=fx(L,Pe,M),F=B&&W&&fx(W,Pe,M)}else ne=L==null?void 0:L[A],F=B&&W&&W[A];if(ye||J){var Se=C.props.activeIndex!==void 0?C.props.activeIndex:A;return[S.cloneElement(C,V(V(V({},N.props),_e),{},{activeIndex:Se})),null,null]}if(!Re(ne))return[Y].concat(Sf(w.renderActivePoints({item:N,activePoint:ne,basePoint:F,childIndex:A,isRange:B})))}else{var ot,rt=(ot=w.getItemByXY(w.state.activeCoordinate))!==null&&ot!==void 0?ot:{graphicalItem:Y},Dt=rt.graphicalItem,hr=Dt.item,Pr=hr===void 0?C:hr,Nl=Dt.childIndex,Ar=V(V(V({},N.props),_e),{},{activeIndex:Nl});return[S.cloneElement(Pr,Ar),null,null]}return B?[Y,null,null]:[Y,null]}),ve(w,"renderCustomized",function(C,_,j){return S.cloneElement(C,V(V({key:"recharts-customized-".concat(j)},w.props),w.state))}),ve(w,"renderMap",{CartesianGrid:{handler:ov,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:ov},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:ov},YAxis:{handler:ov},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:Ag("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=mq(w.triggeredAfterMouseMove,(k=x.throttleDelay)!==null&&k!==void 0?k:1e3/60),w.state={},w}return Y8e(v,y),W8e(v,[{key:"componentDidMount",value:function(){var b,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,k=b.children,w=b.data,C=b.height,_=b.layout,j=$r(k,Gi);if(j){var N=j.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,P=pN(this.state,w,N,E),O=this.state.tooltipTicks[N].coordinate,D=(this.state.offset.top+C)/2,A=_==="horizontal",M=A?{x:O,y:D}:{y:O,x:D},$=this.state.formattedGraphicalItems.find(function(R){var L=R.item;return L.type.name==="Scatter"});$&&(M=V(V({},M),$.props.points[N].tooltipPosition),P=$.props.points[N].tooltipPayload);var I={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:E,activePayload:P,activeCoordinate:M};this.setState(I),this.renderCursor(j),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,C;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(b){qj([$r(b.children,Gi)],[$r(this.props.children,Gi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=$r(this.props.children,Gi);if(b&&typeof b.props.shared=="boolean"){var k=b.props.shared?"axis":"item";return o.indexOf(k)>=0?k:s}return s}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var k=this.container,w=k.getBoundingClientRect(),C=UAe(w),_={chartX:Math.round(b.pageX-C.left),chartY:Math.round(b.pageY-C.top)},j=w.width/k.offsetWidth||1,N=this.inRange(_.chartX,_.chartY,j);if(!N)return null;var E=this.state,P=E.xAxisMap,O=E.yAxisMap,D=this.getTooltipEventType(),A=W4(this.state,this.props.data,this.props.layout,N);if(D!=="axis"&&P&&O){var M=vo(P).scale,$=vo(O).scale,I=M&&M.invert?M.invert(_.chartX):null,R=$&&$.invert?$.invert(_.chartY):null;return V(V({},_),{},{xValue:I,yValue:R},A)}return A?V(V({},_),A):null}},{key:"inRange",value:function(b,k){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,_=b/w,j=k/w;if(C==="horizontal"||C==="vertical"){var N=this.state.offset,E=_>=N.left&&_<=N.left+N.width&&j>=N.top&&j<=N.top+N.height;return E?{x:_,y:j}:null}var P=this.state,O=P.angleAxisMap,D=P.radiusAxisMap;if(O&&D){var A=vo(O);return _3({x:_,y:j},A)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,k=this.getTooltipEventType(),w=$r(b,Gi),C={};w&&k==="axis"&&(w.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=hx(this.props,this.handleOuterEvent);return V(V({},_),C)}},{key:"addListener",value:function(){rC.on(iC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){rC.removeListener(iC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,k,w){for(var C=this.state.formattedGraphicalItems,_=0,j=C.length;_<j;_++){var N=C[_];if(N.item===b||N.props.key===b.key||k===Sa(N.item.type)&&w===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,k=this.state.offset,w=k.left,C=k.top,_=k.height,j=k.width;return T.createElement("defs",null,T.createElement("clipPath",{id:b},T.createElement("rect",{x:w,y:C,height:_,width:j})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(k,w){var C=z4(w,2),_=C[0],j=C[1];return V(V({},k),{},ve({},_,j.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(k,w){var C=z4(w,2),_=C[0],j=C[1];return V(V({},k),{},ve({},_,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[b])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(b){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[b])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(b){var k=this.state,w=k.formattedGraphicalItems,C=k.activeItem;if(w&&w.length)for(var _=0,j=w.length;_<j;_++){var N=w[_],E=N.props,P=N.item,O=P.type.defaultProps!==void 0?V(V({},P.type.defaultProps),P.props):P.props,D=Sa(P.type);if(D==="Bar"){var A=(E.data||[]).find(function(R){return _4e(b,R)});if(A)return{graphicalItem:N,payload:A}}else if(D==="RadialBar"){var M=(E.data||[]).find(function(R){return _3(b,R)});if(M)return{graphicalItem:N,payload:M}}else if($1(N,C)||L1(N,C)||Km(N,C)){var $=NBe({graphicalItem:N,activeTooltipItem:C,itemData:O.data}),I=O.activeIndex===void 0?$:O.activeIndex;return{graphicalItem:V(V({},N),{},{childIndex:I}),payload:Km(N,C)?O.data[$]:N.props.data[$]}}}return null}},{key:"render",value:function(){var b=this;if(!m$(this))return null;var k=this.props,w=k.children,C=k.className,_=k.width,j=k.height,N=k.style,E=k.compact,P=k.title,O=k.desc,D=V4(k,$8e),A=Be(D,!1);if(E)return T.createElement(k4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement(Yj,sd({},A,{width:_,height:j,title:P,desc:O}),this.renderClipPath(),y$(w,this.renderMap)));if(this.props.accessibilityLayer){var M,$;A.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,A.role=($=this.props.role)!==null&&$!==void 0?$:"application",A.onKeyDown=function(R){b.accessibilityManager.keyboardEvent(R)},A.onFocus=function(){b.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return T.createElement(k4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement("div",sd({className:me("recharts-wrapper",C),style:V({position:"relative",cursor:"default",width:_,height:j},N)},I,{ref:function(L){b.container=L}}),T.createElement(Yj,sd({},A,{width:_,height:j,title:P,desc:O,style:eze}),this.renderClipPath(),y$(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(S.Component);ve(g,"displayName",n),ve(g,"defaultProps",V({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ve(g,"getDerivedStateFromProps",function(y,v){var x=y.dataKey,b=y.data,k=y.children,w=y.width,C=y.height,_=y.layout,j=y.stackOffset,N=y.margin,E=v.dataStartIndex,P=v.dataEndIndex;if(v.updateId===void 0){var O=H4(y);return V(V(V({},O),{},{updateId:0},p(V(V({props:y},O),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:C,prevLayout:_,prevStackOffset:j,prevMargin:N,prevChildren:k})}if(x!==v.prevDataKey||b!==v.prevData||w!==v.prevWidth||C!==v.prevHeight||_!==v.prevLayout||j!==v.prevStackOffset||!wd(N,v.prevMargin)){var D=H4(y),A={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},M=V(V({},W4(v,b,_)),{},{updateId:v.updateId+1}),$=V(V(V({},D),A),M);return V(V(V({},$),p(V({props:y},$),v)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:C,prevLayout:_,prevStackOffset:j,prevMargin:N,prevChildren:k})}if(!qj(k,v.prevChildren)){var I,R,L,B,W=$r(k,ff),z=W&&(I=(R=W.props)===null||R===void 0?void 0:R.startIndex)!==null&&I!==void 0?I:E,K=W&&(L=(B=W.props)===null||B===void 0?void 0:B.endIndex)!==null&&L!==void 0?L:P,ie=z!==E||K!==P,J=!Re(b),ye=J&&!ie?v.updateId:v.updateId+1;return V(V({updateId:ye},p(V(V({props:y},v),{},{updateId:ye,dataStartIndex:z,dataEndIndex:K}),v)),{},{prevChildren:k,dataStartIndex:z,dataEndIndex:K})}return null}),ve(g,"renderActiveDot",function(y,v,x){var b;return S.isValidElement(y)?b=S.cloneElement(y,v):Me(y)?b=y(v):b=T.createElement(bP,v),T.createElement(Ut,{className:"recharts-active-dot",key:x},b)});var m=S.forwardRef(function(v,x){return T.createElement(g,sd({},v,{ref:x}))});return m.displayName=g.displayName,m},uze=OY({chartName:"LineChart",GraphicalChild:Bg,axisComponents:[{axisType:"xAxis",AxisComp:ch},{axisType:"yAxis",AxisComp:uh}],formatAxisMap:YK}),dze=OY({chartName:"BarChart",GraphicalChild:ou,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ch},{axisType:"yAxis",AxisComp:uh}],formatAxisMap:YK});const fze=async()=>{const t=new Date,e=qo(t),n=kc(t),r=qo(xd(t,1)),i=kc(xd(t,1)),{data:s,error:a}=await oe.from("bookings").select("id, created_at, total_price, check_in, check_out, villa_id, guests, status, guest_name, guest_phone");if(a)throw new Error(a.message);if(!s)return null;const{data:o,error:l}=await oe.from("villas").select("id, name, images");if(l)throw new Error(l.message);if(!o)return null;const c=s.filter(C=>C.status==="confirmed"),d=new Map(o.map(C=>{var _;return[C.id,{name:C.name,image:((_=C.images)==null?void 0:_[0])||""}]})),f=c.filter(C=>{const _=new Date(C.created_at);return _>=e&&_<=n}),h=c.filter(C=>{const _=new Date(C.created_at);return _>=r&&_<=i}),p={value:f.length,previousValue:h.length},g={value:f.reduce((C,_)=>C+_.total_price,0),previousValue:h.reduce((C,_)=>C+_.total_price,0)},m=(C,_,j,N)=>{const E=Du(_,C)+1,P=N.length*E;if(P===0)return 0;const O=j.reduce((D,A)=>{if(!A.check_in||!A.check_out)return D;const M=new Date(A.check_in),$=new Date(A.check_out),I=M>C?M:C,R=$<_?$:_,L=Du(R,I);return D+(L>0?L:0)},0);return Math.round(O/P*100)},y={value:m(e,n,c,o),previousValue:m(r,i,c,o)},v=c.reduce((C,_)=>{if(!_.check_out||!_.check_in)return C;const j=Du(new Date(_.check_out),new Date(_.check_in));return C+(j>0?j:0)},0),x=Array.from({length:12}).map((C,_)=>{const j=xd(t,_),N=qo(j),E=kc(j),P=we(j,"MMM"),O=c.filter(D=>{const A=new Date(D.created_at);return A>=N&&A<=E}).reduce((D,A)=>D+A.total_price,0);return{month:P,revenue:O}}).reverse(),b=s.sort((C,_)=>new Date(_.created_at).getTime()-new Date(C.created_at).getTime()).slice(0,8).map(C=>{var _;return{id:C.id,guestName:C.guest_name||"Guest",villaName:((_=d.get(C.villa_id))==null?void 0:_.name)||"Unknown Villa",total:C.total_price,status:C.status}}),k=o.map(C=>{var O;const _=c.filter(D=>D.villa_id===C.id),j=_.reduce((D,A)=>D+A.total_price,0),N=Du(n,e)+1,E=_.reduce((D,A)=>{if(!A.check_in||!A.check_out)return D;const M=new Date(A.check_in),$=new Date(A.check_out),I=M>e?M:e,R=$<n?$:n,L=Du(R,I);return D+(L>0?L:0)},0),P=N>0?Math.round(E/N*100):0;return{id:C.id,name:C.name,image:((O=d.get(C.id))==null?void 0:O.image)||"",totalBookings:_.length,revenue:j,occupancyRate:P,avgRating:0}}).sort((C,_)=>_.revenue-C.revenue),w=c.filter(C=>{const _=new Date(C.check_in);return _>t&&_<=new Date(t.getTime()+7*24*60*60*1e3)}).map(C=>{var _;return{id:C.id,guestName:C.guest_name||"Guest",villaName:((_=d.get(C.villa_id))==null?void 0:_.name)||"Unknown Villa",checkInDate:C.check_in,phone:C.guest_phone||"-",guests:C.guests}}).sort((C,_)=>new Date(C.checkInDate).getTime()-new Date(_.checkInDate).getTime());return{kpis:{totalBookings:p,revenue:g,occupancyRate:y,activeVillas:{value:o.length,total:o.length}},revenueChartData:x,recentBookings:b,villaPerformance:k,upcomingCheckins:w,bookingAnalytics:{conversionRate:0,avgBookingValue:c.length>0?c.reduce((C,_)=>C+_.total_price,0)/c.length:0,avgLengthOfStay:c.length>0?v/c.length:0}}},ep=t=>t?t>=1e9?`IDR ${(t/1e9).toFixed(1)}B`:t>=1e6?`IDR ${(t/1e6).toFixed(1)}M`:`IDR ${t.toLocaleString()}`:"IDR 0",lv=({title:t,value:e,trend:n,percentChange:r,icon:i,format:s=a=>a.toLocaleString()})=>u.jsx("div",{className:"admin-card admin-kpi-card",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"kpi-label",children:t}),u.jsx("p",{className:"kpi-value",children:s(e)}),n&&r!==void 0&&r!==1/0&&u.jsxs("div",{className:`kpi-trend ${n}`,children:[n==="up"?u.jsx(Mte,{size:14}):u.jsx(Ate,{size:14}),u.jsxs("span",{children:[r.toFixed(1),"% vs last month"]})]})]}),u.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#A1BC98]/20 flex items-center justify-center",children:u.jsx(i,{size:24,className:"text-[#778873]"})})]})}),hze=({active:t,payload:e,label:n})=>t&&e&&e.length?u.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-[#d4dbc8]",children:[u.jsx("p",{className:"text-sm font-medium text-[#2d3a29]",children:n}),u.jsx("p",{className:"text-lg font-bold text-[#778873]",children:ep(e[0].value)})]}):null,pze=({status:t})=>{const e={confirmed:"bg-green-100 text-green-700",pending:"bg-yellow-100 text-yellow-700",cancelled:"bg-red-100 text-red-700",completed:"bg-blue-100 text-blue-700"},n=e[t]||e.confirmed;return u.jsx("span",{className:`admin-badge ${n}`,children:t.charAt(0).toUpperCase()+t.slice(1)})},mze=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(!0),[i,s]=S.useState(null),a=async()=>{r(!0),s(null);try{const m=await fze();e(m)}catch(m){s(m.message||"Failed to fetch analytics")}finally{r(!1)}};S.useEffect(()=>{a()},[]);const o=(m,y)=>{if(y===0)return{trend:m>0?"up":"down",percent:m>0?100:0};const v=(m-y)/y*100;return{trend:v>=0?"up":"down",percent:Math.abs(v)}};if(n)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(ze,{size:32,className:"animate-spin text-[#778873]"})});if(i)return u.jsxs("div",{className:"text-red-500 bg-red-100 p-4 rounded-lg",children:[u.jsx("p",{className:"font-bold",children:"Error loading dashboard:"}),u.jsx("p",{children:i}),u.jsx("button",{onClick:a,className:"mt-2 admin-btn admin-btn-outline",children:"Try Again"})]});if(!t)return u.jsx("p",{children:"No data available."});const{kpis:l,revenueChartData:c,recentBookings:d,villaPerformance:f,upcomingCheckins:h}=t,p=o(l.totalBookings.value,l.totalBookings.previousValue),g=o(l.revenue.value,l.revenue.previousValue);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-[#2d3a29]",children:"Dashboard"}),u.jsx("p",{className:"text-sm text-[#6b7c67]",children:"Welcome back! Here's what's happening with your villas."})]}),u.jsxs("button",{onClick:a,className:"admin-btn admin-btn-outline",children:[u.jsx(rO,{size:16}),"Refresh"]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(lv,{title:"Total Bookings (This Month)",value:l.totalBookings.value,trend:p.trend,percentChange:p.percent,icon:Gn}),u.jsx(lv,{title:"Revenue (This Month)",value:l.revenue.value,trend:g.trend,percentChange:g.percent,icon:v8,format:ep}),u.jsx(lv,{title:"Occupancy Rate",value:l.occupancyRate.value,icon:lte,format:m=>`${m}%`}),u.jsx(lv,{title:"Active Villas",value:l.activeVillas.value,icon:XT,format:m=>`${m} / ${l.activeVillas.total}`})]}),u.jsxs("div",{className:"admin-card p-6",children:[u.jsx("h2",{className:"admin-section-title",children:"Revenue Overview (Last 12 Months)"}),u.jsx("div",{className:"h-80",children:u.jsx(gq,{width:"100%",height:"100%",children:u.jsxs(uze,{data:c,margin:{top:5,right:20,bottom:5,left:10},children:[u.jsx(OP,{strokeDasharray:"3 3",stroke:"#d4dbc8"}),u.jsx(ch,{dataKey:"month",stroke:"#6b7c67",fontSize:12,tickLine:!1}),u.jsx(uh,{stroke:"#6b7c67",fontSize:12,tickLine:!1,tickFormatter:m=>ep(m)}),u.jsx(Gi,{content:u.jsx(hze,{})}),u.jsx(Bg,{type:"monotone",dataKey:"revenue",stroke:"#778873",strokeWidth:3,dot:{fill:"#778873",strokeWidth:2,r:4},activeDot:{r:6,fill:"#A1BC98"}})]})})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 admin-card",children:[u.jsx("div",{className:"p-6 border-b border-[#d4dbc8]",children:u.jsx("h2",{className:"admin-section-title mb-0",children:"Recent Bookings"})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Ref Number"}),u.jsx("th",{children:"Guest"}),u.jsx("th",{children:"Villa"}),u.jsx("th",{children:"Check-in"}),u.jsx("th",{children:"Total"}),u.jsx("th",{children:"Status"})]})}),u.jsx("tbody",{children:d.map(m=>u.jsxs("tr",{children:[u.jsx("td",{className:"font-mono text-xs",children:m.referenceNumber}),u.jsx("td",{className:"font-medium",children:m.guestName}),u.jsx("td",{className:"text-[#6b7c67]",children:m.villaName}),u.jsx("td",{children:we(qt(m.checkIn),"MMM d, yyyy")}),u.jsx("td",{className:"font-semibold",children:ep(m.total)}),u.jsx("td",{children:u.jsx(pze,{status:m.status})})]},m.id))})]})})]}),u.jsxs("div",{className:"admin-card",children:[u.jsx("div",{className:"p-6 border-b border-[#d4dbc8]",children:u.jsx("h2",{className:"admin-section-title mb-0",children:"Upcoming Check-ins"})}),u.jsx("div",{className:"p-4 space-y-4",children:h.length===0?u.jsx("p",{className:"text-center text-gray-500 py-4",children:"No upcoming check-ins."}):h.map(m=>{const y=qt(m.checkInDate),v=b2(y),x=nve(y);return u.jsxs("div",{className:"p-4 bg-[#F1F3E0] rounded-xl",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-[#2d3a29]",children:m.guestName}),u.jsx("p",{className:"text-sm text-[#6b7c67]",children:m.villaName})]}),u.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${v?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:v?"Today":x?"Tomorrow":we(y,"MMM d")})]}),u.jsxs("div",{className:"flex items-center justify-between mt-3",children:[u.jsxs("span",{className:"text-sm text-[#6b7c67]",children:[m.guests," guests"]}),u.jsx("button",{className:"p-2 bg-[#A1BC98] text-white rounded-lg hover:bg-[#778873] transition-colors",children:u.jsx(nO,{size:16})})]})]},m.id)})})]})]}),u.jsxs("div",{className:"admin-card p-6",children:[u.jsx("h2",{className:"admin-section-title",children:"Villa Performance"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:f.map(m=>{const y=m.occupancyRate>=80?"text-green-600 bg-green-100":m.occupancyRate>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100";return u.jsxs("div",{className:"border border-[#d4dbc8] rounded-xl overflow-hidden",children:[u.jsx("img",{src:m.image,alt:m.name,className:"w-full h-32 object-cover"}),u.jsxs("div",{className:"p-4",children:[u.jsx("h3",{className:"font-semibold text-[#2d3a29] text-sm mb-2",children:m.name}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-[#6b7c67]",children:"Bookings"}),u.jsx("span",{className:"font-medium",children:m.totalBookings})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm mt-1",children:[u.jsx("span",{className:"text-[#6b7c67]",children:"Revenue"}),u.jsx("span",{className:"font-medium",children:ep(m.revenue)})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm mt-3",children:[u.jsx("span",{className:"text-[#6b7c67]",children:"Occupancy"}),u.jsxs("span",{className:`font-bold px-2 py-1 rounded ${y}`,children:[m.occupancyRate,"%"]})]})]})]},m.id)})})]})]})},K4=t=>t?t>=1e9?`IDR ${(t/1e9).toFixed(1)}B`:t>=1e6?`IDR ${(t/1e6).toFixed(1)}M`:`IDR ${t.toLocaleString()}`:"IDR 0",cv=({title:t,value:e,icon:n})=>u.jsx("div",{className:"admin-card p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#A1BC98]/20 flex items-center justify-center",children:u.jsx(n,{size:20,className:"text-[#778873]"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-[#6b7c67] uppercase tracking-wide",children:t}),u.jsx("p",{className:"text-xl font-bold text-[#2d3a29]",children:e})]})]})}),gze=({active:t,payload:e,label:n})=>t&&e&&e.length?u.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-[#d4dbc8]",children:[u.jsx("p",{className:"text-sm font-medium text-[#2d3a29]",children:n}),u.jsxs("p",{className:"text-sm text-[#A1BC98]",children:[e[0].name,": ",e[0].value.toLocaleString()]})]}):null,yze=()=>{var m,y,v,x,b,k,w;const[t,e]=S.useState(null),[n,r]=S.useState(!0),[i,s]=S.useState(null),[a,o]=S.useState("revenue"),[l,c]=S.useState("desc"),d=async()=>{r(!0),s(null);try{const C=await fetch("/api/admin/dashboard-analytics");if(!C.ok){const j=await C.json();throw new Error(j.message||"Failed to fetch analytics")}const _=await C.json();e(_)}catch(C){s(C.message||"Failed to load analytics data.")}finally{r(!1)}};S.useEffect(()=>{d()},[]);const f=C=>{a===C?c(l==="asc"?"desc":"asc"):(o(C),c("desc"))},h=(m=t==null?void 0:t.dashboardAnalytics)!=null&&m.villaPerformance?[...t.dashboardAnalytics.villaPerformance].sort((C,_)=>{if(!a)return 0;const j=C[a],N=_[a];return typeof j=="number"&&typeof N=="number"?l==="asc"?j-N:N-j:0}):[];if(n)return u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx(ze,{size:32,className:"animate-spin text-[#778873]"})});if(i)return u.jsxs("div",{className:"text-red-500 bg-red-100 p-4 rounded-lg",children:[u.jsx("p",{className:"font-bold",children:"Error Loading Analytics"}),u.jsx("p",{children:i}),u.jsx("button",{onClick:d,className:"mt-2 admin-btn admin-btn-outline",children:"Try Again"})]});if(!t)return u.jsx("div",{className:"text-center text-gray-500 py-12",children:"No analytics data available."});const{dashboardAnalytics:p,visitorAnalytics:g}=t;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-[#2d3a29]",children:"Analytics"}),u.jsx("p",{className:"text-sm text-[#6b7c67]",children:"Real-time tracking of your website and booking performance."})]}),u.jsxs("button",{onClick:d,className:"admin-btn admin-btn-outline",children:[u.jsx(rO,{size:16}),"Refresh"]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[u.jsx(cv,{title:"Total Views",value:((y=g==null?void 0:g.totalViews)==null?void 0:y.toLocaleString())??"0",icon:If}),u.jsx(cv,{title:"Page Views",value:((x=(v=g==null?void 0:g.pageViews)==null?void 0:v.length)==null?void 0:x.toLocaleString())??"0",icon:kte}),u.jsx(cv,{title:"Avg Booking Value",value:K4((b=p==null?void 0:p.bookingAnalytics)==null?void 0:b.avgBookingValue),icon:Gn}),u.jsx(cv,{title:"Avg Stay Length",value:`${(((k=p==null?void 0:p.bookingAnalytics)==null?void 0:k.avgLengthOfStay)??0).toFixed(1)} nights`,icon:hl})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 admin-card p-6",children:[u.jsx("h2",{className:"admin-section-title",children:"Top Pages Visited"}),u.jsx("div",{className:"h-80 -ml-4",children:u.jsx(gq,{width:"100%",height:"100%",children:u.jsxs(dze,{data:(g==null?void 0:g.topPages)??[],layout:"vertical",margin:{top:5,right:20,left:10,bottom:5},children:[u.jsx(OP,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e0e0e0"}),u.jsx(ch,{type:"number",tick:{fill:"#6b7c67",fontSize:12},tickLine:!1,axisLine:!1}),u.jsx(uh,{type:"category",dataKey:"path",width:100,tick:{fill:"#2d3a29",fontSize:12},tickLine:!1,axisLine:!1,style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}),u.jsx(Gi,{content:u.jsx(gze,{}),cursor:{fill:"#F4F6F1"}}),u.jsx(ou,{dataKey:"views",name:"Views",fill:"#A1BC98",radius:[0,4,4,0],barSize:16})]})})})]}),u.jsxs("div",{className:"admin-card p-6",children:[u.jsx("h2",{className:"admin-section-title",children:"Top Countries"}),u.jsx("div",{className:"-mx-6 -mb-6 mt-4",children:u.jsx("ul",{className:"divide-y divide-[#d4dbc8]",children:((g==null?void 0:g.topCountries)??[]).map((C,_)=>u.jsxs("li",{className:"flex items-center justify-between px-6 py-3.5 hover:bg-[#F4F6F1]",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(nr,{size:16,className:"text-[#778873]"}),u.jsx("span",{className:"font-medium text-sm text-[#2d3a29]",children:C.country||"Unknown"})]}),u.jsx("span",{className:"font-bold text-sm text-[#2d3a29]",children:C.views.toLocaleString()})]},_))})}),(((w=g==null?void 0:g.topCountries)==null?void 0:w.length)??0)===0&&u.jsx("div",{className:"text-center text-gray-400 py-12",children:u.jsx("p",{children:"Geographic data not yet available."})})]})]}),u.jsxs("div",{className:"admin-card",children:[u.jsx("div",{className:"p-6 border-b border-[#d4dbc8]",children:u.jsx("h2",{className:"admin-section-title mb-0",children:"Villa Performance"})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Villa Name"}),u.jsxs("th",{className:"cursor-pointer hover:bg-[#D2DCB6]",onClick:()=>f("totalBookings"),children:["Bookings ",a==="totalBookings"&&(l==="asc"?"":"")]}),u.jsxs("th",{className:"cursor-pointer hover:bg-[#D2DCB6]",onClick:()=>f("revenue"),children:["Revenue ",a==="revenue"&&(l==="asc"?"":"")]}),u.jsxs("th",{className:"cursor-pointer hover:bg-[#D2DCB6]",onClick:()=>f("occupancyRate"),children:["Occupancy ",a==="occupancyRate"&&(l==="asc"?"":"")]})]})}),u.jsx("tbody",{children:h.map(C=>u.jsxs("tr",{children:[u.jsxs("td",{className:"font-medium flex items-center gap-3",children:[u.jsx("img",{src:C.image,alt:C.name,className:"w-10 h-10 rounded-lg object-cover"}),C.name]}),u.jsx("td",{children:C.totalBookings}),u.jsx("td",{className:"font-semibold",children:K4(C.revenue)}),u.jsx("td",{children:u.jsxs("span",{className:`px-2 py-1 rounded text-xs font-semibold ${C.occupancyRate>=80?"bg-green-100 text-green-700":C.occupancyRate>=60?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[C.occupancyRate,"%"]})})]},C.id))})]})})]})]})},PY=({value:t="",onChange:e,multiple:n=!1,bucket:r="images",folder:i="uploads",className:s=""})=>{const[a,o]=S.useState(!1),[l,c]=S.useState(0),[d,f]=S.useState(null),h=S.useRef(null),p=Array.isArray(t)?t:t?[t]:[];S.useEffect(()=>{(async()=>{try{const{data:v,error:x}=await oe.storage.listBuckets();if(x){f(`Error checking buckets: ${x.message}`);return}const b=v==null?void 0:v.some(k=>k.id===r);f(b?null:` Bucket "${r}" tidak ditemukan. Silakan buat bucket di Supabase Storage terlebih dahulu.`)}catch(v){console.error("Bucket check error:",v),f(`Gagal mengecek bucket: ${v.message}`)}})()},[r]);const g=async y=>{var k;const v=y.target.files;if(!v||v.length===0)return;if(d){X({title:"Bucket Error",description:d,variant:"destructive"});return}o(!0),c(0);const x=[];let b=0;try{for(let w=0;w<v.length;w++){const C=v[w];if(!C.type.startsWith("image/")){X({title:"File tidak valid",description:`${C.name} bukan file gambar`,variant:"destructive"});continue}const _=5*1024*1024;if(C.size>_){X({title:"File terlalu besar",description:`${C.name} lebih dari 5MB`,variant:"destructive"});continue}try{const j=((k=C.name.split(".").pop())==null?void 0:k.toLowerCase())||"jpg",N=Date.now(),E=Math.random().toString(36).substring(2,9),P=`${i}/${E}-${N}.${j}`;console.log(` Uploading to ${r}/${P}...`);const{data:O,error:D}=await oe.storage.from(r).upload(P,C,{cacheControl:"3600",upsert:!1});if(D){console.error(`Upload error for ${C.name}:`,D);let A=D.message;D.message.includes("row level security")?A="RLS policy tidak mengizinkan upload.  Admin perlu fix RLS policies.":D.message.includes("not found")&&(A=`Bucket "${r}" tidak ditemukan di Supabase`),X({title:"Upload gagal",description:`${C.name}:  ${A}`,variant:"destructive"});continue}if(O){const{data:A}=oe.storage.from(r).getPublicUrl(P);A!=null&&A.publicUrl&&(x.push(A.publicUrl),b++,console.log(` Uploaded:  ${A.publicUrl}`))}c((w+1)/v.length*100)}catch(j){console.error(`Error uploading ${C.name}: `,j),X({title:"Upload error",description:j.message||"Gagal upload file",variant:"destructive"})}}if(b===0)throw new Error("Tidak ada file yang berhasil diupload");e(n?[...p,...x]:x[0]),X({title:" Sukses",description:`${b} gambar berhasil diupload`})}catch(w){console.error("Upload process error:",w),X({title:"Error",description:w.message||"Gagal upload gambar",variant:"destructive"})}finally{o(!1),c(0),h.current&&(h.current.value="")}},m=y=>{e(n?p.filter(v=>v!==y):"")};return u.jsxs("div",{className:`space-y-4 ${s}`,children:[d&&u.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[u.jsx(m8,{size:20,className:"text-red-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-red-800",children:"Bucket Error"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:d})]})]}),p.length>0&&u.jsx("div",{className:`grid gap-4 ${n?"grid-cols-2 sm: grid-cols-3 md:grid-cols-4":"grid-cols-1"}`,children:p.map((y,v)=>u.jsxs("div",{className:"relative group aspect-square rounded-xl overflow-hidden border border-[#d4dbc8] hover:border-[#778873] transition-colors",children:[u.jsx("img",{src:y,alt:`Image ${v+1}`,className:"w-full h-full object-cover",onError:x=>{console.error("Image failed to load:",y),x.target.src="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22200%22 height=%22200%22%3E%3Crect fill=%22%23f0f0f0%22 width=%22200%22 height=%22200%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22. 3em%22 fill=%22%23999%22 font-size=%2216%22%3EImage not found%3C/text%3E%3C/svg%3E"}}),u.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:u.jsx("button",{type:"button",onClick:()=>m(y),className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:u.jsx(dn,{size:16})})}),v===0&&u.jsx("span",{className:"absolute top-2 left-2 text-xs bg-[#778873] text-white px-2 py-1 rounded",children:"Featured"})]},v))}),(n||p.length===0)&&u.jsxs("div",{children:[u.jsx("button",{type:"button",onClick:()=>{var y;return(y=h.current)==null?void 0:y.click()},disabled:a||!!d,className:"w-full p-4 border-2 border-dashed border-[#A1BC98] rounded-xl hover:border-[#778873] hover:bg-[#F1F3E0] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Ite,{size:24,className:"text-[#778873]"}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm font-medium text-[#2d3a29]",children:a?`Uploading... ${Math.round(l)}%`:"Klik untuk upload gambar"}),u.jsx("p",{className:"text-xs text-[#6b7c67]",children:n?"Bisa upload multiple":"Max 5MB per file"})]})]})}),a&&l>0&&u.jsx("div",{className:"mt-3 w-full bg-[#d4dbc8] rounded-full h-2 overflow-hidden",children:u.jsx("div",{className:"bg-[#778873] h-full transition-all duration-300",style:{width:`${l}%`}})}),u.jsx("input",{ref:h,type:"file",multiple:n,accept:"image/*",onChange:g,disabled:a||!!d,className:"hidden"})]}),!1]})},vze=[{value:"all",label:"All Villas"},{value:"available",label:"Available"},{value:"unavailable",label:"Unavailable"}],xze=["WiFi","Air Conditioning","Pool","Kitchen","Parking","TV","Washing Machine","Garden","BBQ","Safe","Gym","Spa","Ocean View","Mountain View","Balcony","Fireplace"],bze=({villa:t,onEdit:e,onViewCalendar:n,onDelete:r,onToggleStatus:i})=>{var s;return u.jsxs("div",{className:"admin-card overflow-hidden hover:shadow-lg transition-shadow",children:[u.jsxs("div",{className:"relative h-48 group",children:[u.jsx("img",{src:((s=t.images)==null?void 0:s[0])||"https://images.unsplash.com/photo-1582268611958-ebfd161ef9cf?w=800",alt:t.name,className:"w-full h-full object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:u.jsx("button",{onClick:e,className:"p-3 bg-white rounded-full text-[#778873] hover:bg-[#A1BC98] hover:text-white transition-colors",children:u.jsx(nl,{size:20})})}),u.jsx("div",{className:"absolute top-3 right-3",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${t.is_available?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:t.is_available?"Available":"Unavailable"})})]}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-[#2d3a29] text-lg",children:t.name}),u.jsx("p",{className:"text-xs text-[#6b7c67]",children:t.location||"Ubud, Bali"})]}),u.jsx("button",{onClick:i,className:`relative w-12 h-6 rounded-full transition-colors ${t.is_available?"bg-[#A1BC98]":"bg-gray-300"}`,children:u.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${t.is_available?"translate-x-7":"translate-x-1"}`})})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[u.jsxs("div",{className:"text-center p-2 bg-[#F1F3E0] rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold text-[#778873]",children:t.bedrooms}),u.jsx("p",{className:"text-xs text-[#6b7c67]",children:"Bedrooms"})]}),u.jsxs("div",{className:"text-center p-2 bg-[#F1F3E0] rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold text-[#778873]",children:t.bathrooms}),u.jsx("p",{className:"text-xs text-[#6b7c67]",children:"Bathrooms"})]}),u.jsxs("div",{className:"text-center p-2 bg-[#F1F3E0] rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold text-[#778873]",children:t.capacity}),u.jsx("p",{className:"text-xs text-[#6b7c67]",children:"Guests"})]})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-[#d4dbc8]",children:[u.jsx("span",{className:"text-sm text-[#6b7c67]",children:"Price/Night"}),u.jsx("span",{className:"font-bold text-[#2d3a29]",children:kt(t.price_per_night)})]}),u.jsxs("div",{className:"flex gap-2 pt-3 border-t border-[#d4dbc8]",children:[u.jsxs("button",{onClick:e,className:"flex-1 admin-btn admin-btn-outline py-2 text-sm",children:[u.jsx(nl,{size:14}),"Edit"]}),u.jsxs("button",{onClick:n,className:"flex-1 admin-btn admin-btn-outline py-2 text-sm",children:[u.jsx(Gn,{size:14}),"Calendar"]}),u.jsx("button",{onClick:r,className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:u.jsx(rl,{size:16})})]})]})]})},wze=({villa:t,isOpen:e,onClose:n,onSave:r,isLoading:i})=>{const[s,a]=S.useState(0),[o,l]=S.useState({name:"",short_description:"",description:"",price_per_night:0,cleaning_fee:0,service_fee:0,capacity:2,bedrooms:1,bathrooms:1,amenities:[],minimum_stay:1,location:"",is_available:!0,images:[]});S.useEffect(()=>{l(t?{name:t.name||"",short_description:t.short_description||"",description:t.description||"",price_per_night:t.price_per_night||0,cleaning_fee:t.cleaning_fee||0,service_fee:t.service_fee||0,capacity:t.capacity||2,bedrooms:t.bedrooms||1,bathrooms:t.bathrooms||1,amenities:t.amenities||[],minimum_stay:t.minimum_stay||1,location:t.location||"",is_available:t.is_available??!0,images:t.images||[]}:{name:"",short_description:"",description:"",price_per_night:35e5,cleaning_fee:5e5,service_fee:35e4,capacity:4,bedrooms:2,bathrooms:2,amenities:[],minimum_stay:2,location:"Ubud, Bali",is_available:!0,images:[]})},[t,e]);const c=["Basic Info","Amenities","Images","Pricing"];if(!e)return null;const d=()=>{r(o)};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b border-[#d4dbc8] flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-bold text-[#2d3a29]",children:t?"Edit Villa":"Add New Villa"}),u.jsx("button",{onClick:n,className:"p-2 hover:bg-[#F1F3E0] rounded-lg",children:u.jsx(dn,{size:20})})]}),u.jsx("div",{className:"flex border-b border-[#d4dbc8] overflow-x-auto",children:c.map((f,h)=>u.jsx("button",{onClick:()=>a(h),className:`px-6 py-3 text-sm font-medium whitespace-nowrap transition-colors ${s===h?"border-b-2 border-[#778873] text-[#778873]":"text-[#6b7c67] hover:text-[#2d3a29]"}`,children:f},f))}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s===0&&u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Villa Name"}),u.jsx("input",{type:"text",value:o.name,onChange:f=>l({...o,name:f.target.value}),className:"admin-input",placeholder:"Enter villa name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Location"}),u.jsx("input",{type:"text",value:o.location,onChange:f=>l({...o,location:f.target.value}),className:"admin-input",placeholder:"e.g. Tegallalang, Ubud"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Short Description"}),u.jsx("textarea",{value:o.short_description,onChange:f=>l({...o,short_description:f.target.value}),className:"admin-input",rows:2,placeholder:"Brief description for listing cards"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Full Description"}),u.jsx("textarea",{value:o.description,onChange:f=>l({...o,description:f.target.value}),className:"admin-input",rows:5,placeholder:"Detailed villa description"})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Max Guests"}),u.jsx("input",{type:"number",value:o.capacity,onChange:f=>l({...o,capacity:Number(f.target.value)}),className:"admin-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Bedrooms"}),u.jsx("input",{type:"number",value:o.bedrooms,onChange:f=>l({...o,bedrooms:Number(f.target.value)}),className:"admin-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Bathrooms"}),u.jsx("input",{type:"number",value:o.bathrooms,onChange:f=>l({...o,bathrooms:Number(f.target.value)}),className:"admin-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Min Stay"}),u.jsx("input",{type:"number",value:o.minimum_stay,onChange:f=>l({...o,minimum_stay:Number(f.target.value)}),className:"admin-input"})]})]})]}),s===1&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-[#6b7c67] mb-4",children:"Select available amenities"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:xze.map(f=>u.jsxs("label",{className:`flex items-center gap-2 p-3 rounded-lg border cursor-pointer transition-colors ${o.amenities.includes(f)?"border-[#778873] bg-[#A1BC98]/20":"border-[#d4dbc8] hover:border-[#A1BC98]"}`,children:[u.jsx("input",{type:"checkbox",checked:o.amenities.includes(f),onChange:h=>{h.target.checked?l({...o,amenities:[...o.amenities,f]}):l({...o,amenities:o.amenities.filter(p=>p!==f)})},className:"hidden"}),u.jsx("span",{className:"text-sm",children:f})]},f))})]}),s===2&&u.jsxs("div",{children:[u.jsx("div",{className:"mb-6",children:u.jsx(PY,{value:o.images,onChange:f=>l({...o,images:f}),multiple:!0})}),u.jsx("div",{className:"grid grid-cols-4 gap-4",children:o.images.map((f,h)=>u.jsxs("div",{className:"relative group",children:[u.jsx("img",{src:f||"/placeholder.svg",alt:"",className:"w-full h-24 object-cover rounded-lg"}),u.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center gap-2",children:u.jsx("button",{onClick:()=>l({...o,images:o.images.filter((p,g)=>g!==h)}),className:"p-1 bg-white rounded text-red-500",children:u.jsx(rl,{size:14})})}),h===0&&u.jsx("span",{className:"absolute top-1 left-1 text-xs bg-[#778873] text-white px-2 py-0.5 rounded",children:"Featured"})]},h))})]}),s===3&&u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Price/Night (IDR)"}),u.jsx("input",{type:"number",value:o.price_per_night,onChange:f=>l({...o,price_per_night:Number(f.target.value)}),className:"admin-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Cleaning Fee (IDR)"}),u.jsx("input",{type:"number",value:o.cleaning_fee,onChange:f=>l({...o,cleaning_fee:Number(f.target.value)}),className:"admin-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Service Fee (IDR)"}),u.jsx("input",{type:"number",value:o.service_fee,onChange:f=>l({...o,service_fee:Number(f.target.value)}),className:"admin-input"})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"checkbox",id:"is_available",checked:o.is_available,onChange:f=>l({...o,is_available:f.target.checked}),className:"w-5 h-5"}),u.jsx("label",{htmlFor:"is_available",className:"text-sm font-medium text-[#2d3a29]",children:"Villa is available for booking"})]})]})]}),u.jsxs("div",{className:"p-6 border-t border-[#d4dbc8] flex justify-end gap-3",children:[u.jsx("button",{onClick:n,className:"admin-btn admin-btn-outline",children:"Cancel"}),u.jsx("button",{onClick:d,className:"admin-btn admin-btn-primary",disabled:i,children:i?u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(ze,{size:16,className:"animate-spin"}),"Saving..."]}):"Save Villa"})]})]})})},Sze=()=>{const{villas:t,isLoading:e,error:n,fetchVillas:r,createVilla:i,updateVilla:s,deleteVilla:a}=vl(),[o,l]=S.useState(""),[c,d]=S.useState("all"),[f,h]=S.useState(!1),[p,g]=S.useState(null),[m,y]=S.useState(!1),[v,x]=S.useState(!1),[b,k]=S.useState(null),[w,C]=S.useState(!1);S.useEffect(()=>{r()},[r]);const _=t.filter(M=>{var R;const $=M.name.toLowerCase().includes(o.toLowerCase())||(((R=M.location)==null?void 0:R.toLowerCase())||"").includes(o.toLowerCase()),I=c==="all"||c==="available"&&M.is_available||c==="unavailable"&&!M.is_available;return $&&I}),j=()=>{g(null),h(!0)},N=M=>{g(M),h(!0)},E=M=>{g(M),y(!0)},P=async M=>{const $=await s(M.id,{is_available:!M.is_available});$.success?X({title:"Status updated",description:`${M.name} is now ${M.is_available?"unavailable":"available"}`}):X({title:"Update failed",description:$.error||"Failed to update villa status",variant:"destructive"})},O=async M=>{C(!0);try{if(!M.name||M.name.trim().length===0){X({title:"Validation Error",description:"Villa name is required",variant:"destructive"}),C(!1);return}if(!M.price_per_night||M.price_per_night<=0){X({title:"Validation Error",description:"Price per night must be greater than 0",variant:"destructive"}),C(!1);return}const $=Array.isArray(M.images)?M.images.filter(R=>typeof R=="string"&&R.length>0):[],I={...M,images:$,amenities:Array.isArray(M.amenities)?M.amenities:[],coordinates:M.coordinates||{lat:-8.5069,lng:115.2625}};if(p){console.log("[v0] Updating villa:",p.id),console.log("[v0] Save data:",I);const R=await s(p.id,I);R.success?(X({title:"Villa updated",description:"Villa details have been saved successfully."}),h(!1)):(console.error("[v0] Update failed with error:",R.error),X({title:"Update failed",description:R.error||"Failed to update villa",variant:"destructive"}))}else console.log("[v0] Creating new villa:",I),await i(I)?(X({title:"Villa created",description:"New villa has been added successfully."}),h(!1)):X({title:"Create failed",description:n||"Failed to create villa",variant:"destructive"})}catch($){console.error("[v0] Save error:",$),X({title:"Error",description:$.message||"Failed to save villa",variant:"destructive"})}C(!1)},D=async M=>{k(M),x(!0)},A=async()=>{if(!b)return;const M=await a(b.id);X(M?{title:"Villa deleted",description:`${b.name} has been removed.`}:{title:"Delete failed",description:n||"Failed to delete villa",variant:"destructive"}),x(!1),k(null)};return e&&t.length===0?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(ze,{size:32,className:"animate-spin text-[#778873]"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-[#2d3a29]",children:"Villa Management"}),u.jsxs("p",{className:"text-sm text-[#6b7c67]",children:["Manage your villa properties (",t.length," villas)"]})]}),u.jsxs("button",{onClick:j,className:"admin-btn admin-btn-primary",children:[u.jsx(eu,{size:18}),"Add New Villa"]})]}),n&&u.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-600",children:n}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(Kr,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#6b7c67]"}),u.jsx("input",{type:"text",value:o,onChange:M=>l(M.target.value),placeholder:"Search villas...",className:"admin-input pl-10"})]}),u.jsx("select",{value:c,onChange:M=>d(M.target.value),className:"admin-input w-48",children:vze.map(M=>u.jsx("option",{value:M.value,children:M.label},M.value))})]}),u.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:_.map(M=>u.jsx(bze,{villa:M,onEdit:()=>N(M),onViewCalendar:()=>E(M),onDelete:()=>D(M),onToggleStatus:()=>P(M)},M.id))}),_.length===0&&!e&&u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-[#6b7c67]",children:t.length===0?'No villas found. Click "Add New Villa" to create one.':"No villas found matching your criteria."})}),u.jsx(wze,{villa:p,isOpen:f,onClose:()=>h(!1),onSave:O,isLoading:w}),v&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b border-[#d4dbc8] flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-bold text-[#2d3a29]",children:"Confirm Deletion"}),u.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-[#F1F3E0] rounded-lg",children:u.jsx(dn,{size:20})})]}),u.jsx("div",{className:"p-6",children:u.jsxs("p",{className:"text-sm text-[#6b7c67]",children:['Are you sure you want to delete "',(b==null?void 0:b.name)||"this villa",'"?']})}),u.jsxs("div",{className:"p-6 border-t border-[#d4dbc8] flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>x(!1),className:"admin-btn admin-btn-outline",children:"Cancel"}),u.jsx("button",{onClick:A,className:"admin-btn admin-btn-primary",children:"Delete Villa"})]})]})})]})},kze=()=>{const{id:t}=Mw(),[e,n]=S.useState(null),[r,i]=S.useState([]),[s,a]=S.useState([]),[o,l]=S.useState(!0),[c,d]=S.useState(new Date),[f,h]=S.useState([]),p=async()=>{if(!t)return;l(!0);const{data:j,error:N}=await oe.from("villas").select("*, villa_booked_dates(booked_date)").eq("id",t).single(),{data:E,error:P}=await oe.from("bookings").select("*").eq("villa_id",t).in("status",["confirmed","pending"]);if(N||P)X({title:"Error fetching data",description:(N==null?void 0:N.message)||(P==null?void 0:P.message),variant:"destructive"}),n(null);else if(j){const O=j;n(O),i(E||[]),a(O.villa_booked_dates.map(D=>D.booked_date))}l(!1)};S.useEffect(()=>{p()},[t]);const g=qo(c),m=kc(c),y=Gw({start:g,end:m}),v=eve(g),x=j=>{const N=we(j,"yyyy-MM-dd");return r.some(E=>N>=E.check_in&&N<E.check_out)},b=j=>{const N=we(j,"yyyy-MM-dd");return r.find(E=>N>=E.check_in&&N<E.check_out)},k=j=>{const N=we(j,"yyyy-MM-dd");return s.includes(N)&&!x(j)},w=j=>{const N=we(j,"yyyy-MM-dd");f.includes(N)?h(f.filter(E=>E!==N)):h([...f,N])},C=async()=>{if(!t||f.length===0)return;const j=f.map(E=>({villa_id:t,booked_date:E})),{error:N}=await oe.from("villa_booked_dates").insert(j);N?X({title:"Error blocking dates",description:N.message,variant:"destructive"}):(X({title:"Dates blocked",description:`${f.length} dates have been blocked.`}),h([]),p())},_=async()=>{if(!t||f.length===0)return;const{error:j}=await oe.from("villa_booked_dates").delete().eq("villa_id",t).in("booked_date",f);j?X({title:"Error unblocking dates",description:j.message,variant:"destructive"}):(X({title:"Dates unblocked",description:`${f.length} dates are now available.`}),h([]),p())};return o?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx(ze,{className:"animate-spin",size:48})}):e?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Fe,{to:"/admin/villas",className:"p-2 hover:bg-[#F1F3E0] rounded-lg transition-colors",children:u.jsx(bw,{size:20,className:"text-[#778873]"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-[#2d3a29]",children:e.name}),u.jsx("p",{className:"text-sm text-[#6b7c67]",children:"Availability Calendar"})]})]}),u.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"lg:col-span-3 admin-card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("button",{onClick:()=>d(xd(c,1)),className:"p-2 hover:bg-[#F1F3E0] rounded-lg",children:u.jsx(us,{size:20})}),u.jsx("h2",{className:"text-xl font-semibold text-[#2d3a29]",children:we(c,"MMMM yyyy")}),u.jsx("button",{onClick:()=>d(mm(c,1)),className:"p-2 hover:bg-[#F1F3E0] rounded-lg",children:u.jsx(Qn,{size:20})})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 bg-white border border-[#d4dbc8] rounded"}),u.jsx("span",{children:"Available"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 bg-[#778873] rounded"}),u.jsx("span",{children:"Booked"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 bg-[#D2DCB6] rounded"}),u.jsx("span",{children:"Blocked"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 bg-[#A1BC98] border-2 border-[#778873] rounded"}),u.jsx("span",{children:"Selected"})]})]}),u.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(j=>u.jsx("div",{className:"text-center text-sm font-medium text-[#6b7c67] py-2",children:j},j)),Array.from({length:v}).map((j,N)=>u.jsx("div",{className:"h-20"},`empty-${N}`)),y.map(j=>{var M;const N=we(j,"yyyy-MM-dd"),E=x(j),P=k(j),O=f.includes(N),D=b(j),A=b2(j);return u.jsxs("button",{onClick:()=>w(j),className:`h-20 p-2 rounded-lg border transition-colors relative group ${O?"bg-[#A1BC98] border-[#778873] border-2":E?"bg-[#778873] border-[#778873] text-white":P?"bg-[#D2DCB6] border-[#D2DCB6]":"bg-white border-[#d4dbc8] hover:border-[#A1BC98]"}`,children:[u.jsx("span",{className:`text-sm font-medium ${A?"w-6 h-6 bg-red-500 text-white rounded-full inline-flex items-center justify-center":""}`,children:we(j,"d")}),D&&u.jsx("div",{className:"absolute bottom-1 left-1 right-1 text-xs truncate",children:(M=D.guest_name)==null?void 0:M.split(" ")[0]}),P&&u.jsx(bte,{size:12,className:"absolute top-2 right-2 text-[#778873]"})]},N)})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"admin-card p-4",children:[u.jsx("h3",{className:"font-semibold text-[#2d3a29] mb-4",children:"Quick Block Dates"}),u.jsx("p",{className:"text-sm text-[#6b7c67] mb-4",children:f.length>0?`${f.length} dates selected`:"Click calendar dates to select"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:C,disabled:f.length===0,className:"w-full admin-btn admin-btn-primary text-sm disabled:opacity-50",children:"Block Selected"}),u.jsx("button",{onClick:_,disabled:f.length===0,className:"w-full admin-btn admin-btn-outline text-sm disabled:opacity-50",children:"Unblock Selected"}),f.length>0&&u.jsx("button",{onClick:()=>h([]),className:"w-full text-sm text-[#6b7c67] hover:text-[#2d3a29]",children:"Clear Selection"})]})]}),u.jsxs("div",{className:"admin-card p-4",children:[u.jsx("h3",{className:"font-semibold text-[#2d3a29] mb-4",children:"Upcoming Bookings"}),u.jsxs("div",{className:"space-y-3",children:[r.filter(j=>new Date(j.check_in)>=new Date).slice(0,5).map(j=>u.jsxs("div",{className:"p-3 bg-[#F1F3E0] rounded-lg text-sm",children:[u.jsx("p",{className:"font-medium text-[#2d3a29]",children:j.guest_name}),u.jsxs("p",{className:"text-[#6b7c67]",children:[we(qt(j.check_in),"MMM d")," - ",we(qt(j.check_out),"MMM d")]})]},j.id)),r.filter(j=>new Date(j.check_in)>=new Date).length===0&&u.jsx("p",{className:"text-sm text-[#6b7c67]",children:"No upcoming bookings"})]})]})]})]})]}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("p",{className:"text-[#6b7c67]",children:"Villa not found"}),u.jsx(Fe,{to:"/admin/villas",className:"text-[#778873] hover:underline",children:"Back to Villas"})]})},Cze=[{key:"all",label:"All Bookings"},{key:"upcoming",label:"Upcoming"},{key:"current",label:"Current"},{key:"past",label:"Past"},{key:"cancelled",label:"Cancelled"}],db={confirmed:{label:"Confirmed",icon:Vd,className:"bg-green-100 text-green-700"},pending:{label:"Pending",icon:hl,className:"bg-yellow-100 text-yellow-700"},cancelled:{label:"Cancelled",icon:JT,className:"bg-red-100 text-red-700"},completed:{label:"Completed",icon:Vd,className:"bg-blue-100 text-blue-700"}},_ze=({booking:t,isOpen:e,onClose:n})=>{var f;const[r,i]=S.useState((t==null?void 0:t.status)||"confirmed"),{cancelBookingInSupabase:s,updateBookingStatus:a}=Ua();if(S.useEffect(()=>{t&&i(t.status)},[t]),!e||!t)return null;const o=Dj.find(h=>h.id===t.villaId),l=Math.ceil((new Date(t.checkOut).getTime()-new Date(t.checkIn).getTime())/(1e3*60*60*24)),c=async h=>{if(h==="cancelled"){if(window.confirm("Are you sure you want to cancel this booking?")){const{success:p}=await s(t.id);p?(X({title:"Booking Cancelled",description:"Booking has been cancelled."}),i("cancelled"),n()):X({title:"Error",description:"Failed to cancel booking.",variant:"destructive"})}}else{const{success:p}=await a(t.id,h);p?(i(h),X({title:"Status Updated",description:`Booking status changed to ${h}.`})):X({title:"Error",description:"Failed to update booking status.",variant:"destructive"})}},d=()=>{window.location.href=`mailto:${t.guestDetails.email}?subject=Booking ${t.referenceNumber}`};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b border-[#d4dbc8] flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-[#2d3a29]",children:"Booking Details"}),u.jsx("p",{className:"text-sm text-[#6b7c67] font-mono",children:t.referenceNumber})]}),u.jsx("button",{onClick:n,className:"p-2 hover:bg-[#F1F3E0] rounded-lg",children:u.jsx(dn,{size:20})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"admin-card p-4",children:[u.jsxs("h3",{className:"font-semibold text-[#2d3a29] mb-4 flex items-center gap-2",children:[u.jsx(Jr,{size:18,className:"text-[#778873]"}),"Guest Information"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-[#6b7c67]",children:"Name"}),u.jsx("p",{className:"font-medium",children:t.guestDetails.fullName})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-[#6b7c67]",children:"Email"}),u.jsx("p",{className:"font-medium",children:t.guestDetails.email})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-[#6b7c67]",children:"Phone"}),u.jsx("p",{className:"font-medium",children:t.guestDetails.whatsapp||"-"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-[#6b7c67]",children:"Special Requests"}),u.jsx("p",{className:"text-sm",children:t.guestDetails.specialRequests||"None"})]}),u.jsxs("button",{onClick:d,className:"w-full admin-btn admin-btn-outline mt-2",children:[u.jsx(Jp,{size:16}),"Contact Guest"]})]})]}),u.jsxs("div",{className:"admin-card p-4",children:[u.jsxs("h3",{className:"font-semibold text-[#2d3a29] mb-4 flex items-center gap-2",children:[u.jsx(y8,{size:18,className:"text-[#778873]"}),"Payment Information"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-[#6b7c67]",children:"Method"}),u.jsx("span",{className:"font-medium",children:t.paymentMethod})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-[#6b7c67]",children:"Status"}),u.jsx("span",{className:"text-green-600 font-medium",children:"Paid"})]})]})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"admin-card p-4",children:[u.jsxs("h3",{className:"font-semibold text-[#2d3a29] mb-4 flex items-center gap-2",children:[u.jsx(Gn,{size:18,className:"text-[#778873]"}),"Booking Summary"]}),o&&u.jsxs("div",{className:"flex gap-3 mb-4 pb-4 border-b border-[#d4dbc8]",children:[u.jsx("img",{src:o.images[0]||"/placeholder.svg",alt:o.name,className:"w-20 h-20 object-cover rounded-lg"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:o.name}),u.jsx("p",{className:"text-sm text-[#6b7c67]",children:o.location})]})]}),u.jsxs("div",{className:"space-y-3 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-[#6b7c67]",children:"Check-in"}),u.jsx("span",{className:"font-medium",children:we(qt(t.checkIn),"MMM d, yyyy")})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-[#6b7c67]",children:"Check-out"}),u.jsx("span",{className:"font-medium",children:we(qt(t.checkOut),"MMM d, yyyy")})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-[#6b7c67]",children:"Nights"}),u.jsx("span",{className:"font-medium",children:l})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-[#6b7c67]",children:"Guests"}),u.jsxs("span",{className:"font-medium",children:[t.guests," guests"]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-[#d4dbc8]",children:[u.jsx("span",{className:"text-[#6b7c67]",children:"Status"}),u.jsxs("select",{value:r,onChange:h=>c(h.target.value),className:`px-3 py-1 rounded-full text-sm font-medium border-0 ${((f=db[r])==null?void 0:f.className)||db.confirmed.className}`,children:[u.jsx("option",{value:"confirmed",children:"Confirmed"}),u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})]}),u.jsxs("div",{className:"admin-card p-4",children:[u.jsx("h3",{className:"font-semibold text-[#2d3a29] mb-4",children:"Price Breakdown"}),u.jsx("div",{className:"space-y-2 text-sm",children:u.jsxs("div",{className:"flex justify-between pt-3 border-t border-[#d4dbc8] font-bold text-base",children:[u.jsx("span",{children:"Total"}),u.jsx("span",{className:"text-[#778873]",children:kt(t.total)})]})})]})]})]})}),u.jsx("div",{className:"p-6 border-t border-[#d4dbc8] flex flex-wrap gap-3",children:r!=="cancelled"&&u.jsxs("button",{onClick:()=>c("cancelled"),className:"admin-btn admin-btn-outline text-red-600 border-red-200 hover:bg-red-50",children:[u.jsx(JT,{size:16}),"Cancel Booking"]})})]})})},jze=({isOpen:t,onClose:e})=>{const[n,r]=S.useState(""),[i,s]=S.useState(""),[a,o]=S.useState(""),[l,c]=S.useState("");return t?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-lg",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create Manual Booking"}),u.jsx("p",{className:"mb-4 text-gray-600",children:"This feature requires a backend endpoint to create bookings without payment."}),u.jsx("div",{className:"flex justify-end gap-2",children:u.jsx("button",{onClick:e,className:"admin-btn admin-btn-outline",children:"Close"})})]})}):null},Eze=()=>{const{adminBookings:t,isLoading:e,fetchAllBookings:n}=Ua(),[r,i]=S.useState("all"),[s,a]=S.useState(""),[o,l]=S.useState(null),[c,d]=S.useState(!1),[f,h]=S.useState(!1),[p,g]=S.useState(1),[m,y]=S.useState(10);S.useEffect(()=>{n()},[n]);const v=t.filter(C=>{var P;const _=((P=Dj.find(O=>O.id===C.villaId))==null?void 0:P.name)||"Unknown Villa",j=C.referenceNumber.toLowerCase().includes(s.toLowerCase())||C.guestDetails.fullName.toLowerCase().includes(s.toLowerCase())||_.toLowerCase().includes(s.toLowerCase()),N=qt(C.checkIn),E=qt(C.checkOut);switch(r){case"upcoming":return j&&vm(N)&&C.status!=="cancelled";case"current":return j&&ox(N)&&vm(E)&&C.status!=="cancelled";case"past":return j&&ox(E)&&C.status!=="cancelled";case"cancelled":return j&&C.status==="cancelled";default:return j}}),x=Math.ceil(v.length/m),b=v.slice((p-1)*m,p*m),k=C=>{l(C),d(!0)},w=()=>{X({title:"Export started",description:"CSV file will download shortly."})};return e&&t.length===0?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(ze,{size:32,className:"animate-spin text-[#778873]"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-[#2d3a29]",children:"Booking Management"}),u.jsx("p",{className:"text-sm text-[#6b7c67]",children:"Manage all villa bookings"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:w,className:"admin-btn admin-btn-outline",children:[u.jsx(Sw,{size:16}),"Export CSV"]}),u.jsxs("button",{onClick:()=>h(!0),className:"admin-btn admin-btn-primary",children:[u.jsx(eu,{size:18}),"Manual Booking"]})]})]}),u.jsx("div",{className:"flex flex-wrap gap-2 border-b border-[#d4dbc8] pb-4",children:Cze.map(C=>u.jsx("button",{onClick:()=>{i(C.key),g(1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r===C.key?"bg-[#778873] text-white":"bg-[#F1F3E0] text-[#2d3a29] hover:bg-[#D2DCB6]"}`,children:C.label},C.key))}),u.jsx("div",{className:"flex gap-4",children:u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(Kr,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#6b7c67]"}),u.jsx("input",{type:"text",value:s,onChange:C=>a(C.target.value),placeholder:"Search by ID, guest name, villa...",className:"admin-input pl-10"})]})}),u.jsxs("div",{className:"admin-card overflow-hidden",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Ref Number"}),u.jsx("th",{children:"Guest"}),u.jsx("th",{children:"Villa"}),u.jsx("th",{children:"Check-in"}),u.jsx("th",{children:"Check-out"}),u.jsx("th",{children:"Total"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:b.map(C=>{var E;const _=db[C.status]||db.confirmed,j=_.icon,N=((E=Dj.find(P=>P.id===C.villaId))==null?void 0:E.name)||"Unknown";return u.jsxs("tr",{children:[u.jsx("td",{className:"font-mono text-sm",children:C.referenceNumber}),u.jsx("td",{className:"font-medium",children:C.guestDetails.fullName}),u.jsx("td",{className:"text-[#6b7c67]",children:N}),u.jsx("td",{children:we(qt(C.checkIn),"MMM d, yyyy")}),u.jsx("td",{children:we(qt(C.checkOut),"MMM d, yyyy")}),u.jsx("td",{className:"font-semibold",children:kt(C.total)}),u.jsx("td",{children:u.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${_.className}`,children:[u.jsx(j,{size:12}),_.label]})}),u.jsx("td",{children:u.jsx("button",{onClick:()=>k(C),className:"p-2 hover:bg-[#F1F3E0] rounded-lg text-[#778873]",children:u.jsx(If,{size:16})})})]},C.id)})})]})}),x>1&&u.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-[#d4dbc8]",children:[u.jsxs("p",{className:"text-sm text-[#6b7c67]",children:["Showing ",(p-1)*m+1," to ",Math.min(p*m,v.length)," of"," ",v.length," bookings"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>g(Math.max(1,p-1)),disabled:p===1,className:"p-2",children:u.jsx(us,{size:16})}),u.jsx("button",{onClick:()=>g(Math.min(x,p+1)),disabled:p===x,className:"p-2",children:u.jsx(Qn,{size:16})})]})]})]}),v.length===0&&!e&&u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-[#6b7c67]",children:"No bookings found."})}),u.jsx(_ze,{booking:o,isOpen:c,onClose:()=>d(!1)}),u.jsx(jze,{isOpen:f,onClose:()=>h(!1)})]})},Nze=()=>{const[t,e]=S.useState(new Date),[n,r]=S.useState("all"),[i,s]=S.useState([]),[a,o]=S.useState([]),[l,c]=S.useState(!0);S.useEffect(()=>{(async()=>{c(!0);const{data:g,error:m}=await oe.from("villas").select("id, name, images");m?(X({title:"Error fetching villas",description:m.message,variant:"destructive"}),s([])):s(g);const y=qo(t),v=kc(t);let x=oe.from("bookings").select("*, villas(name, images)").not("status","eq","cancelled").lte("check_in",we(v,"yyyy-MM-dd")).gte("check_out",we(y,"yyyy-MM-dd"));n!=="all"&&(x=x.eq("villa_id",n));const{data:b,error:k}=await x;k?(X({title:"Error fetching bookings",description:k.message,variant:"destructive"}),o([])):o(b),c(!1)})()},[t,n]);const d=Gw({start:qo(t),end:kc(t)}),f=n==="all"?i:i.filter(p=>p.id===n),h=(p,g)=>{const m=we(g,"yyyy-MM-dd");return a.find(y=>y.villa_id===p&&m>=y.check_in&&m<y.check_out)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-[#2d3a29]",children:"Booking Calendar"}),u.jsx("p",{className:"text-sm text-[#6b7c67]",children:"Overview of all villa bookings"})]}),u.jsxs("select",{value:n,onChange:p=>r(p.target.value),className:"admin-input w-full sm:w-48",children:[u.jsx("option",{value:"all",children:"All Villas"}),i.map(p=>u.jsx("option",{value:p.id,children:p.name},p.id))]})]}),u.jsxs("div",{className:"admin-card p-4 md:p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("button",{onClick:()=>e(xd(t,1)),className:"p-2 hover:bg-[#F1F3E0] rounded-lg",children:u.jsx(us,{size:20})}),u.jsx("h2",{className:"text-lg md:text-xl font-semibold text-[#2d3a29]",children:we(t,"MMMM yyyy")}),u.jsx("button",{onClick:()=>e(mm(t,1)),className:"p-2 hover:bg-[#F1F3E0] rounded-lg",children:u.jsx(Qn,{size:20})})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 bg-[#778873] rounded"}),u.jsx("span",{children:"Confirmed"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded"}),u.jsx("span",{children:"Pending"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 bg-white border border-[#d4dbc8] rounded"}),u.jsx("span",{children:"Available"})]})]}),l?u.jsx("div",{className:"text-center py-16",children:"Loading..."}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("div",{className:"min-w-[1200px]",children:[u.jsxs("div",{className:"grid items-center",style:{gridTemplateColumns:`200px repeat(${d.length}, minmax(50px, 1fr))`},children:[u.jsx("div",{className:"p-2 font-medium text-[#6b7c67] text-sm border-b border-t border-[#d4dbc8]",children:"Villa"}),d.map(p=>u.jsxs("div",{className:"p-1 text-center text-xs border-b border-t border-l border-[#d4dbc8]",children:[u.jsx("div",{className:"text-[#6b7c67]",children:we(p,"EEE")}),u.jsx("div",{className:"font-semibold text-base",children:we(p,"d")})]},p.toISOString()))]}),f.map(p=>{var g;return u.jsxs("div",{className:"grid items-center",style:{gridTemplateColumns:`200px repeat(${d.length}, minmax(50px, 1fr))`},children:[u.jsxs("div",{className:"p-2 border-b border-[#d4dbc8] flex items-center gap-2 whitespace-nowrap overflow-hidden",children:[u.jsx("img",{src:(g=p.images)==null?void 0:g[0],alt:p.name,className:"w-10 h-10 rounded-md object-cover flex-shrink-0"}),u.jsxs("div",{className:"overflow-hidden",children:[u.jsx("p",{className:"text-sm font-semibold truncate",children:p.name}),u.jsx(Fe,{to:`/admin/villas/${p.id}/calendar`,className:"text-xs text-blue-600 hover:underline",children:"View Calendar"})]})]}),d.map(m=>{const y=h(p.id,m),v=y&&we(m,"yyyy-MM-dd")===y.check_in,x=(y==null?void 0:y.status)==="pending"?"bg-yellow-200 border-yellow-400":"bg-[#C8D9C5] border-[#A1BC98]";return u.jsx("div",{className:`h-full border-b border-l border-[#d4dbc8] min-h-[50px] ${y?"cursor-pointer":""} ${!v&&y?x.replace("border-","border-l-0"):""}`,title:y?`${y.guest_name} (${y.status})`:"Available",children:v&&u.jsx("div",{className:`h-full p-1 text-xs truncate rounded-l-lg border ${x}`,children:y.guest_name})},m.toISOString())})]},p.id)}),f.length===0&&u.jsx("div",{className:"text-center p-8",children:"No villas found for this selection."})]})})]})]})},Tze=hs((t,e)=>({offers:[],isLoading:!1,error:null,fetchOffers:async()=>{t({isLoading:!0,error:null});try{const{data:n,error:r}=await oe.from("offers").select("*").order("created_at",{ascending:!1});if(r)throw r;t({offers:n,isLoading:!1})}catch(n){console.error("Error fetching offers:",n),t({isLoading:!1,error:"Failed to fetch offers"})}},createOffer:async n=>{t({isLoading:!0,error:null});try{const{data:r,error:i}=await oe.from("offers").insert([n]).select().single();if(i)throw i;const s=r;return t(a=>({offers:[s,...a.offers],isLoading:!1})),s}catch(r){return console.error("Error creating offer:",r),t({isLoading:!1,error:"Failed to create offer"}),null}},updateOffer:async(n,r)=>{t({isLoading:!0,error:null});try{const{error:i}=await oe.from("offers").update(r).eq("id",n);if(i)throw i;return t(s=>({offers:s.offers.map(a=>a.id===n?{...a,...r}:a),isLoading:!1})),!0}catch(i){return console.error("Error updating offer:",i),t({isLoading:!1,error:"Failed to update offer"}),!1}},deleteOffer:async n=>{t({isLoading:!0,error:null});try{const{error:r}=await oe.from("offers").delete().eq("id",n);if(r)throw r;return t(i=>({offers:i.offers.filter(s=>s.id!==n),isLoading:!1})),!0}catch(r){return console.error("Error deleting offer:",r),t({isLoading:!1,error:"Failed to delete offer"}),!1}},getOfferById:n=>e().offers.find(r=>r.id===n),clearError:()=>t({error:null})})),Oze=({offer:t,onEdit:e,onDuplicate:n,onDelete:r,onToggle:i})=>{const s=t.end_date?new Date(t.end_date)<new Date:!1;return u.jsxs("div",{className:`admin-card overflow-hidden ${!t.is_active||s?"opacity-70":""}`,children:[u.jsxs("div",{className:"relative h-32 bg-gradient-to-r from-[#778873] to-[#A1BC98]",children:[t.banner_image?u.jsx("img",{src:t.banner_image,alt:t.title,className:"w-full h-full object-cover"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsx(x8,{size:48,className:"text-white/50"})}),u.jsx("div",{className:"absolute top-3 left-3 flex gap-2",children:u.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${t.discount_type==="percentage"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:[t.discount_type==="percentage"?u.jsx(Cte,{size:12,className:"inline mr-1"}):u.jsx(v8,{size:12,className:"inline mr-1"}),t.discount_type==="percentage"?`${t.discount_value}% OFF`:`IDR ${(t.discount_value/1e3).toFixed(0)}K OFF`]})}),s&&u.jsx("div",{className:"absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-700",children:"Expired"})]}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-[#2d3a29]",children:t.title}),u.jsx("p",{className:"text-sm text-[#6b7c67] mt-1 line-clamp-2",children:t.description})]}),u.jsx("button",{onClick:i,className:`relative w-12 h-6 rounded-full transition-colors ${t.is_active&&!s?"bg-[#A1BC98]":"bg-gray-300"}`,children:u.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${t.is_active&&!s?"translate-x-7":"translate-x-1"}`})})]}),u.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[t.start_date&&t.end_date&&u.jsxs("div",{className:"flex items-center gap-2 text-[#6b7c67]",children:[u.jsx(Gn,{size:14}),u.jsxs("span",{children:[we(new Date(t.start_date),"MMM d")," - ",we(new Date(t.end_date),"MMM d, yyyy")]})]}),t.promo_code&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(O8,{size:14,className:"text-[#778873]"}),u.jsx("code",{className:"bg-[#F1F3E0] px-2 py-1 rounded text-xs font-mono",children:t.promo_code})]})]}),u.jsx("div",{className:"flex items-center justify-between py-3 border-t border-[#d4dbc8]",children:u.jsxs("span",{className:"text-sm text-[#6b7c67]",children:["Used ",t.current_uses," times"]})}),u.jsxs("div",{className:"flex gap-2 pt-3 border-t border-[#d4dbc8]",children:[u.jsxs("button",{onClick:e,className:"flex-1 admin-btn admin-btn-outline py-2 text-sm",children:[u.jsx(nl,{size:14}),"Edit"]}),u.jsx("button",{onClick:n,className:"p-2 hover:bg-[#F1F3E0] rounded-lg text-[#778873]",children:u.jsx(ste,{size:16})}),u.jsx("button",{onClick:r,className:"p-2 hover:bg-red-50 rounded-lg text-red-500",children:u.jsx(rl,{size:16})})]})]})]})},Pze=({offer:t,isOpen:e,onClose:n,onSave:r,isLoading:i})=>{const[s,a]=S.useState({title:"",description:"",discount_type:"percentage",discount_value:10,start_date:"",end_date:"",promo_code:"",minimum_nights:1,is_active:!0,terms:""});if(S.useEffect(()=>{a(t?{title:t.title,description:t.description||"",discount_type:t.discount_type,discount_value:t.discount_value,start_date:t.start_date||"",end_date:t.end_date||"",promo_code:t.promo_code||"",minimum_nights:t.minimum_nights,is_active:t.is_active,terms:t.terms||""}:{title:"",description:"",discount_type:"percentage",discount_value:10,start_date:"",end_date:"",promo_code:"",minimum_nights:1,is_active:!0,terms:""})},[t,e]),!e)return null;const o=()=>{const c="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let d="";for(let f=0;f<8;f++)d+=c.charAt(Math.floor(Math.random()*c.length));a({...s,promo_code:d})},l=()=>{if(!s.title){X({title:"Title required",variant:"destructive"});return}r(s)};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b border-[#d4dbc8] flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-bold text-[#2d3a29]",children:t?"Edit Offer":"Create New Offer"}),u.jsx("button",{onClick:n,className:"p-2 hover:bg-[#F1F3E0] rounded-lg",children:u.jsx(dn,{size:20})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Offer Title *"}),u.jsx("input",{type:"text",value:s.title,onChange:c=>a({...s,title:c.target.value}),className:"admin-input",placeholder:"e.g., Early Bird Special"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Description"}),u.jsx("textarea",{value:s.description,onChange:c=>a({...s,description:c.target.value}),className:"admin-input",rows:3})]})]}),u.jsxs("div",{className:"pt-4 border-t border-[#d4dbc8]",children:[u.jsx("h3",{className:"font-semibold text-[#2d3a29] mb-4",children:"Discount"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Type"}),u.jsxs("select",{value:s.discount_type,onChange:c=>a({...s,discount_type:c.target.value}),className:"admin-input",children:[u.jsx("option",{value:"percentage",children:"Percentage (%)"}),u.jsx("option",{value:"fixed",children:"Fixed Amount (IDR)"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Value"}),u.jsx("input",{type:"number",value:s.discount_value,onChange:c=>a({...s,discount_value:Number(c.target.value)}),className:"admin-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Min. Nights"}),u.jsx("input",{type:"number",value:s.minimum_nights,onChange:c=>a({...s,minimum_nights:Number(c.target.value)}),className:"admin-input"})]})]})]}),u.jsxs("div",{className:"pt-4 border-t border-[#d4dbc8]",children:[u.jsx("h3",{className:"font-semibold text-[#2d3a29] mb-4",children:"Validity"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Start Date"}),u.jsx("input",{type:"date",value:s.start_date,onChange:c=>a({...s,start_date:c.target.value}),className:"admin-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"End Date"}),u.jsx("input",{type:"date",value:s.end_date,onChange:c=>a({...s,end_date:c.target.value}),className:"admin-input"})]})]})]}),u.jsxs("div",{className:"pt-4 border-t border-[#d4dbc8]",children:[u.jsx("h3",{className:"font-semibold text-[#2d3a29] mb-4",children:"Promo Code"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("input",{type:"text",value:s.promo_code,onChange:c=>a({...s,promo_code:c.target.value.toUpperCase()}),className:"admin-input flex-1 font-mono",placeholder:"PROMOCODE"}),u.jsxs("button",{onClick:o,className:"admin-btn admin-btn-outline",children:[u.jsx(rO,{size:16}),"Generate"]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"checkbox",id:"is_active",checked:s.is_active,onChange:c=>a({...s,is_active:c.target.checked}),className:"w-5 h-5"}),u.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-[#2d3a29]",children:"Offer is active"})]})]}),u.jsxs("div",{className:"p-6 border-t border-[#d4dbc8] flex justify-end gap-3",children:[u.jsx("button",{onClick:n,className:"admin-btn admin-btn-outline",children:"Cancel"}),u.jsx("button",{onClick:l,className:"admin-btn admin-btn-primary",disabled:i,children:i?u.jsx(ze,{size:16,className:"animate-spin"}):"Save Offer"})]})]})})},Aze=()=>{const{offers:t,isLoading:e,fetchOffers:n,createOffer:r,updateOffer:i,deleteOffer:s}=Tze(),[a,o]=S.useState("all"),[l,c]=S.useState(""),[d,f]=S.useState(!1),[h,p]=S.useState(null),[g,m]=S.useState(!1);S.useEffect(()=>{n()},[n]);const y=t.filter(_=>{const j=_.title.toLowerCase().includes(l.toLowerCase()),N=_.end_date?new Date(_.end_date)<new Date:!1;switch(a){case"active":return j&&_.is_active&&!N;case"expired":return j&&N;default:return j}}),v=_=>{p(_),f(!0)},x=()=>{p(null),f(!0)},b=async _=>{m(!0);try{h?(await i(h.id,_),X({title:"Offer updated"})):(await r(_),X({title:"Offer created"})),f(!1)}catch{X({title:"Error",description:"Failed to save offer",variant:"destructive"})}m(!1)},k=async _=>{const j={..._,title:`${_.title} (Copy)`,promo_code:_.promo_code?`${_.promo_code}_COPY`:null};delete j.id,delete j.created_at,delete j.updated_at,delete j.current_uses,await r(j),X({title:"Offer duplicated"})},w=async _=>{window.confirm(`Delete "${_.title}"?`)&&await s(_.id)&&X({title:"Offer deleted"})},C=async _=>{await i(_.id,{is_active:!_.is_active}),X({title:_.is_active?"Offer deactivated":"Offer activated"})};return e&&t.length===0?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(ze,{size:32,className:"animate-spin text-[#778873]"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-[#2d3a29]",children:"Special Offers & Promotions"}),u.jsxs("p",{className:"text-sm text-[#6b7c67]",children:["Manage discounts (",t.length," offers)"]})]}),u.jsxs("button",{onClick:x,className:"admin-btn admin-btn-primary",children:[u.jsx(eu,{size:18}),"Create New Offer"]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsx("div",{className:"flex gap-2",children:[{key:"all",label:"All Offers"},{key:"active",label:"Active"},{key:"expired",label:"Expired"}].map(_=>u.jsx("button",{onClick:()=>o(_.key),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${a===_.key?"bg-[#778873] text-white":"bg-[#F1F3E0] text-[#2d3a29] hover:bg-[#D2DCB6]"}`,children:_.label},_.key))}),u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(Kr,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#6b7c67]"}),u.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),placeholder:"Search offers...",className:"admin-input pl-10"})]})]}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(_=>u.jsx(Oze,{offer:_,onEdit:()=>v(_),onDuplicate:()=>k(_),onDelete:()=>w(_),onToggle:()=>C(_)},_.id))}),y.length===0&&!e&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(x8,{size:48,className:"mx-auto text-[#d4dbc8] mb-4"}),u.jsx("p",{className:"text-[#6b7c67]",children:t.length===0?"No offers found. Create your first offer!":"No offers match your filter."})]}),u.jsx(Pze,{offer:h,isOpen:d,onClose:()=>f(!1),onSave:b,isLoading:g})]})},Mze={published:{label:"Published",className:"bg-green-100 text-green-700"},draft:{label:"Draft",className:"bg-gray-100 text-gray-700"},scheduled:{label:"Scheduled",className:"bg-blue-100 text-blue-700"}},Dze={"Travel Tips":"bg-purple-100 text-purple-700","Ubud Guide":"bg-blue-100 text-blue-700","Villa Features":"bg-green-100 text-green-700","Balinese Culture":"bg-orange-100 text-orange-700","Guest Stories":"bg-pink-100 text-pink-700","travel-tips":"bg-purple-100 text-purple-700",culture:"bg-orange-100 text-orange-700","food-dining":"bg-yellow-100 text-yellow-700",activities:"bg-blue-100 text-blue-700",wellness:"bg-green-100 text-green-700"},Rze=()=>{const{posts:t,isLoading:e,fetchPosts:n,deletePost:r}=n1(),[i,s]=S.useState("all"),[a,o]=S.useState(""),[l,c]=S.useState(1),d=10;S.useEffect(()=>{n()},[n]);const f=t.filter(m=>{const y=m.title.toLowerCase().includes(a.toLowerCase());return i==="all"?y:y&&m.status===i}),h=Math.ceil(f.length/d),p=f.slice((l-1)*d,l*d),g=async m=>{if(window.confirm(`Delete "${m.title}"?`)){const y=await r(m.id);X(y?{title:"Post deleted"}:{title:"Error",description:"Failed to delete post",variant:"destructive"})}};return e&&t.length===0?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(ze,{size:32,className:"animate-spin text-[#778873]"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-[#2d3a29]",children:"Blog Posts Management"}),u.jsxs("p",{className:"text-sm text-[#6b7c67]",children:["Create and manage blog content (",t.length," posts)"]})]}),u.jsxs(Fe,{to:"/admin/blog/new",className:"admin-btn admin-btn-primary",children:[u.jsx(eu,{size:18}),"Create New Post"]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"admin-card p-4",children:[u.jsx("p",{className:"text-2xl font-bold text-[#778873]",children:t.filter(m=>m.status==="published").length}),u.jsx("p",{className:"text-xs text-[#6b7c67]",children:"Published Posts"})]}),u.jsxs("div",{className:"admin-card p-4",children:[u.jsx("p",{className:"text-2xl font-bold text-[#778873]",children:t.reduce((m,y)=>m+(y.views||0),0).toLocaleString()}),u.jsx("p",{className:"text-xs text-[#6b7c67]",children:"Total Views"})]}),u.jsxs("div",{className:"admin-card p-4",children:[u.jsx("p",{className:"text-2xl font-bold text-[#778873]",children:t.filter(m=>m.status==="draft").length}),u.jsx("p",{className:"text-xs text-[#6b7c67]",children:"Drafts"})]}),u.jsxs("div",{className:"admin-card p-4",children:[u.jsx("p",{className:"text-2xl font-bold text-[#778873]",children:t.filter(m=>m.status==="scheduled").length}),u.jsx("p",{className:"text-xs text-[#6b7c67]",children:"Scheduled"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsx("div",{className:"flex gap-2",children:[{key:"all",label:"All"},{key:"published",label:"Published"},{key:"draft",label:"Draft"},{key:"scheduled",label:"Scheduled"}].map(m=>u.jsx("button",{onClick:()=>{s(m.key),c(1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${i===m.key?"bg-[#778873] text-white":"bg-[#F1F3E0] text-[#2d3a29] hover:bg-[#D2DCB6]"}`,children:m.label},m.key))}),u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(Kr,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#6b7c67]"}),u.jsx("input",{type:"text",value:a,onChange:m=>o(m.target.value),placeholder:"Search posts...",className:"admin-input pl-10"})]})]}),u.jsxs("div",{className:"admin-card overflow-hidden",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"w-12"}),u.jsx("th",{children:"Title"}),u.jsx("th",{children:"Author"}),u.jsx("th",{children:"Category"}),u.jsx("th",{children:"Date"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Views"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:p.map(m=>{var x,b;const y=Mze[m.status],v=((x=m.category)==null?void 0:x.name)||"Uncategorized";return u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("img",{src:m.featured_image||"https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=100&h=60&fit=crop",alt:"",className:"w-12 h-8 object-cover rounded"})}),u.jsx("td",{children:u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-[#2d3a29]",children:m.title}),u.jsx("p",{className:"text-xs text-[#6b7c67] truncate max-w-xs",children:m.excerpt})]})}),u.jsx("td",{className:"text-sm text-[#6b7c67]",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(A8,{size:14}),m.author_name||"Admin"]})}),u.jsx("td",{children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Dze[((b=m.category)==null?void 0:b.slug)||""]||"bg-gray-100 text-gray-700"}`,children:v})}),u.jsx("td",{className:"text-sm text-[#6b7c67]",children:m.published_at?we(new Date(m.published_at),"MMM d, yyyy"):we(new Date(m.created_at),"MMM d, yyyy")}),u.jsx("td",{children:u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${y.className}`,children:y.label})}),u.jsx("td",{className:"font-medium",children:(m.views||0).toLocaleString()}),u.jsx("td",{children:u.jsxs("div",{className:"flex gap-1",children:[u.jsx(Fe,{to:`/admin/blog/${m.id}/edit`,className:"p-2 hover:bg-[#F1F3E0] rounded-lg text-[#778873]",children:u.jsx(nl,{size:16})}),u.jsx("a",{href:`/blog/${m.slug}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-[#F1F3E0] rounded-lg text-[#778873]",children:u.jsx(If,{size:16})}),u.jsx("button",{onClick:()=>g(m),className:"p-2 hover:bg-red-50 rounded-lg text-red-500",children:u.jsx(rl,{size:16})})]})})]},m.id)})})]})}),h>1&&u.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-[#d4dbc8]",children:[u.jsxs("p",{className:"text-sm text-[#6b7c67]",children:["Showing ",(l-1)*d+1," to ",Math.min(l*d,f.length)," of ",f.length]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>c(Math.max(1,l-1)),disabled:l===1,className:"p-2 rounded-lg hover:bg-[#F1F3E0] disabled:opacity-50",children:u.jsx(us,{size:16})}),u.jsx("button",{onClick:()=>c(Math.min(h,l+1)),disabled:l===h,className:"p-2 rounded-lg hover:bg-[#F1F3E0] disabled:opacity-50",children:u.jsx(Qn,{size:16})})]})]})]}),f.length===0&&!e&&u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-[#6b7c67]",children:t.length===0?"No posts found. Create your first blog post!":"No posts match your filter."})})]})};var AY={exports:{}},MY={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf=S;function Ize(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $ze=typeof Object.is=="function"?Object.is:Ize,Lze=kf.useState,Bze=kf.useEffect,Fze=kf.useLayoutEffect,zze=kf.useDebugValue;function Vze(t,e){var n=e(),r=Lze({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Fze(function(){i.value=n,i.getSnapshot=e,aC(i)&&s({inst:i})},[t,n,e]),Bze(function(){return aC(i)&&s({inst:i}),t(function(){aC(i)&&s({inst:i})})},[t]),zze(n),n}function aC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$ze(t,n)}catch{return!0}}function Uze(t,e){return e()}var Wze=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Uze:Vze;MY.useSyncExternalStore=kf.useSyncExternalStore!==void 0?kf.useSyncExternalStore:Wze;AY.exports=MY;var PP=AY.exports;function En(t){this.content=t}En.prototype={constructor:En,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new En(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new En(n)},addToStart:function(t,e){return new En([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new En(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new En(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=En.from(t),t.size?new En(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=En.from(t),t.size?new En(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=En.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};En.from=function(t){if(t instanceof En)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new En(e)};function DY(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){let a=DY(i.content,s.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function RY(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let a=t.child(--i),o=e.child(--s),l=a.nodeSize;if(a==o){n-=l,r-=l;continue}if(!a.sameMarkup(o))return{a:n,b:r};if(a.isText&&a.text!=o.text){let c=0,d=Math.min(a.text.length,o.text.length);for(;c<d&&a.text[a.text.length-c-1]==o.text[o.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(a.content.size||o.content.size){let c=RY(a.content,o.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class H{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let a=0,o=0;o<n;a++){let l=this.content[a],c=o+l.nodeSize;if(c>e&&r(l,i+o,s||null,a)!==!1&&l.content.size){let d=o+1;l.nodesBetween(Math.max(0,e-d),Math.min(l.content.size,n-d),r,i+d)}o=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",a=!0;return this.nodesBetween(e,n,(o,l)=>{let c=o.isText?o.text.slice(Math.max(e,l)-l,n-l):o.isLeaf?i?typeof i=="function"?i(o):i:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&c||o.isTextblock)&&r&&(a?a=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new H(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,a=0;a<n;s++){let o=this.content[s],l=a+o.nodeSize;l>e&&((a<e||l>n)&&(o.isText?o=o.cut(Math.max(0,e-a),Math.min(o.text.length,n-a)):o=o.cut(Math.max(0,e-a-1),Math.min(o.content.size,n-a-1))),r.push(o),i+=o.nodeSize),a=l}return new H(r,i)}cutByIndex(e,n){return e==n?H.empty:e==0&&n==this.content.length?this:new H(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new H(i,s)}addToStart(e){return new H([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new H(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return DY(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return RY(this,e,n,r)}findIndex(e){if(e==0)return uv(0,e);if(e==this.size)return uv(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?uv(n+1,s):uv(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return H.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new H(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return H.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new H(n||e,r)}static from(e){if(!e)return H.empty;if(e instanceof H)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new H([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}H.empty=new H([],0);const oC={index:0,offset:0};function uv(t,e){return oC.index=t,oC.offset=e,oC}function fb(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!fb(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!fb(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let lt=class mN{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&fb(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return mN.none;if(e instanceof mN)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};lt.none=[];class hb extends Error{}class se{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=$Y(this.content,e+this.openStart,n);return r&&new se(r,this.openStart,this.openEnd)}removeBetween(e,n){return new se(IY(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return se.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new se(H.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new se(e,r,i)}}se.empty=new se(H.empty,0,0);function IY(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:a,offset:o}=t.findIndex(n);if(i==e||s.isText){if(o!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(IY(s.content,e-i-1,n-i-1)))}function $Y(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let o=$Y(a.content,e-s-1,n,a);return o&&t.replaceChild(i,a.copy(o))}function Hze(t,e,n){if(n.openStart>t.depth)throw new hb("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new hb("Inconsistent open depths");return LY(t,e,n,0)}function LY(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=LY(t,e,n,r+1);return s.copy(s.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,o=a.content;return Ec(a,o.cut(0,t.parentOffset).append(n.content).append(o.cut(e.parentOffset)))}else{let{start:a,end:o}=qze(n,t);return Ec(s,FY(t,a,o,e,r))}else return Ec(s,pb(t,e,r))}function BY(t,e){if(!e.type.compatibleContent(t.type))throw new hb("Cannot join "+e.type.name+" onto "+t.type.name)}function gN(t,e,n){let r=t.node(n);return BY(r,e.node(n)),r}function jc(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Cp(t,e,n,r){let i=(e||t).node(n),s=0,a=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(jc(t.nodeAfter,r),s++));for(let o=s;o<a;o++)jc(i.child(o),r);e&&e.depth==n&&e.textOffset&&jc(e.nodeBefore,r)}function Ec(t,e){return t.type.checkContent(e),t.copy(e)}function FY(t,e,n,r,i){let s=t.depth>i&&gN(t,e,i+1),a=r.depth>i&&gN(n,r,i+1),o=[];return Cp(null,t,i,o),s&&a&&e.index(i)==n.index(i)?(BY(s,a),jc(Ec(s,FY(t,e,n,r,i+1)),o)):(s&&jc(Ec(s,pb(t,e,i+1)),o),Cp(e,n,i,o),a&&jc(Ec(a,pb(n,r,i+1)),o)),Cp(r,null,i,o),new H(o)}function pb(t,e,n){let r=[];if(Cp(null,t,n,r),t.depth>n){let i=gN(t,e,n+1);jc(Ec(i,pb(t,e,n+1)),r)}return Cp(e,null,n,r),new H(r)}function qze(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(H.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class eg{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return lt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let o=r;r=i,i=o}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new mb(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let a=e;;){let{index:o,offset:l}=a.content.findIndex(s),c=s-l;if(r.push(a,o,i+l),!c||(a=a.child(o),a.isText))break;s=c-1,i+=l+1}return new eg(n,r,s)}static resolveCached(e,n){let r=Y4.get(e);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else Y4.set(e,r=new Kze);let i=r.elts[r.i]=eg.resolve(e,n);return r.i=(r.i+1)%Yze,i}}class Kze{constructor(){this.elts=[],this.i=0}}const Yze=12,Y4=new WeakMap;class mb{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Gze=Object.create(null);let Go=class yN{constructor(e,n,r,i=lt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||H.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&fb(this.attrs,n||e.defaultAttrs||Gze)&&lt.sameSet(this.marks,r||lt.none)}copy(e=null){return e==this.content?this:new yN(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new yN(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return se.empty;let i=this.resolve(e),s=this.resolve(n),a=r?0:i.sharedDepth(n),o=i.start(a),c=i.node(a).content.cut(i.pos-o,s.pos-o);return new se(c,i.depth-a,s.depth-a)}replace(e,n,r){return Hze(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return eg.resolveCached(this,e)}resolveNoCache(e){return eg.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),zY(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=H.empty,i=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,s),o=a&&a.matchFragment(this.content,n);if(!o||!o.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=lt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!lt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=H.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Go.prototype.text=void 0;class gb extends Go{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):zY(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new gb(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new gb(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function zY(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Hc{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Qze(e,n);if(r.next==null)return Hc.empty;let i=VY(r);r.next&&r.err("Unexpected trailing text");let s=r7e(n7e(i));return i7e(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(a,o){let l=a.matchFragment(e,r);if(l&&(!n||l.validEnd))return H.from(o.map(c=>c.createAndFill()));for(let c=0;c<a.next.length;c++){let{type:d,next:f}=a.next[c];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let h=s(f,o.concat(d));if(h)return h}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let a=[];for(let o=i;o.type;o=o.via)a.push(o.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:o,next:l}=s.next[a];!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in n)&&(!i.type||l.validEnd)&&(r.push({match:o.contentMatch,type:o,via:i}),n[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}Hc.empty=new Hc(!0);class Qze{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function VY(t){let e=[];do e.push(Xze(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Xze(t){let e=[];do e.push(Jze(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Jze(t){let e=t7e(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Zze(t,e);else break;return e}function G4(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Zze(t,e){let n=G4(t),r=n;return t.eat(",")&&(t.next!="}"?r=G4(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function e7e(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let a=n[s];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function t7e(t){if(t.eat("(")){let e=VY(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=e7e(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function n7e(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(a,o,l){let c={term:l,to:o};return e[a].push(c),c}function i(a,o){a.forEach(l=>l.to=o)}function s(a,o){if(a.type=="choice")return a.exprs.reduce((l,c)=>l.concat(s(c,o)),[]);if(a.type=="seq")for(let l=0;;l++){let c=s(a.exprs[l],o);if(l==a.exprs.length-1)return c;i(c,o=n())}else if(a.type=="star"){let l=n();return r(o,l),i(s(a.expr,l),l),[r(l)]}else if(a.type=="plus"){let l=n();return i(s(a.expr,o),l),i(s(a.expr,l),l),[r(l)]}else{if(a.type=="opt")return[r(o)].concat(s(a.expr,o));if(a.type=="range"){let l=o;for(let c=0;c<a.min;c++){let d=n();i(s(a.expr,l),d),l=d}if(a.max==-1)i(s(a.expr,l),l);else for(let c=a.min;c<a.max;c++){let d=n();r(l,d),i(s(a.expr,l),d),l=d}return[r(l)]}else{if(a.type=="name")return[r(o,void 0,a.value)];throw new Error("Unknown expr type")}}}}function UY(t,e){return e-t}function Q4(t,e){let n=[];return r(e),n.sort(UY);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let a=0;a<s.length;a++){let{term:o,to:l}=s[a];!o&&n.indexOf(l)==-1&&r(l)}}}function r7e(t){let e=Object.create(null);return n(Q4(t,0));function n(r){let i=[];r.forEach(a=>{t[a].forEach(({term:o,to:l})=>{if(!o)return;let c;for(let d=0;d<i.length;d++)i[d][0]==o&&(c=i[d][1]);Q4(t,l).forEach(d=>{c||i.push([o,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let s=e[r.join(",")]=new Hc(r.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let o=i[a][1].sort(UY);s.next.push({type:i[a][0],next:e[o.join(",")]||n(o)})}return s}}function i7e(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,a=[];for(let o=0;o<i.next.length;o++){let{type:l,next:c}=i.next[o];a.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function WY(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function HY(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function qY(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function KY(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new a7e(t,r,e[r]);return n}let X4=class YY{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=KY(e,r.attrs),this.defaultAttrs=WY(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Hc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:HY(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Go(this,this.computeAttrs(e),H.from(n),lt.setFrom(r))}createChecked(e=null,n,r){return n=H.from(n),this.checkContent(n),new Go(this,this.computeAttrs(e),n,lt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=H.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(H.empty,!0);return s?new Go(this,e,n.append(s),lt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){qY(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:lt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,a)=>r[s]=new YY(s,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function s7e(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class a7e{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?s7e(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class H1{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=KY(e,i.attrs),this.excluded=null;let s=WY(this.attrs);this.instance=s?new lt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new lt(this,HY(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,a)=>r[s]=new H1(s,i++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){qY(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class GY{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=En.from(e.nodes),n.marks=En.from(e.marks||{}),this.nodes=X4.compile(this.spec.nodes,this),this.marks=H1.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",o=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=Hc.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=o=="_"?null:o?J4(this,o.split(" ")):o==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:J4(this,a.split(" "))}this.nodeFromJSON=i=>Go.fromJSON(this,i),this.markFromJSON=i=>lt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof X4){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new gb(r,r.defaultAttrs,e,lt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function J4(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],a=s;if(s)n.push(s);else for(let o in t.marks){let l=t.marks[o];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function o7e(t){return t.tag!=null}function l7e(t){return t.style!=null}class Qo{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(o7e(i))this.tags.push(i);else if(l7e(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new eB(this,n,!1);return r.addAll(e,lt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new eB(this,n,!0);return r.addAll(e,lt.none,n.from,n.to),se.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(d7e(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],o=a.style;if(!(o.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||o.length>e.length&&(o.charCodeAt(e.length)!=61||o.slice(e.length+1)!=n))){if(a.getAttrs){let l=a.getAttrs(n);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let o=n[a];if((o.priority==null?50:o.priority)<s)break}n.splice(a,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=tB(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=tB(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Qo(e,Qo.schemaRules(e)))}}const QY={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},c7e={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},XY={ol:!0,ul:!0},tg=1,vN=2,_p=4;function Z4(t,e,n){return e!=null?(e?tg:0)|(e==="full"?vN:0):t&&t.whitespace=="pre"?tg|vN:n&~_p}class dv{constructor(e,n,r,i,s,a){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=lt.none,this.match=s||(a&_p?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(H.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&tg)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=H.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(H.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!QY.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class eB{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,a=Z4(null,n.preserveWhitespace,0)|(r?_p:0);i?s=new dv(i.type,i.attrs,lt.none,!0,n.topMatch||i.type.contentMatch,a):r?s=new dv(null,null,lt.none,!0,null,a):s=new dv(e.schema.topNodeType,null,lt.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&vN?"full":this.localPreserveWS||(i.options&tg)>0,{schema:a}=this.parser;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let o=r.split(/\r?\n|\r/);for(let l=0;l<o.length;l++)l&&this.insertNode(a.linebreakReplacement.create(),n,!0),o[l]&&this.insertNode(a.text(o[l]),n,!/\S/.test(o[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),o;XY.hasOwnProperty(a)&&this.parser.normalizeLists&&u7e(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,r));e:if(l?l.ignore:c7e.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,d=this.needsBlock;if(QY.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let f=l&&l.skip?n:this.readStyles(e,n);f&&this.addAll(e,f),c&&this.sync(s),this.needsBlock=d}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?o:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let o=void 0;;){let l=this.parser.matchStyle(s,a,this,o);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)o=l;else break}}return n}addElementByRule(e,n,r,i){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(a,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let o=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(o)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let a=r?e.childNodes[r]:e.firstChild,o=i==null?null:e.childNodes[i];a!=o;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let a=this.open,o=0;a>=0;a--){let l=this.nodes[a],c=l.findWrapping(e);if(c&&(!i||i.length>c.length+o)&&(i=c,s=l,!c.length))break;if(l.solid){if(r)break;o+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let a=lt.none;for(let o of i.concat(e.marks))(s.type?s.type.allowsMarkType(o.type):nB(o.type,e.type))&&(a=o.addToSet(a));return s.content.push(e.mark(a)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let o=Z4(e,s,a.options);a.options&_p&&a.content.length==0&&(o|=_p);let l=lt.none;return r=r.filter(c=>(a.type?a.type.allowsMarkType(c.type):nB(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new dv(e,n,l,i,null,o)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=tg)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(o,l)=>{for(;o>=0;o--){let c=n[o];if(c==""){if(o==n.length-1||o==0)continue;for(;l>=s;l--)if(a(o-1,l))return!0;return!1}else{let d=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!d||d.name!=c&&!d.isInGroup(c))return!1;l--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function u7e(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&XY.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function d7e(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function tB(t){let e={};for(let n in t)e[n]=t[n];return e}function nB(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],a=o=>{s.push(o);for(let l=0;l<o.edgeCount;l++){let{type:c,next:d}=o.edge(l);if(c==e||s.indexOf(d)<0&&a(d))return!0}};if(a(i.contentMatch))return!0}}class lu{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=lC(n).createDocumentFragment());let i=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let o=0,l=0;for(;o<s.length&&l<a.marks.length;){let c=a.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[o][0])||c.type.spec.spanning===!1)break;o++,l++}for(;o<s.length;)i=s.pop()[1];for(;l<a.marks.length;){let c=a.marks[l++],d=this.serializeMark(c,a.isInline,n);d&&(s.push([c,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Jv(lC(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Jv(lC(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Jv(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new lu(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=rB(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return rB(e.marks)}}function rB(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function lC(t){return t.document||window.document}const iB=new WeakMap;function f7e(t){let e=iB.get(t);return e===void 0&&iB.set(t,e=h7e(t)),e}function h7e(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Jv(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=f7e(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let o,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],d=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){d=2;for(let f in c)if(c[f]!=null){let h=f.indexOf(" ");h>0?l.setAttributeNS(f.slice(0,h),f.slice(h+1),c[f]):f=="style"&&l.style?l.style.cssText=c[f]:l.setAttribute(f,c[f])}}for(let f=d;f<e.length;f++){let h=e[f];if(h===0){if(f<e.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:g}=Jv(t,h,n,r);if(l.appendChild(p),g){if(o)throw new RangeError("Multiple content holes");o=g}}}return{dom:l,contentDOM:o}}const JY=65535,ZY=Math.pow(2,16);function p7e(t,e){return t+e*ZY}function sB(t){return t&JY}function m7e(t){return(t-(t&JY))/ZY}const eG=1,tG=2,Zv=4,nG=8;class xN{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&nG)>0}get deletedBefore(){return(this.delInfo&(eG|Zv))>0}get deletedAfter(){return(this.delInfo&(tG|Zv))>0}get deletedAcross(){return(this.delInfo&Zv)>0}}class zr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&zr.empty)return zr.empty}recover(e){let n=0,r=sB(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+m7e(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let l=this.ranges[o]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[o+s],d=this.ranges[o+a],f=l+c;if(e<=f){let h=c?e==l?-1:e==f?1:n:n,p=l+i+(h<0?0:d);if(r)return p;let g=e==(n<0?l:f)?null:p7e(o/3,e-l),m=e==l?tG:e==f?eG:Zv;return(n<0?e!=l:e!=f)&&(m|=nG),new xN(p,m,g)}i+=d-c}return r?e+i:new xN(e+i,0,null)}touches(e,n){let r=0,i=sB(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let l=this.ranges[o]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[o+s],d=l+c;if(e<=d&&o==i*3)return!0;r+=this.ranges[o+a]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],o=a-(this.inverted?s:0),l=a+(this.inverted?0:s),c=this.ranges[i+n],d=this.ranges[i+r];e(o,o+c,l,l+d),s+=d-c}}invert(){return new zr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?zr.empty:new zr(e<0?[0,-e,0]:[0,0,e])}}zr.empty=new zr([]);class ng{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new ng(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new ng;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],o=a.mapResult(e,n);if(o.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(o.recover);continue}}i|=o.delInfo,e=o.pos}return r?e:new xN(e,i,null)}}const cC=Object.create(null);class Jn{getMap(){return zr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=cC[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in cC)throw new RangeError("Duplicate use of step JSON ID "+e);return cC[e]=n,n.prototype.jsonID=e,n}}class tn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new tn(e,null)}static fail(e){return new tn(null,e)}static fromReplace(e,n,r,i){try{return tn.ok(e.replace(n,r,i))}catch(s){if(s instanceof hb)return tn.fail(s.message);throw s}}}function AP(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(AP(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return H.fromArray(r)}class Ao extends Jn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new se(AP(n.content,(a,o)=>!a.isAtom||!o.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return tn.fromReplace(e,this.from,this.to,s)}invert(){return new rs(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ao(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ao&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ao(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ao(n.from,n.to,e.markFromJSON(n.mark))}}Jn.jsonID("addMark",Ao);class rs extends Jn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new se(AP(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return tn.fromReplace(e,this.from,this.to,r)}invert(){return new Ao(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new rs(n.pos,r.pos,this.mark)}merge(e){return e instanceof rs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new rs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new rs(n.from,n.to,e.markFromJSON(n.mark))}}Jn.jsonID("removeMark",rs);class Mo extends Jn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return tn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return tn.fromReplace(e,this.pos,this.pos+1,new se(H.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Mo(this.pos,n.marks[i]);return new Mo(this.pos,this.mark)}}return new qc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Mo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Mo(n.pos,e.markFromJSON(n.mark))}}Jn.jsonID("addNodeMark",Mo);class qc extends Jn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return tn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return tn.fromReplace(e,this.pos,this.pos+1,new se(H.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Mo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new qc(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new qc(n.pos,e.markFromJSON(n.mark))}}Jn.jsonID("removeNodeMark",qc);class yn extends Jn{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&bN(e,this.from,this.to)?tn.fail("Structure replace would overwrite content"):tn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new zr([this.from,this.to-this.from,this.slice.size])}invert(e){return new yn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new yn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof yn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?se.empty:new se(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new yn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?se.empty:new se(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new yn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new yn(n.from,n.to,se.fromJSON(e,n.slice),!!n.structure)}}Jn.jsonID("replace",yn);class bn extends Jn{constructor(e,n,r,i,s,a,o=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=o}apply(e){if(this.structure&&(bN(e,this.from,this.gapFrom)||bN(e,this.gapTo,this.to)))return tn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return tn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?tn.fromReplace(e,this.from,this.to,r):tn.fail("Content does not fit in gap")}getMap(){return new zr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new bn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new bn(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new bn(n.from,n.to,n.gapFrom,n.gapTo,se.fromJSON(e,n.slice),n.insert,!!n.structure)}}Jn.jsonID("replaceAround",bn);function bN(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function g7e(t,e,n,r){let i=[],s=[],a,o;t.doc.nodesBetween(e,n,(l,c,d)=>{if(!l.isInline)return;let f=l.marks;if(!r.isInSet(f)&&d.type.allowsMarkType(r.type)){let h=Math.max(c,e),p=Math.min(c+l.nodeSize,n),g=r.addToSet(f);for(let m=0;m<f.length;m++)f[m].isInSet(g)||(a&&a.to==h&&a.mark.eq(f[m])?a.to=p:i.push(a=new rs(h,p,f[m])));o&&o.to==h?o.to=p:s.push(o=new Ao(h,p,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function y7e(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(a,o)=>{if(!a.isInline)return;s++;let l=null;if(r instanceof H1){let c=a.marks,d;for(;d=r.isInSet(c);)(l||(l=[])).push(d),c=d.removeFromSet(c)}else r?r.isInSet(a.marks)&&(l=[r]):l=a.marks;if(l&&l.length){let c=Math.min(o+a.nodeSize,n);for(let d=0;d<l.length;d++){let f=l[d],h;for(let p=0;p<i.length;p++){let g=i[p];g.step==s-1&&f.eq(i[p].style)&&(h=g)}h?(h.to=c,h.step=s):i.push({style:f,from:Math.max(o,e),to:c,step:s})}}}),i.forEach(a=>t.step(new rs(a.from,a.to,a.style)))}function MP(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),a=[],o=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),d=o+c.nodeSize,f=r.matchType(c.type);if(!f)a.push(new yn(o,d,se.empty));else{r=f;for(let h=0;h<c.marks.length;h++)n.allowsMarkType(c.marks[h].type)||t.step(new rs(o,d,c.marks[h]));if(i&&c.isText&&n.whitespace!="pre"){let h,p=/\r?\n|\r/g,g;for(;h=p.exec(c.text);)g||(g=new se(H.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),a.push(new yn(o+h.index,o+h.index+h[0].length,g))}}o=d}if(!r.validEnd){let l=r.fillBefore(H.empty,!0);t.replace(o,o,new se(l,0,0))}for(let l=a.length-1;l>=0;l--)t.step(a[l])}function v7e(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function dh(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,i=0,s=0;;--r){let a=t.$from.node(r),o=t.$from.index(r)+i,l=t.$to.indexAfter(r)-s;if(r<t.depth&&a.canReplace(o,l,n))return r;if(r==0||a.type.spec.isolating||!v7e(a,o,l))break;o&&(i=1),l<a.childCount&&(s=1)}return null}function x7e(t,e,n){let{$from:r,$to:i,depth:s}=e,a=r.before(s+1),o=i.after(s+1),l=a,c=o,d=H.empty,f=0;for(let g=s,m=!1;g>n;g--)m||r.index(g)>0?(m=!0,d=H.from(r.node(g).copy(d)),f++):l--;let h=H.empty,p=0;for(let g=s,m=!1;g>n;g--)m||i.after(g+1)<i.end(g)?(m=!0,h=H.from(i.node(g).copy(h)),p++):c++;t.step(new bn(l,c,a,o,new se(d.append(h),f,p),d.size-f,!0))}function DP(t,e,n=null,r=t){let i=b7e(t,e),s=i&&w7e(r,e);return s?i.map(aB).concat({type:e,attrs:n}).concat(s.map(aB)):null}function aB(t){return{type:t,attrs:null}}function b7e(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return n.canReplaceWith(r,i,a)?s:null}function w7e(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let l=(a.length?a[a.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:a}function S7e(t,e,n){let r=H.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let o=n[a].type.contentMatch.matchFragment(r);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=H.from(n[a].type.create(n[a].attrs,r))}let i=e.start,s=e.end;t.step(new bn(i,s,i,s,new se(r,0,0),n.length,!0))}function k7e(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(a,o)=>{let l=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,l)&&C7e(t.doc,t.mapping.slice(s).map(o),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",g=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!g?c=!1:!p&&g&&(c=!0)}c===!1&&iG(t,a,o,s),MP(t,t.mapping.slice(s).map(o,1),r,void 0,c===null);let d=t.mapping.slice(s),f=d.map(o,1),h=d.map(o+a.nodeSize,1);return t.step(new bn(f,h,f+1,h-1,new se(H.from(r.create(l,null,a.marks)),0,0),1,!0)),c===!0&&rG(t,a,o,s),!1}})}function rG(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let a,o=/\r?\n|\r/g;for(;a=o.exec(i.text);){let l=t.mapping.slice(r).map(n+1+s+a.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function iG(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function C7e(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function _7e(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new bn(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new se(H.from(a),0,0),1,!0))}function _a(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,d=n-2;c>s;c--,d--){let f=i.node(c),h=i.index(c);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(h,f.childCount),g=r&&r[d+1];g&&(p=p.replaceChild(0,g.type.create(g.attrs)));let m=r&&r[d]||f;if(!f.canReplace(h+1,f.childCount)||!m.type.validContent(p))return!1}let o=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(o,o,l?l.type:i.node(s+1).type)}function j7e(t,e,n=1,r){let i=t.doc.resolve(e),s=H.empty,a=H.empty;for(let o=i.depth,l=i.depth-n,c=n-1;o>l;o--,c--){s=H.from(i.node(o).copy(s));let d=r&&r[c];a=H.from(d?d.type.create(d.attrs,a):i.node(o).copy(a))}t.step(new yn(e,e,new se(s.append(a),n,n),!0))}function jl(t,e){let n=t.resolve(e),r=n.index();return sG(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function E7e(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),a=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function sG(t,e){return!!(t&&e&&!t.isLeaf&&E7e(t,e))}function q1(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,a,o=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(i+1),o++,a=r.node(i).maybeChild(o)):(s=r.node(i).maybeChild(o-1),a=r.node(i+1)),s&&!s.isTextblock&&sG(s,a)&&r.node(i).canReplace(o,o+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function N7e(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),a=s.node().type;if(i&&a.inlineContent){let d=a.whitespace=="pre",f=!!a.contentMatch.matchType(i);d&&!f?r=!1:!d&&f&&(r=!0)}let o=t.steps.length;if(r===!1){let d=t.doc.resolve(e+n);iG(t,d.node(),d.before(),o)}a.inlineContent&&MP(t,e+n-1,a,s.node().contentMatchAt(s.index()),r==null);let l=t.mapping.slice(o),c=l.map(e-n);if(t.step(new yn(c,l.map(e+n,-1),se.empty,!0)),r===!0){let d=t.doc.resolve(c);rG(t,d.node(),d.before(),t.steps.length)}return t}function T7e(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function aG(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let o=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,l=r.index(a)+(o>0?1:0),c=r.node(a),d=!1;if(s==1)d=c.canReplace(l,l,i);else{let f=c.contentMatchAt(l).findWrapping(i.firstChild.type);d=f&&c.canReplaceWith(l,l,f[0])}if(d)return o==0?r.pos:o<0?r.before(a+1):r.after(a+1)}return null}function K1(t,e,n=e,r=se.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return oG(i,s,r)?new yn(e,n,r):new O7e(i,s,r).fit()}function oG(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class O7e{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=H.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=H.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,a=r.depth,o=i.depth;for(;a&&o&&s.childCount==1;)s=s.firstChild.content,a--,o--;let l=new se(s,a,o);return e>-1?new bn(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new yn(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=uC(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let o=this.depth;o>=0;o--){let{type:l,match:c}=this.frontier[o],d,f=null;if(n==1&&(a?c.matchType(a.type)||(f=c.fillBefore(H.from(a),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:o,parent:s,inject:f};if(n==2&&a&&(d=c.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:o,parent:s,wrap:d};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=uC(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new se(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=uC(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new se(tp(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new se(tp(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let m=0;m<s.length;m++)this.openFrontierNode(s[m]);let a=this.unplaced,o=r?r.content:a.content,l=a.openStart-e,c=0,d=[],{match:f,type:h}=this.frontier[n];if(i){for(let m=0;m<i.childCount;m++)d.push(i.child(m));f=f.matchFragment(i)}let p=o.size+e-(a.content.size-a.openEnd);for(;c<o.childCount;){let m=o.child(c),y=f.matchType(m.type);if(!y)break;c++,(c>1||l==0||m.content.size)&&(f=y,d.push(lG(m.mark(h.allowedMarks(m.marks)),c==1?l:0,c==o.childCount?p:-1)))}let g=c==o.childCount;g||(p=-1),this.placed=np(this.placed,n,H.from(d)),this.frontier[n].match=f,g&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,y=o;m<p;m++){let v=y.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),y=v.content}this.unplaced=g?e==0?se.empty:new se(tp(a.content,e-1,1),e-1,p<0?a.openEnd:e-1):new se(tp(a.content,e,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!dC(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=dC(e,n,i,r,s);if(a){for(let o=n-1;o>=0;o--){let{match:l,type:c}=this.frontier[o],d=dC(e,o,c,l,!0);if(!d||d.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=np(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=np(this.placed,this.depth,H.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(H.empty,!0);n.childCount&&(this.placed=np(this.placed,this.frontier.length,n))}}function tp(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(tp(t.firstChild.content,e-1,n)))}function np(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(np(t.lastChild.content,e-1,n)))}function uC(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function lG(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,lG(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(H.empty,!0)))),t.copy(r)}function dC(t,e,n,r,i){let s=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let o=r.fillBefore(s.content,!0,a);return o&&!P7e(n,s.content,a)?o:null}function P7e(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function A7e(t){return t.spec.defining||t.spec.definingForContent}function M7e(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(oG(i,s,r))return t.step(new yn(e,n,r));let a=uG(i,s);a[a.length-1]==0&&a.pop();let o=-(i.depth+1);a.unshift(o);for(let h=i.depth,p=i.pos-1;h>0;h--,p--){let g=i.node(h).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;a.indexOf(h)>-1?o=h:i.before(h)==p&&a.splice(1,0,-h)}let l=a.indexOf(o),c=[],d=r.openStart;for(let h=r.content,p=0;;p++){let g=h.firstChild;if(c.push(g),p==r.openStart)break;h=g.content}for(let h=d-1;h>=0;h--){let p=c[h],g=A7e(p.type);if(g&&!p.sameMarkup(i.node(Math.abs(o)-1)))d=h;else if(g||!p.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let p=(h+d+1)%(r.openStart+1),g=c[p];if(g)for(let m=0;m<a.length;m++){let y=a[(m+l)%a.length],v=!0;y<0&&(v=!1,y=-y);let x=i.node(y-1),b=i.index(y-1);if(x.canReplaceWith(b,b,g.type,g.marks))return t.replace(i.before(y),v?s.after(y):n,new se(cG(r.content,0,r.openStart,p),p,r.openEnd))}}let f=t.steps.length;for(let h=a.length-1;h>=0&&(t.replace(e,n,r),!(t.steps.length>f));h--){let p=a[h];p<0||(e=i.before(p),n=s.after(p))}}function cG(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(cG(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(H.empty,!0))}return t}function D7e(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=T7e(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new se(H.from(r),0,0))}function R7e(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=uG(r,i);for(let a=0;a<s.length;a++){let o=s[a],l=a==s.length-1;if(l&&o==0||r.node(o).type.contentMatch.validEnd)return t.delete(r.start(o),i.end(o));if(o>0&&(l||r.node(o-1).canReplace(r.index(o-1),i.indexAfter(o-1))))return t.delete(r.before(o),i.after(o))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function uG(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class _d extends Jn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return tn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return tn.fromReplace(e,this.pos,this.pos+1,new se(H.from(i),0,n.isLeaf?0:1))}getMap(){return zr.empty}invert(e){return new _d(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new _d(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new _d(n.pos,n.attr,n.value)}}Jn.jsonID("attr",_d);class rg extends Jn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return tn.ok(r)}getMap(){return zr.empty}invert(e){return new rg(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new rg(n.attr,n.value)}}Jn.jsonID("docAttr",rg);let Cf=class extends Error{};Cf=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Cf.prototype=Object.create(Error.prototype);Cf.prototype.constructor=Cf;Cf.prototype.name="TransformError";class dG{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ng}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Cf(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=se.empty){let i=K1(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new se(H.from(r),0,0))}delete(e,n){return this.replace(e,n,se.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return M7e(this,e,n,r),this}replaceRangeWith(e,n,r){return D7e(this,e,n,r),this}deleteRange(e,n){return R7e(this,e,n),this}lift(e,n){return x7e(this,e,n),this}join(e,n=1){return N7e(this,e,n),this}wrap(e,n){return S7e(this,e,n),this}setBlockType(e,n=e,r,i=null){return k7e(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return _7e(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new _d(e,n,r)),this}setDocAttribute(e,n){return this.step(new rg(e,n)),this}addNodeMark(e,n){return this.step(new Mo(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof lt)n.isInSet(r.marks)&&this.step(new qc(e,n));else{let i=r.marks,s,a=[];for(;s=n.isInSet(i);)a.push(new qc(e,s)),i=s.removeFromSet(i);for(let o=a.length-1;o>=0;o--)this.step(a[o])}return this}split(e,n=1,r){return j7e(this,e,n,r),this}addMark(e,n,r){return g7e(this,e,n,r),this}removeMark(e,n,r){return y7e(this,e,n,r),this}clearIncompatible(e,n,r){return MP(this,e,n,r),this}}const fC=Object.create(null);class Oe{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new I7e(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=se.empty){let r=n.content.lastChild,i=null;for(let o=0;o<n.openEnd;o++)i=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let o=0;o<a.length;o++){let{$from:l,$to:c}=a[o],d=e.mapping.slice(s);e.replaceRange(d.map(l.pos),d.map(c.pos),o?se.empty:n),o==0&&cB(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:o}=i[s],l=e.mapping.slice(r),c=l.map(a.pos),d=l.map(o.pos);s?e.deleteRange(c,d):(e.replaceRangeWith(c,d,n),cB(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Ce(e):Iu(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let a=n<0?Iu(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Iu(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Hr(e.node(0))}static atStart(e){return Iu(e,e,0,0,1)||new Hr(e)}static atEnd(e){return Iu(e,e,e.content.size,e.childCount,-1)||new Hr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=fC[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in fC)throw new RangeError("Duplicate use of selection JSON ID "+e);return fC[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ce.between(this.$anchor,this.$head).getBookmark()}}Oe.prototype.visible=!0;class I7e{constructor(e,n){this.$from=e,this.$to=n}}let oB=!1;function lB(t){!oB&&!t.parent.inlineContent&&(oB=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ce extends Oe{constructor(e,n=e){lB(e),lB(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Oe.near(r);let i=e.resolve(n.map(this.anchor));return new Ce(i.parent.inlineContent?i:r,r)}replace(e,n=se.empty){if(super.replace(e,n),n==se.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ce&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Y1(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ce(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Oe.findFrom(n,r,!0)||Oe.findFrom(n,-r,!0);if(s)n=s.$head;else return Oe.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Oe.findFrom(e,-r,!0)||Oe.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Ce(e,n)}}Oe.jsonID("text",Ce);class Y1{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Y1(e.map(this.anchor),e.map(this.head))}resolve(e){return Ce.between(e.resolve(this.anchor),e.resolve(this.head))}}class ge extends Oe{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Oe.near(s):new ge(s)}content(){return new se(H.from(this.node),0,0)}eq(e){return e instanceof ge&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new RP(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ge(e.resolve(n.anchor))}static create(e,n){return new ge(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ge.prototype.visible=!1;Oe.jsonID("node",ge);class RP{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Y1(r,r):new RP(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&ge.isSelectable(r)?new ge(n):Oe.near(n)}}class Hr extends Oe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=se.empty){if(n==se.empty){e.delete(0,e.doc.content.size);let r=Oe.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Hr(e)}map(e){return new Hr(e)}eq(e){return e instanceof Hr}getBookmark(){return $7e}}Oe.jsonID("all",Hr);const $7e={map(){return this},resolve(t){return new Hr(t)}};function Iu(t,e,n,r,i,s=!1){if(e.inlineContent)return Ce.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let o=e.child(a);if(o.isAtom){if(!s&&ge.isSelectable(o))return ge.create(t,n-(i<0?o.nodeSize:0))}else{let l=Iu(t,o,n+i,i<0?o.childCount:0,i,s);if(l)return l}n+=o.nodeSize*i}return null}function cB(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof yn||i instanceof bn))return;let s=t.mapping.maps[r],a;s.forEach((o,l,c,d)=>{a==null&&(a=d)}),t.setSelection(Oe.near(t.doc.resolve(a),n))}const uB=1,fv=2,dB=4;class L7e extends dG{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|uB)&~fv,this.storedMarks=null,this}get selectionSet(){return(this.updated&uB)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=fv,this}ensureMarks(e){return lt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&fv)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~fv,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||lt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Oe.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=dB,this}get scrolledIntoView(){return(this.updated&dB)>0}}function fB(t,e){return!e||!t?t:t.bind(e)}class rp{constructor(e,n,r){this.name=e,this.init=fB(n.init,r),this.apply=fB(n.apply,r)}}const B7e=[new rp("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new rp("selection",{init(t,e){return t.selection||Oe.atStart(e.doc)},apply(t){return t.selection}}),new rp("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new rp("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class hC{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=B7e.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new rp(r.key,r.spec.state,r))})}}class ad{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let o=this.config.plugins[a];if(o.spec.appendTransaction){let l=i?i[a].n:0,c=i?i[a].state:this,d=l<n.length&&o.spec.appendTransaction.call(o,l?n.slice(l):n,c,r);if(d&&r.filterTransaction(d,a)){if(d.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<a?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),s=!0}i&&(i[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ad(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new L7e(this)}static create(e){let n=new hC(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ad(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new hC(this.schema,e.plugins),r=n.fields,i=new ad(n);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new hC(e.schema,e.plugins),s=new ad(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=Go.fromJSON(e.schema,n.doc);else if(a.name=="selection")s.selection=Oe.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let o in r){let l=r[o],c=l.spec.state;if(l.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,o)){s[a.name]=c.fromJSON.call(l,e,n[o],s);return}}s[a.name]=a.init(e,s)}}),s}}function fG(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=fG(i,e,{})),n[r]=i}return n}class Mt{constructor(e){this.spec=e,this.props={},e.props&&fG(e.props,this,this.props),this.key=e.key?e.key.key:hG("plugin")}getState(e){return e[this.key]}}const pC=Object.create(null);function hG(t){return t in pC?t+"$"+ ++pC[t]:(pC[t]=0,t+"$")}class hn{constructor(e="key"){this.key=hG(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const IP=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function pG(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const mG=(t,e,n)=>{let r=pG(t,n);if(!r)return!1;let i=$P(r);if(!i){let a=r.blockRange(),o=a&&dh(a);return o==null?!1:(e&&e(t.tr.lift(a,o).scrollIntoView()),!0)}let s=i.nodeBefore;if(CG(t,i,e,-1))return!0;if(r.parent.content.size==0&&(_f(s,"end")||ge.isSelectable(s)))for(let a=r.depth;;a--){let o=K1(t.doc,r.before(a),r.after(a),se.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(_f(s,"end")?Oe.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):ge.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},F7e=(t,e,n)=>{let r=pG(t,n);if(!r)return!1;let i=$P(r);return i?gG(t,i,e):!1},z7e=(t,e,n)=>{let r=vG(t,n);if(!r)return!1;let i=LP(r);return i?gG(t,i,e):!1};function gG(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let a=e.nodeAfter,o=a,l=e.pos+1;for(;!o.isTextblock;l++){if(o.type.spec.isolating)return!1;let d=o.firstChild;if(!d)return!1;o=d}let c=K1(t.doc,s,l,se.empty);if(!c||c.from!=s||c instanceof yn&&c.slice.size>=l-s)return!1;if(n){let d=t.tr.step(c);d.setSelection(Ce.create(d.doc,s)),n(d.scrollIntoView())}return!0}function _f(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const yG=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=$P(r)}let a=s&&s.nodeBefore;return!a||!ge.isSelectable(a)?!1:(e&&e(t.tr.setSelection(ge.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function $P(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function vG(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const xG=(t,e,n)=>{let r=vG(t,n);if(!r)return!1;let i=LP(r);if(!i)return!1;let s=i.nodeAfter;if(CG(t,i,e,1))return!0;if(r.parent.content.size==0&&(_f(s,"start")||ge.isSelectable(s))){let a=K1(t.doc,r.before(),r.after(),se.empty);if(a&&a.slice.size<a.to-a.from){if(e){let o=t.tr.step(a);o.setSelection(_f(s,"start")?Oe.findFrom(o.doc.resolve(o.mapping.map(i.pos)),1):ge.create(o.doc,o.mapping.map(i.pos))),e(o.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},bG=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=LP(r)}let a=s&&s.nodeAfter;return!a||!ge.isSelectable(a)?!1:(e&&e(t.tr.setSelection(ge.create(t.doc,s.pos)).scrollIntoView()),!0)};function LP(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const V7e=(t,e)=>{let n=t.selection,r=n instanceof ge,i;if(r){if(n.node.isTextblock||!jl(t.doc,n.from))return!1;i=n.from}else if(i=q1(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(ge.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},U7e=(t,e)=>{let n=t.selection,r;if(n instanceof ge){if(n.node.isTextblock||!jl(t.doc,n.to))return!1;r=n.to}else if(r=q1(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},W7e=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&dh(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},wG=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function BP(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const H7e=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=BP(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let o=n.after(),l=t.tr.replaceWith(o,o,a.createAndFill());l.setSelection(Oe.near(l.doc.resolve(o),1)),e(l.scrollIntoView())}return!0},SG=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Hr||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=BP(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,o=t.tr.insert(a,s.createAndFill());o.setSelection(Ce.create(o.doc,a+1)),e(o.scrollIntoView())}return!0},kG=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(_a(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&dh(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function q7e(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof ge&&e.selection.node.isBlock)return!r.parentOffset||!_a(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,o,l=!1,c=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){l=r.end(p)==r.pos+(r.depth-p),c=r.start(p)==r.pos-(r.depth-p),o=BP(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),s.unshift(l&&o?{type:o}:null),a=p;break}else{if(p==1)return!1;s.unshift(null)}let d=e.tr;(e.selection instanceof Ce||e.selection instanceof Hr)&&d.deleteSelection();let f=d.mapping.map(r.pos),h=_a(d.doc,f,s.length,s);if(h||(s[0]=o?{type:o}:null,h=_a(d.doc,f,s.length,s)),!h)return!1;if(d.split(f,s.length,s),!l&&c&&r.node(a).type!=o){let p=d.mapping.map(r.before(a)),g=d.doc.resolve(p);o&&r.node(a-1).canReplaceWith(g.index(),g.index()+1,o)&&d.setNodeMarkup(d.mapping.map(r.before(a)),o)}return n&&n(d.scrollIntoView()),!0}}const K7e=q7e(),Y7e=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(ge.create(t.doc,i))),!0)};function G7e(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||jl(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function CG(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,a,o,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&G7e(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(a=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(a[0]||s.type).validEnd){if(n){let p=e.pos+s.nodeSize,g=H.empty;for(let v=a.length-1;v>=0;v--)g=H.from(a[v].create(null,g));g=H.from(i.copy(g));let m=t.tr.step(new bn(e.pos-1,p,e.pos,p,new se(g,1,0),a.length,!0)),y=m.doc.resolve(p+2*a.length);y.nodeAfter&&y.nodeAfter.type==i.type&&jl(m.doc,y.pos)&&m.join(y.pos),n(m.scrollIntoView())}return!0}let d=s.type.spec.isolating||r>0&&l?null:Oe.findFrom(e,1),f=d&&d.$from.blockRange(d.$to),h=f&&dh(f);if(h!=null&&h>=e.depth)return n&&n(t.tr.lift(f,h).scrollIntoView()),!0;if(c&&_f(s,"start",!0)&&_f(i,"end")){let p=i,g=[];for(;g.push(p),!p.isTextblock;)p=p.lastChild;let m=s,y=1;for(;!m.isTextblock;m=m.firstChild)y++;if(p.canReplace(p.childCount,p.childCount,m.content)){if(n){let v=H.empty;for(let b=g.length-1;b>=0;b--)v=H.from(g[b].copy(v));let x=t.tr.step(new bn(e.pos-g.length,e.pos+s.nodeSize,e.pos+y,e.pos+s.nodeSize-y,new se(v,g.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function _G(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(Ce.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const Q7e=_G(-1),X7e=_G(1);function J7e(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),o=a&&DP(a,t,e);return o?(r&&r(n.tr.wrap(a,o).scrollIntoView()),!0):!1}}function hB(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:o}}=n.selection.ranges[s];n.doc.nodesBetween(a,o,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let d=n.doc.resolve(c),f=d.index();i=d.parent.canReplaceWith(f,f+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[a];s.setBlockType(o,l,t,e)}r(s.scrollIntoView())}return!0}}function FP(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}FP(IP,mG,yG);FP(IP,xG,bG);FP(wG,SG,kG,K7e);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Z7e(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s);if(!a)return!1;let o=r?n.tr:null;return eVe(o,a,t,e)?(r&&r(o.scrollIntoView()),!0):!1}}function eVe(t,e,n,r=null){let i=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=a.resolve(e.start-2);s=new mb(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new mb(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let o=DP(s,n,r,e);return o?(t&&tVe(t,e,o,i,n),!0):!1}function tVe(t,e,n,r,i){let s=H.empty;for(let d=n.length-1;d>=0;d--)s=H.from(n[d].type.create(n[d].attrs,s));t.step(new bn(e.start-(r?2:0),e.end,e.start,e.end,new se(s,0,0),n.length,!0));let a=0;for(let d=0;d<n.length;d++)n[d].type==i&&(a=d+1);let o=n.length-a,l=e.start+n.length-(r?2:0),c=e.parent;for(let d=e.startIndex,f=e.endIndex,h=!0;d<f;d++,h=!1)!h&&_a(t.doc,l,o)&&(t.split(l,o),l+=2*o),l+=c.child(d).nodeSize;return t}function nVe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?rVe(e,n,t,s):iVe(e,n,s):!0:!1}}function rVe(t,e,n,r){let i=t.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new bn(s-1,a,s,a,new se(H.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new mb(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const o=dh(r);if(o==null)return!1;i.lift(r,o);let l=i.doc.resolve(i.mapping.map(s,-1)-1);return jl(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function iVe(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,g=n.endIndex-1,m=n.startIndex;g>m;g--)p-=i.child(g).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let o=n.startIndex==0,l=n.endIndex==i.childCount,c=s.node(-1),d=s.index(-1);if(!c.canReplace(d+(o?0:1),d+1,a.content.append(l?H.empty:H.from(i))))return!1;let f=s.pos,h=f+a.nodeSize;return r.step(new bn(f-(o?1:0),h+(l?1:0),f+1,h-1,new se((o?H.empty:H.from(i.copy(H.empty))).append(l?H.empty:H.from(i.copy(H.empty))),o?0:1,l?0:1),o?0:1)),e(r.scrollIntoView()),!0}function sVe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let o=s.parent,l=o.child(a-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==o.type,d=H.from(c?t.create():null),f=new se(H.from(t.create(null,H.from(o.type.create(null,d)))),c?3:1,0),h=s.start,p=s.end;n(e.tr.step(new bn(h-(c?3:1),p,h,p,f,1,!0)).scrollIntoView())}return!0}}const Tn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},jf=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let wN=null;const oa=function(t,e,n){let r=wN||(wN=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},aVe=function(){wN=null},Kc=function(t,e,n,r){return n&&(pB(t,e,n,r,-1)||pB(t,e,n,r,1))},oVe=/^(img|br|input|textarea|hr)$/i;function pB(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:pi(t))){let a=t.parentNode;if(!a||a.nodeType!=1||Fg(t)||oVe.test(t.nodeName)||t.contentEditable=="false")return!1;e=Tn(t)+(i<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=a,e=i<0?pi(t):0}else return!1}}function pi(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function lVe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=pi(t)}else if(t.parentNode&&!Fg(t))e=Tn(t),t=t.parentNode;else return null}}function cVe(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Fg(t))e=Tn(t)+1,t=t.parentNode;else return null}}function uVe(t,e,n){for(let r=e==0,i=e==pi(t);r||i;){if(t==n)return!0;let s=Tn(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==pi(t)}}function Fg(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const G1=function(t){return t.focusNode&&Kc(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ql(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function dVe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function fVe(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(pi(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(pi(r.startContainer),r.startOffset)}}}const Ws=typeof navigator<"u"?navigator:null,mB=typeof document<"u"?document:null,El=Ws&&Ws.userAgent||"",SN=/Edge\/(\d+)/.exec(El),jG=/MSIE \d/.exec(El),kN=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(El),Nr=!!(jG||kN||SN),Xo=jG?document.documentMode:kN?+kN[1]:SN?+SN[1]:0,ki=!Nr&&/gecko\/(\d+)/i.test(El);ki&&+(/Firefox\/(\d+)/.exec(El)||[0,0])[1];const CN=!Nr&&/Chrome\/(\d+)/.exec(El),vn=!!CN,EG=CN?+CN[1]:0,Xn=!Nr&&!!Ws&&/Apple Computer/.test(Ws.vendor),Ef=Xn&&(/Mobile\/\w+/.test(El)||!!Ws&&Ws.maxTouchPoints>2),ci=Ef||(Ws?/Mac/.test(Ws.platform):!1),NG=Ws?/Win/.test(Ws.platform):!1,ga=/Android \d/.test(El),zg=!!mB&&"webkitFontSmoothing"in mB.documentElement.style,hVe=zg?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function pVe(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ta(t,e){return typeof t=="number"?t:t[e]}function mVe(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function gB(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=jf(a);continue}let o=a,l=o==s.body,c=l?pVe(s):mVe(o),d=0,f=0;if(e.top<c.top+ta(r,"top")?f=-(c.top-e.top+ta(i,"top")):e.bottom>c.bottom-ta(r,"bottom")&&(f=e.bottom-e.top>c.bottom-c.top?e.top+ta(i,"top")-c.top:e.bottom-c.bottom+ta(i,"bottom")),e.left<c.left+ta(r,"left")?d=-(c.left-e.left+ta(i,"left")):e.right>c.right-ta(r,"right")&&(d=e.right-c.right+ta(i,"right")),d||f)if(l)s.defaultView.scrollBy(d,f);else{let p=o.scrollLeft,g=o.scrollTop;f&&(o.scrollTop+=f),d&&(o.scrollLeft+=d);let m=o.scrollLeft-p,y=o.scrollTop-g;e={left:e.left-m,top:e.top-y,right:e.right-m,bottom:e.bottom-y}}let h=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(h))break;a=h=="absolute"?a.offsetParent:jf(a)}}function gVe(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let o=t.root.elementFromPoint(s,a);if(!o||o==t.dom||!t.dom.contains(o))continue;let l=o.getBoundingClientRect();if(l.top>=n-20){r=o,i=l.top;break}}return{refDOM:r,refTop:i,stack:TG(t.dom)}}function TG(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=jf(r));return e}function yVe({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;OG(n,r==0?0:r-e)}function OG(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Tu=null;function vVe(t){if(t.setActive)return t.setActive();if(Tu)return t.focus(Tu);let e=TG(t);t.focus(Tu==null?{get preventScroll(){return Tu={preventScroll:!0},!0}}:void 0),Tu||(Tu=!1,OG(e,0))}function PG(t,e){let n,r=2e8,i,s=0,a=e.top,o=e.top,l,c;for(let d=t.firstChild,f=0;d;d=d.nextSibling,f++){let h;if(d.nodeType==1)h=d.getClientRects();else if(d.nodeType==3)h=oa(d).getClientRects();else continue;for(let p=0;p<h.length;p++){let g=h[p];if(g.top<=a&&g.bottom>=o){a=Math.max(g.bottom,a),o=Math.min(g.top,o);let m=g.left>e.left?g.left-e.left:g.right<e.left?e.left-g.right:0;if(m<r){n=d,r=m,i=m&&n.nodeType==3?{left:g.right<e.left?g.right:g.left,top:e.top}:e,d.nodeType==1&&m&&(s=f+(e.left>=(g.left+g.right)/2?1:0));continue}}else g.top>e.top&&!l&&g.left<=e.left&&g.right>=e.left&&(l=d,c={left:Math.max(g.left,Math.min(g.right,e.left)),top:g.top});!n&&(e.left>=g.right&&e.top>=g.top||e.left>=g.left&&e.top>=g.bottom)&&(s=f+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?xVe(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:PG(n,i)}function xVe(t,e){let n=t.nodeValue.length,r=document.createRange(),i;for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let a=ao(r,1);if(a.top!=a.bottom&&zP(e,a)){i={node:t,offset:s+(e.left>=(a.left+a.right)/2?1:0)};break}}return r.detach(),i||{node:t,offset:0}}function zP(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function bVe(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function wVe(t,e,n){let{node:r,offset:i}=PG(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function SVe(t,e,n,r){let i=-1;for(let s=e,a=!1;s!=t.dom;){let o=t.docView.nearestDesc(s,!0),l;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((l=o.dom.getBoundingClientRect()).width||l.height)&&(o.node.isBlock&&o.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(o.dom.nodeName)&&(!a&&l.left>r.left||l.top>r.top?i=o.posBefore:(!a&&l.right<r.left||l.bottom<r.top)&&(i=o.posAfter),a=!0),!o.contentDOM&&i<0&&!o.node.isText))return(o.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?o.posBefore:o.posAfter;s=o.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function AG(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let a=t.childNodes[s];if(a.nodeType==1){let o=a.getClientRects();for(let l=0;l<o.length;l++){let c=o[l];if(zP(e,c))return AG(a,e,c)}}if((s=(s+1)%r)==i)break}return t}function kVe(t,e){let n=t.dom.ownerDocument,r,i=0,s=fVe(n,e.left,e.top);s&&({node:r,offset:i}=s);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),o;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let c=t.dom.getBoundingClientRect();if(!zP(e,c)||(a=AG(t.dom,e,c),!a))return null}if(Xn)for(let c=a;r&&c;c=jf(c))c.draggable&&(r=void 0);if(a=bVe(a,e),r){if(ki&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d=r.childNodes[i],f;d.nodeName=="IMG"&&(f=d.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}let c;zg&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?o=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(o=SVe(t,r,i,e))}o==null&&(o=wVe(t,a,e));let l=t.docView.nearestDesc(a,!0);return{pos:o,inside:l?l.posAtStart-l.border:-1}}function yB(t){return t.top<t.bottom||t.left<t.right}function ao(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(yB(r))return r}return Array.prototype.find.call(n,yB)||t.getBoundingClientRect()}const CVe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function MG(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),a=zg||ki;if(r.nodeType==3)if(a&&(CVe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=ao(oa(r,i,i),n);if(ki&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=ao(oa(r,i-1,i-1),-1);if(c.top==l.top){let d=ao(oa(r,i,i+1),-1);if(d.top!=l.top)return Fh(d,d.left<c.left)}}return l}else{let l=i,c=i,d=n<0?1:-1;return n<0&&!i?(c++,d=-1):n>=0&&i==r.nodeValue.length?(l--,d=1):n<0?l--:c++,Fh(ao(oa(r,l,c),d),d<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==pi(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return mC(l.getBoundingClientRect(),!1)}if(s==null&&i<pi(r)){let l=r.childNodes[i];if(l.nodeType==1)return mC(l.getBoundingClientRect(),!0)}return mC(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==pi(r))){let l=r.childNodes[i-1],c=l.nodeType==3?oa(l,pi(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Fh(ao(c,1),!1)}if(s==null&&i<pi(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?oa(l,0,a?0:1):l.nodeType==1?l:null:null;if(c)return Fh(ao(c,-1),!0)}return Fh(ao(r.nodeType==3?oa(r):r,-n),n>=0)}function Fh(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function mC(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function DG(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function _Ve(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return DG(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let o=t.docView.nearestDesc(s,!0);if(!o)break;if(o.node.isBlock){s=o.contentDOM||o.dom;break}s=o.dom.parentNode}let a=MG(t,i.pos,1);for(let o=s.firstChild;o;o=o.nextSibling){let l;if(o.nodeType==1)l=o.getClientRects();else if(o.nodeType==3)l=oa(o,0,o.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let d=l[c];if(d.bottom>d.top+1&&(n=="up"?a.top-d.top>(d.bottom-a.top)*2:d.bottom-a.bottom>(a.bottom-d.top)*2))return!1}}return!0})}const jVe=/[\u0590-\u08ac]/;function EVe(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,o=t.domSelection();return o?!jVe.test(r.parent.textContent)||!o.modify?n=="left"||n=="backward"?s:a:DG(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:d,anchorOffset:f}=t.domSelectionRange(),h=o.caretBidiLevel;o.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:g,focusOffset:m}=t.domSelectionRange(),y=g&&!p.contains(g.nodeType==1?g:g.parentNode)||l==g&&c==m;try{o.collapse(d,f),l&&(l!=d||c!=f)&&o.extend&&o.extend(l,c)}catch{}return h!=null&&(o.caretBidiLevel=h),y}):r.pos==r.start()||r.pos==r.end()}let vB=null,xB=null,bB=!1;function NVe(t,e,n){return vB==e&&xB==n?bB:(vB=e,xB=n,bB=n=="up"||n=="down"?_Ve(t,e,n):EVe(t,e,n))}const Ci=0,wB=1,lc=2,Hs=3;class Vg{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Ci,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Tn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let o=i.children[a];if(o.size){i=o;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],o=s+a.size;if(o>e||a instanceof IG){i=e-s;break}s=o}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof RG&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Tn(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Tn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,o=0;;o++){let l=this.children[o],c=a+l.size;if(i==-1&&e<=c){let d=a+l.border;if(e>=d&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,d);e=a;for(let f=o;f>0;f--){let h=this.children[f-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=Tn(h.dom)+1;break}e-=h.size}i==-1&&(i=0)}if(i>-1&&(c>n||o==this.children.length-1)){n=c;for(let d=o+1;d<this.children.length;d++){let f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){s=Tn(f.dom);break}n+=f.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),a=Math.max(e,n);for(let p=0,g=0;p<this.children.length;p++){let m=this.children[p],y=g+m.size;if(s>g&&a<y)return m.setSelection(e-g-m.border,n-g-m.border,r,i);g=y}let o=this.domFromPos(e,e?-1:1),l=n==e?o:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),d=r.domSelectionRange(),f=!1;if((ki||Xn)&&e==n){let{node:p,offset:g}=o;if(p.nodeType==3){if(f=!!(g&&p.nodeValue[g-1]==`
`),f&&g==p.nodeValue.length)for(let m=p,y;m;m=m.parentNode){if(y=m.nextSibling){y.nodeName=="BR"&&(o=l={node:y.parentNode,offset:Tn(y)+1});break}let v=m.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let m=p.childNodes[g-1];f=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(ki&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let p=d.focusNode.childNodes[d.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||f&&Xn)&&Kc(o.node,o.offset,d.anchorNode,d.anchorOffset)&&Kc(l.node,l.offset,d.focusNode,d.focusOffset))return;let h=!1;if((c.extend||e==n)&&!(f&&ki)){c.collapse(o.node,o.offset);try{e!=n&&c.extend(l.node,l.offset),h=!0}catch{}}if(!h){if(e>n){let g=o;o=l,l=g}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(o.node,o.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let o=r+s.border,l=a-s.border;if(e>=o&&n<=l){this.dirty=e==r||n==a?lc:wB,e==o&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Hs:s.markDirty(e-o,n-o);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?lc:Hs}r=a}this.dirty=lc}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?lc:wB;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class RG extends Vg{constructor(e,n,r,i){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let o=document.createElement("span");o.appendChild(a),a=o}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Ci&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class TVe extends Vg{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Yc extends Vg{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],a=s&&s(n,i,r);return(!a||!a.dom)&&(a=lu.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Yc(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Hs||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Hs&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Ci){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ci}}slice(e,n,r){let i=Yc.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=jN(s,n,a,r)),e>0&&(s=jN(s,0,e,r));for(let o=0;o<s.length;o++)s[o].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Jo extends Vg{constructor(e,n,r,i,s,a,o,l,c){super(e,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=o}static create(e,n,r,i,s,a){let o=s.nodeViews[n.type.name],l,c=o&&o(n,s,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},r,i),d=c&&c.dom,f=c&&c.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:f}=lu.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let h=d;return d=BG(d,r,n),c?l=new OVe(e,n,r,i,d,f||null,h,c,s,a+1):n.isText?new Q1(e,n,r,i,d,h,s):new Jo(e,n,r,i,d,f||null,h,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>H.empty)}return e}matchesNode(e,n,r){return this.dirty==Ci&&e.eq(this.node)&&yb(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,a=s&&s.pos>-1?s:null,o=s&&s.pos<0,l=new AVe(this,a&&a.node,e);RVe(this.node,this.innerDeco,(c,d,f)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!f&&l.syncToMarks(d==this.node.childCount?lt.none:this.node.child(d).marks,r,e),l.placeWidget(c,e,i)},(c,d,f,h)=>{l.syncToMarks(c.marks,r,e);let p;l.findNodeMatch(c,d,f,h)||o&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,d,f,p,e)||l.updateNextNode(c,d,f,e,h,i)||l.addNode(c,d,f,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==lc)&&(a&&this.protectLocalComposition(e,a),$G(this.contentDOM,this.children,e),Ef&&IVe(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ce)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,o=$Ve(this.node.content,a,r-n,i-n);return o<0?null:{node:s,pos:o,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new TVe(this,s,n,i);e.input.compositionNodes.push(a),this.children=jN(this.children,r,r+i.length,e,a)}update(e,n,r,i){return this.dirty==Hs||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ci}updateOuterDeco(e){if(yb(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=LG(this.dom,this.nodeDOM,_N(this.outerDeco,this.node,n),_N(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function SB(t,e,n,r,i){BG(r,e,t);let s=new Jo(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Q1 extends Jo{constructor(e,n,r,i,s,a,o){super(e,n,r,i,s,null,a,o,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Hs||this.dirty!=Ci&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ci||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ci,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Q1(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Hs)}get domAtom(){return!1}isText(e){return this.node.text==e}}class IG extends Vg{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ci&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class OVe extends Jo{constructor(e,n,r,i,s,a,o,l,c,d){super(e,n,r,i,s,a,o,c,d),this.spec=l}update(e,n,r,i){if(this.dirty==Hs)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function $G(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let a=e[s],o=a.dom;if(o.parentNode==t){for(;o!=r;)r=kB(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(o,r);if(a instanceof Yc){let l=r?r.previousSibling:t.lastChild;$G(a.contentDOM,a.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=kB(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const jp=function(t){t&&(this.nodeName=t)};jp.prototype=Object.create(null);const cc=[new jp];function _N(t,e,n){if(t.length==0)return cc;let r=n?cc[0]:new jp,i=[r];for(let s=0;s<t.length;s++){let a=t[s].type.attrs;if(a){a.nodeName&&i.push(r=new jp(a.nodeName));for(let o in a){let l=a[o];l!=null&&(n&&i.length==1&&i.push(r=new jp(e.isInline?"span":"div")),o=="class"?r.class=(r.class?r.class+" ":"")+l:o=="style"?r.style=(r.style?r.style+";":"")+l:o!="nodeName"&&(r[o]=l))}}}return i}function LG(t,e,n,r){if(n==cc&&r==cc)return e;let i=e;for(let s=0;s<r.length;s++){let a=r[s],o=n[s];if(s){let l;o&&o.nodeName==a.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),o=cc[0]),i=l}PVe(i,o||cc[0],a)}return i}function PVe(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function BG(t,e,n){return LG(t,t,cc,_N(e,n,t.nodeType!=1))}function yb(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function kB(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class AVe{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=MVe(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Ci,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let o=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){o=l;break}}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let l=Yc.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))s=this.top.children.indexOf(a,this.index);else for(let o=this.index,l=Math.min(this.top.children.length,o+5);o<l;o++){let c=this.top.children[o];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=o;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let a=this.top.children[i];return a.dirty==Hs&&a.dom==a.contentDOM&&(a.dirty=lc),a.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,a){for(let o=this.index;o<this.top.children.length;o++){let l=this.top.children[o];if(l instanceof Jo){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let d=l.dom,f,h=this.isLocked(d)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Hs&&yb(n,l.outerDeco));if(!h&&l.update(e,n,r,i))return this.destroyBetween(this.index,o),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!h&&(f=this.recreateWrapper(l,e,n,r,i,a)))return this.destroyBetween(this.index,o),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=lc,f.updateChildren(i,a+1),f.dirty=Ci),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!yb(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let o=Jo.create(this.top,n,r,i,s,a);if(o.contentDOM){o.children=e.children,e.children=[];for(let l of o.children)l.parent=o}return e.destroy(),o}addNode(e,n,r,i,s){let a=Jo.create(this.top,e,n,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new RG(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Yc;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Q1)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Xn||vn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new IG(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function MVe(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,a=[];e:for(;i>0;){let o;for(;;)if(r){let c=n.children[r-1];if(c instanceof Yc)n=c,r=c.children.length;else{o=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=o.node;if(l){if(l!=t.child(i-1))break;--i,s.set(o,i),a.push(o)}}return{index:i,matched:s,matches:a.reverse()}}function DVe(t,e){return t.type.side-e.type.side}function RVe(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let d=t.child(c);r(d,i,e.forChild(s,d),c),s+=d.nodeSize}return}let a=0,o=[],l=null;for(let c=0;;){let d,f;for(;a<i.length&&i[a].to==s;){let y=i[a++];y.widget&&(d?(f||(f=[d])).push(y):d=y)}if(d)if(f){f.sort(DVe);for(let y=0;y<f.length;y++)n(f[y],c,!!l)}else n(d,c,!!l);let h,p;if(l)p=-1,h=l,l=null;else if(c<t.childCount)p=c,h=t.child(c++);else break;for(let y=0;y<o.length;y++)o[y].to<=s&&o.splice(y--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)o.push(i[a++]);let g=s+h.nodeSize;if(h.isText){let y=g;a<i.length&&i[a].from<y&&(y=i[a].from);for(let v=0;v<o.length;v++)o[v].to<y&&(y=o[v].to);y<g&&(l=h.cut(y-s),h=h.cut(0,y-s),g=y,p=-1)}else for(;a<i.length&&i[a].to<g;)a++;let m=h.isInline&&!h.isLeaf?o.filter(y=>!y.inline):o.slice();r(h,m,e.forChild(s,h),p),s=g}}function IVe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function $Ve(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let a=t.child(i++),o=s;if(s+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=r&&l.slice(r-e.length-o,r-o)==e)return r-e.length;let c=o<r?l.lastIndexOf(e,r-o-1):-1;if(c>=0&&c+e.length+o>=n)return o+c;if(n==r&&l.length>=r+e.length-o&&l.slice(r-o,r-o+e.length)==e)return r}}return-1}function jN(t,e,n,r,i){let s=[];for(let a=0,o=0;a<t.length;a++){let l=t[a],c=o,d=o+=l.size;c>=n||d<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,r)),i&&(s.push(i),i=void 0),d>n&&s.push(l.slice(n-c,l.size,r)))}return s}function VP(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let o=r.resolve(a),l,c;if(G1(n)){for(l=a;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&ge.isSelectable(f)&&i.parent&&!(f.isInline&&uVe(n.focusNode,n.focusOffset,i.dom))){let h=i.posBefore;c=new ge(a==h?o:r.resolve(h))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=a,h=a;for(let p=0;p<n.rangeCount;p++){let g=n.getRangeAt(p);f=Math.min(f,t.docView.posFromDOM(g.startContainer,g.startOffset,1)),h=Math.max(h,t.docView.posFromDOM(g.endContainer,g.endOffset,-1))}if(f<0)return null;[l,a]=h==t.state.selection.anchor?[h,f]:[f,h],o=r.resolve(a)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let d=r.resolve(l);if(!c){let f=e=="pointer"||t.state.selection.head<o.pos&&!s?1:-1;c=UP(t,d,o,f)}return c}function FG(t){return t.editable?t.hasFocus():VG(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ja(t,e=!1){let n=t.state.selection;if(zG(t,n),!!FG(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&vn){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Kc(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)BVe(t);else{let{anchor:r,head:i}=n,s,a;CB&&!(n instanceof Ce)&&(n.$from.parent.inlineContent||(s=_B(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=_B(t,n.to))),t.docView.setSelection(r,i,t,e),CB&&(s&&jB(s),a&&jB(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&LVe(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const CB=Xn||vn&&EG<63;function _B(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Xn&&i&&i.contentEditable=="false")return gC(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return gC(i);if(s)return gC(s)}}function gC(t){return t.contentEditable="true",Xn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function jB(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function LVe(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!FG(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function BVe(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Tn(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Nr&&Xo<=11&&(n.disabled=!0,n.disabled=!1)}function zG(t,e){if(e instanceof ge){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(EB(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else EB(t)}function EB(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function UP(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Ce.between(e,n,r)}function NB(t){return t.editable&&!t.hasFocus()?!1:VG(t)}function VG(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function FVe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Kc(e.node,e.offset,n.anchorNode,n.anchorOffset)}function EN(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Oe.findFrom(s,e)}function uo(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function TB(t,e,n){let r=t.state.selection;if(r instanceof Ce)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return uo(t,new Ce(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=EN(t.state,e);return i&&i instanceof ge?uo(t,i):!1}else if(!(ci&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let o=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=t.docView.descAt(o))&&!a.contentDOM?ge.isSelectable(s)?uo(t,new ge(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):zg?uo(t,new Ce(t.state.doc.resolve(e<0?o:o+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ge&&r.node.isInline)return uo(t,new Ce(e>0?r.$to:r.$from));{let i=EN(t.state,e);return i?uo(t,i):!1}}}function vb(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ep(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ou(t,e){return e<0?zVe(t):VVe(t)}function zVe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,a=!1;for(ki&&n.nodeType==1&&r<vb(n)&&Ep(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let o=n.childNodes[r-1];if(Ep(o,-1))i=n,s=--r;else if(o.nodeType==3)n=o,r=n.nodeValue.length;else break}}else{if(UG(n))break;{let o=n.previousSibling;for(;o&&Ep(o,-1);)i=n.parentNode,s=Tn(o),o=o.previousSibling;if(o)n=o,r=vb(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?NN(t,n,r):i&&NN(t,i,s)}function VVe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=vb(n),s,a;for(;;)if(r<i){if(n.nodeType!=1)break;let o=n.childNodes[r];if(Ep(o,1))s=n,a=++r;else break}else{if(UG(n))break;{let o=n.nextSibling;for(;o&&Ep(o,1);)s=o.parentNode,a=Tn(o)+1,o=o.nextSibling;if(o)n=o,r=0,i=vb(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&NN(t,s,a)}function UG(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function UVe(t,e){for(;t&&e==t.childNodes.length&&!Fg(t);)e=Tn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function WVe(t,e){for(;t&&!e&&!Fg(t);)e=Tn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function NN(t,e,n){if(e.nodeType!=3){let s,a;(a=UVe(e,n))?(e=a,n=0):(s=WVe(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(G1(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&ja(t)},50)}function OB(t,e){let n=t.state.doc.resolve(e);if(!(vn||NG)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function PB(t,e,n){let r=t.state.selection;if(r instanceof Ce&&!r.empty||n.indexOf("s")>-1||ci&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=EN(t.state,e);if(a&&a instanceof ge)return uo(t,a)}if(!i.parent.inlineContent){let a=e<0?i:s,o=r instanceof Hr?Oe.near(a,e):Oe.findFrom(a,e);return o?uo(t,o):!1}return!1}function AB(t,e){if(!(t.state.selection instanceof Ce))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=t.state.tr;return e<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),t.dispatch(a),!0}return!1}function MB(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function HVe(t){if(!Xn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;MB(t,r,"true"),setTimeout(()=>MB(t,r,"false"),20)}return!1}function qVe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function KVe(t,e){let n=e.keyCode,r=qVe(e);if(n==8||ci&&n==72&&r=="c")return AB(t,-1)||Ou(t,-1);if(n==46&&!e.shiftKey||ci&&n==68&&r=="c")return AB(t,1)||Ou(t,1);if(n==13||n==27)return!0;if(n==37||ci&&n==66&&r=="c"){let i=n==37?OB(t,t.state.selection.from)=="ltr"?-1:1:-1;return TB(t,i,r)||Ou(t,i)}else if(n==39||ci&&n==70&&r=="c"){let i=n==39?OB(t,t.state.selection.from)=="ltr"?1:-1:1;return TB(t,i,r)||Ou(t,i)}else{if(n==38||ci&&n==80&&r=="c")return PB(t,-1,r)||Ou(t,-1);if(n==40||ci&&n==78&&r=="c")return HVe(t)||PB(t,1,r)||Ou(t,1);if(r==(ci?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function WP(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let a=t.someProp("clipboardSerializer")||lu.fromSchema(t.state.schema),o=GG(),l=o.createElement("div");l.appendChild(a.serializeFragment(r,{document:o}));let c=l.firstChild,d,f=0;for(;c&&c.nodeType==1&&(d=YG[c.nodeName.toLowerCase()]);){for(let p=d.length-1;p>=0;p--){let g=o.createElement(d[p]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${f?` -${f}`:""} ${JSON.stringify(n)}`);let h=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h,slice:e}}function WG(t,e,n,r,i){let s=i.parent.type.spec.code,a,o;if(!n&&!e)return null;let l=!!e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",h=>{e=h(e,s||r,t)}),s)return o=new se(H.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",h=>{o=h(o,t,!0)}),o;let f=t.someProp("clipboardTextParser",h=>h(e,i,r,t));if(f)o=f;else{let h=i.marks(),{schema:p}=t.state,g=lu.fromSchema(p);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let y=a.appendChild(document.createElement("p"));m&&y.appendChild(g.serializeNode(p.text(m,h)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),a=XVe(n),zg&&JVe(a);let c=a&&a.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let f=+d[3];f>0;f--){let h=a.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;a=h}if(o||(o=(t.someProp("clipboardParser")||t.someProp("domParser")||Qo.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||d),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!YVe.test(h.parentNode.nodeName)?{ignore:!0}:null}})),d)o=ZVe(DB(o,+d[1],+d[2]),d[4]);else if(o=se.maxOpen(GVe(o.content,i),!0),o.openStart||o.openEnd){let f=0,h=0;for(let p=o.content.firstChild;f<o.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=o.content.lastChild;h<o.openEnd&&!p.type.spec.isolating;h++,p=p.lastChild);o=DB(o,f,h)}return t.someProp("transformPasted",f=>{o=f(o,t,l)}),o}const YVe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function GVe(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,a=[];if(t.forEach(o=>{if(!a)return;let l=i.findWrapping(o.type),c;if(!l)return a=null;if(c=a.length&&s.length&&qG(l,s,o,a[a.length-1],0))a[a.length-1]=c;else{a.length&&(a[a.length-1]=KG(a[a.length-1],s.length));let d=HG(o,l);a.push(d),i=i.matchType(d.type),s=l}}),a)return H.from(a)}return t}function HG(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,H.from(t));return t}function qG(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=qG(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(H.from(HG(n,t,i+1))))}}function KG(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,KG(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(H.empty,!0);return t.copy(n.append(r))}function TN(t,e,n,r,i,s){let a=e<0?t.firstChild:t.lastChild,o=a.content;return t.childCount>1&&(s=0),i<r-1&&(o=TN(o,e,n,r,i+1,s)),i>=n&&(o=e<0?a.contentMatchAt(0).fillBefore(o,s<=i).append(o):o.append(a.contentMatchAt(a.childCount).fillBefore(H.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(o))}function DB(t,e,n){return e<t.openStart&&(t=new se(TN(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new se(TN(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const YG={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let RB=null;function GG(){return RB||(RB=document.implementation.createHTMLDocument("title"))}let yC=null;function QVe(t){let e=window.trustedTypes;return e?(yC||(yC=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),yC.createHTML(t)):t}function XVe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=GG().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&YG[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=QVe(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function JVe(t){let e=t.querySelectorAll(vn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function ZVe(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:a}=t;for(let o=r.length-2;o>=0;o-=2){let l=n.nodes[r[o]];if(!l||l.hasRequiredAttrs())break;i=H.from(l.create(r[o+1],i)),s++,a++}return new se(i,s,a)}const cr={},ur={},eUe={touchstart:!0,touchmove:!0};class tUe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function nUe(t){for(let e in cr){let n=cr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{iUe(t,r)&&!HP(t,r)&&(t.editable||!(r.type in ur))&&n(t,r)},eUe[e]?{passive:!0}:void 0)}Xn&&t.dom.addEventListener("input",()=>null),ON(t)}function Do(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function rUe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function ON(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>HP(t,r))})}function HP(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function iUe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function sUe(t,e){!HP(t,e)&&cr[e.type]&&(t.editable||!(e.type in ur))&&cr[e.type](t,e)}ur.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!XG(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(ga&&vn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ef&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Ql(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||KVe(t,n)?n.preventDefault():Do(t,"key")};ur.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ur.keypress=(t,e)=>{let n=e;if(XG(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||ci&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ce)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function X1(t){return{left:t.clientX,top:t.clientY}}function aUe(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function qP(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(t.someProp(e,o=>a>s.depth?o(t,n,s.nodeAfter,s.before(a),i,!0):o(t,n,s.node(a),s.before(a),i,!1)))return!0;return!1}function jd(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function oUe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&ge.isSelectable(r)?(jd(t,new ge(n)),!0):!1}function lUe(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof ge&&(r=n.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let o=a>s.depth?s.nodeAfter:s.node(a);if(ge.isSelectable(o)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(a);break}}return i!=null?(jd(t,ge.create(t.state.doc,i)),!0):!1}function cUe(t,e,n,r,i){return qP(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?lUe(t,n):oUe(t,n))}function uUe(t,e,n,r){return qP(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function dUe(t,e,n,r){return qP(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||fUe(t,n,r)}function fUe(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(jd(t,Ce.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),o=i.before(s);if(a.inlineContent)jd(t,Ce.create(r,o+1,o+1+a.content.size));else if(ge.isSelectable(a))jd(t,ge.create(r,o));else continue;return!0}}function KP(t){return xb(t)}const QG=ci?"metaKey":"ctrlKey";cr.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=KP(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&aUe(n,t.input.lastClick)&&!n[QG]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let a=t.posAtCoords(X1(n));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new hUe(t,a,n,!!r)):(s=="doubleClick"?uUe:dUe)(t,a.pos,a.inside,n)?n.preventDefault():Do(t,"pointer"))};class hUe{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[QG],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),a=n.inside;else{let d=e.state.doc.resolve(n.pos);s=d.parent,a=d.depth?d.before():0}const o=i?null:r.target,l=o?e.docView.nearestDesc(o,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof ge&&c.from<=a&&c.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ki&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Do(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ja(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(X1(e))),this.updateAllowDefault(e),this.allowDefault||!n?Do(this.view,"pointer"):cUe(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Xn&&this.mightDrag&&!this.mightDrag.node.isAtom||vn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(jd(this.view,Oe.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Do(this.view,"pointer")}move(e){this.updateAllowDefault(e),Do(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}cr.touchstart=t=>{t.input.lastTouch=Date.now(),KP(t),Do(t,"pointer")};cr.touchmove=t=>{t.input.lastTouch=Date.now(),Do(t,"pointer")};cr.contextmenu=t=>KP(t);function XG(t,e){return t.composing?!0:Xn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const pUe=ga?5e3:-1;ur.compositionstart=ur.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ce&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||vn&&NG&&mUe(t)))t.markCursor=t.state.storedMarks||n.marks(),xb(t,!0),t.markCursor=null;else if(xb(t,!e.selection.empty),ki&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let o=t.domSelection();o&&o.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}t.input.composing=!0}JG(t,pUe)};function mUe(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}ur.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,JG(t,20))};function JG(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>xb(t),e))}function ZG(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=yUe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function gUe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=lVe(e.focusNode,e.focusOffset),r=cVe(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function yUe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function xb(t,e=!1){if(!(ga&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),ZG(t),e||t.docView&&t.docView.dirty){let n=VP(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function vUe(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const ig=Nr&&Xo<15||Ef&&hVe<604;cr.copy=ur.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=ig?null:n.clipboardData,a=r.content(),{dom:o,text:l}=WP(t,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",o.innerHTML),s.setData("text/plain",l)):vUe(t,o),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function xUe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function bUe(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?sg(t,r.value,null,i,e):sg(t,r.textContent,r.innerHTML,i,e)},50)}function sg(t,e,n,r,i){let s=WG(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||se.empty)))return!0;if(!s)return!1;let a=xUe(s),o=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(s);return t.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function eQ(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ur.paste=(t,e)=>{let n=e;if(t.composing&&!ga)return;let r=ig?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&sg(t,eQ(r),r.getData("text/html"),i,n)?n.preventDefault():bUe(t,n)};class tQ{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const wUe=ci?"altKey":"ctrlKey";function nQ(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[wUe]}cr.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(X1(n)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof ge?i.to-1:i.to))){if(r&&r.mightDrag)a=ge.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(a=ge.create(t.state.doc,f.posBefore))}}let o=(a||t.state.selection).content(),{dom:l,text:c,slice:d}=WP(t,o);(!n.dataTransfer.files.length||!vn||EG>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(ig?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",ig||n.dataTransfer.setData("text/plain",c),t.dragging=new tQ(d,nQ(t,n),a)};cr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ur.dragover=ur.dragenter=(t,e)=>e.preventDefault();ur.drop=(t,e)=>{try{SUe(t,e,t.dragging)}finally{t.dragging=null}};function SUe(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(X1(e));if(!r)return;let i=t.state.doc.resolve(r.pos),s=n&&n.slice;s?t.someProp("transformPasted",p=>{s=p(s,t,!1)}):s=WG(t,eQ(e.dataTransfer),ig?null:e.dataTransfer.getData("text/html"),!1,i);let a=!!(n&&nQ(t,e));if(t.someProp("handleDrop",p=>p(t,e,s||se.empty,a))){e.preventDefault();return}if(!s)return;e.preventDefault();let o=s?aG(t.state.doc,i.pos,s):i.pos;o==null&&(o=i.pos);let l=t.state.tr;if(a){let{node:p}=n;p?p.replace(l):l.deleteSelection()}let c=l.mapping.map(o),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=l.doc;if(d?l.replaceRangeWith(c,c,s.content.firstChild):l.replaceRange(c,c,s),l.doc.eq(f))return;let h=l.doc.resolve(c);if(d&&ge.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))l.setSelection(new ge(h));else{let p=l.mapping.map(o);l.mapping.maps[l.mapping.maps.length-1].forEach((g,m,y,v)=>p=v),l.setSelection(UP(t,h,l.doc.resolve(p)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}cr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ja(t)},20))};cr.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};cr.beforeinput=(t,e)=>{if(vn&&ga&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Ql(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in ur)cr[t]=ur[t];function ag(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class bb{constructor(e,n){this.toDOM=e,this.spec=n||Nc,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:a}=e.mapResult(n.from+i,this.side<0?-1:1);return a?null:new or(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof bb&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ag(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Zo{constructor(e,n){this.attrs=e,this.spec=n||Nc}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new or(s,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Zo&&ag(this.attrs,e.attrs)&&ag(this.spec,e.spec)}static is(e){return e.type instanceof Zo}destroy(){}}class YP{constructor(e,n){this.attrs=e,this.spec=n||Nc}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let a=e.mapResult(n.to+i,-1);return a.deleted||a.pos<=s.pos?null:new or(s.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof YP&&ag(this.attrs,e.attrs)&&ag(this.spec,e.spec)}destroy(){}}class or{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new or(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new or(e,e,new bb(n,r))}static inline(e,n,r,i){return new or(e,n,new Zo(r,i))}static node(e,n,r,i){return new or(e,n,new YP(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Zo}get widget(){return this.type instanceof bb}}const $u=[],Nc={};class Nt{constructor(e,n){this.local=e.length?e:$u,this.children=n.length?n:$u}static create(e,n){return n.length?wb(n,e,0,Nc):Fn}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let a=0;a<this.local.length;a++){let o=this.local[a];o.from<=n&&o.to>=e&&(!s||s(o.spec))&&r.push(o.copy(o.from+i,o.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let o=this.children[a]+1;this.children[a+2].findInner(e-o,n-o,r,i+o,s)}}map(e,n,r){return this==Fn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Nc)}mapInner(e,n,r,i,s){let a;for(let o=0;o<this.local.length;o++){let l=this.local[o].map(e,r,i);l&&l.type.valid(n,l)?(a||(a=[])).push(l):s.onRemove&&s.onRemove(this.local[o].spec)}return this.children.length?kUe(this.children,a||[],e,n,r,i,s):a?new Nt(a.sort(Tc),$u):Fn}add(e,n){return n.length?this==Fn?Nt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((o,l)=>{let c=l+r,d;if(d=iQ(n,o,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(o,d,c+1):i.splice(s,0,l,l+o.nodeSize,wb(d,o,c+1,Nc)),s+=3}});let a=rQ(s?sQ(n):n,-r);for(let o=0;o<a.length;o++)a[o].type.valid(e,a[o])||a.splice(o--,1);return new Nt(a.length?this.local.concat(a).sort(Tc):this.local,i||this.children)}remove(e){return e.length==0||this==Fn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,o=r[s]+n,l=r[s+1]+n;for(let d=0,f;d<e.length;d++)(f=e[d])&&f.from>o&&f.to<l&&(e[d]=null,(a||(a=[])).push(f));if(!a)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(a,o+1);c!=Fn?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let o=0;o<i.length;o++)i[o].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(o--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Nt(i,r):Fn}forChild(e,n){if(this==Fn)return this;if(n.isLeaf)return Nt.empty;let r,i;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(r=this.children[o+2]);break}let s=e+1,a=s+n.content.size;for(let o=0;o<this.local.length;o++){let l=this.local[o];if(l.from<a&&l.to>s&&l.type instanceof Zo){let c=Math.max(s,l.from)-s,d=Math.min(a,l.to)-s;c<d&&(i||(i=[])).push(l.copy(c,d))}}if(i){let o=new Nt(i.sort(Tc),$u);return r?new xo([o,r]):o}return r||Fn}eq(e){if(this==e)return!0;if(!(e instanceof Nt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return GP(this.localsInner(e))}localsInner(e){if(this==Fn)return $u;if(e.inlineContent||!this.local.some(Zo.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Zo||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Nt.empty=new Nt([],[]);Nt.removeOverlap=GP;const Fn=Nt.empty;class xo{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Nc));return xo.from(r)}forChild(e,n){if(n.isLeaf)return Nt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Fn&&(s instanceof xo?r=r.concat(s.members):r.push(s))}return xo.from(r)}eq(e){if(!(e instanceof xo)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?GP(r?n:n.sort(Tc)):$u}static from(e){switch(e.length){case 0:return Fn;case 1:return e[0];default:return new xo(e.every(n=>n instanceof Nt)?e:e.reduce((n,r)=>n.concat(r instanceof Nt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function kUe(t,e,n,r,i,s,a){let o=t.slice();for(let c=0,d=s;c<n.maps.length;c++){let f=0;n.maps[c].forEach((h,p,g,m)=>{let y=m-g-(p-h);for(let v=0;v<o.length;v+=3){let x=o[v+1];if(x<0||h>x+d-f)continue;let b=o[v]+d-f;p>=b?o[v+1]=h<=b?-2:-1:h>=d&&y&&(o[v]+=y,o[v+1]+=y)}f+=y}),d=n.maps[c].map(d,-1)}let l=!1;for(let c=0;c<o.length;c+=3)if(o[c+1]<0){if(o[c+1]==-2){l=!0,o[c+1]=-1;continue}let d=n.map(t[c]+s),f=d-i;if(f<0||f>=r.content.size){l=!0;continue}let h=n.map(t[c+1]+s,-1),p=h-i,{index:g,offset:m}=r.content.findIndex(f),y=r.maybeChild(g);if(y&&m==f&&m+y.nodeSize==p){let v=o[c+2].mapInner(n,y,d+1,t[c]+s+1,a);v!=Fn?(o[c]=f,o[c+1]=p,o[c+2]=v):(o[c+1]=-2,l=!0)}else l=!0}if(l){let c=CUe(o,t,e,n,i,s,a),d=wb(c,r,0,a);e=d.local;for(let f=0;f<o.length;f+=3)o[f+1]<0&&(o.splice(f,3),f-=3);for(let f=0,h=0;f<d.children.length;f+=3){let p=d.children[f];for(;h<o.length&&o[h]<p;)h+=3;o.splice(h,0,d.children[f],d.children[f+1],d.children[f+2])}}return new Nt(e.sort(Tc),o)}function rQ(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new or(i.from+e,i.to+e,i.type))}return n}function CUe(t,e,n,r,i,s,a){function o(l,c){for(let d=0;d<l.local.length;d++){let f=l.local[d].map(r,i,c);f?n.push(f):a.onRemove&&a.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)o(l.children[d+2],l.children[d]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&o(t[l+2],e[l]+s+1);return n}function iQ(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,a;s<t.length;s++)(a=t[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),t[s]=null);return i}function sQ(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function wb(t,e,n,r){let i=[],s=!1;e.forEach((o,l)=>{let c=iQ(t,o,l+n);if(c){s=!0;let d=wb(c,o,n+l+1,r);d!=Fn&&i.push(l,l+o.nodeSize,d)}});let a=rQ(s?sQ(t):t,-n).sort(Tc);for(let o=0;o<a.length;o++)a[o].type.valid(e,a[o])||(r.onRemove&&r.onRemove(a[o].spec),a.splice(o--,1));return a.length||i.length?new Nt(a,i):Fn}function Tc(t,e){return t.from-e.from||t.to-e.to}function GP(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),IB(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),IB(e,i,r.copy(s.from,r.to)));break}}}return e}function IB(t,e,n){for(;e<t.length&&Tc(n,t[e])>0;)e++;t.splice(e,0,n)}function vC(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Fn&&e.push(r)}),t.cursorWrapper&&e.push(Nt.create(t.state.doc,[t.cursorWrapper.deco])),xo.from(e)}const _Ue={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},jUe=Nr&&Xo<=11;class EUe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class NUe{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new EUe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Nr&&Xo<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),jUe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,_Ue)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(NB(this.view)){if(this.suppressingSelectionUpdates)return ja(this.view);if(Nr&&Xo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Kc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=jf(s))n.add(s);for(let s=e.anchorNode;s;s=jf(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&NB(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,o=!1,l=[];if(e.editable)for(let d=0;d<n.length;d++){let f=this.registerMutation(n[d],l);f&&(s=s<0?f.from:Math.min(f.from,s),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(o=!0))}if(ki&&l.length){let d=l.filter(f=>f.nodeName=="BR");if(d.length==2){let[f,h]=d;f.parentNode&&f.parentNode.parentNode==h.parentNode?h.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let h of d){let p=h.parentNode;p&&p.nodeName=="LI"&&(!f||PUe(e,f)!=p)&&h.remove()}}}else if((vn||Xn)&&l.some(d=>d.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let d of l)if(d.nodeName=="BR"&&d.parentNode){let f=d.nextSibling;f&&f.nodeType==1&&f.contentEditable=="false"&&d.parentNode.removeChild(d)}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&G1(r)&&(c=VP(e))&&c.eq(Oe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ja(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,a),TUe(e)),this.handleDOMChange(s,a,o,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||ja(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let f=e.addedNodes[d];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Nr&&Xo<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:f,nextSibling:h}=e.addedNodes[d];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(s=h)}let a=i&&i.parentNode==e.target?Tn(i)+1:0,o=r.localPosFromDOM(e.target,a,-1),l=s&&s.parentNode==e.target?Tn(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:o,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let $B=new WeakMap,LB=!1;function TUe(t){if(!$B.has(t)&&($B.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ki,LB)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),LB=!0}}function BB(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Kc(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function OUe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return BB(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?BB(t,n):null}function PUe(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function AUe(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:a,to:o}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,d=l.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:l.anchorOffset}],G1(l)||c.push({node:l.focusNode,offset:l.focusOffset})),vn&&t.input.lastKeyCode===8)for(let y=s;y>i;y--){let v=r.childNodes[y-1],x=v.pmViewDesc;if(v.nodeName=="BR"&&!x){s=y;break}if(!x||x.size)break}let f=t.state.doc,h=t.someProp("domParser")||Qo.fromSchema(t.state.schema),p=f.resolve(a),g=null,m=h.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:MUe,context:p});if(c&&c[0].pos!=null){let y=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=y),g={anchor:y+a,head:v+a}}return{doc:m,sel:g,from:a,to:o}}function MUe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Xn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Xn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const DUe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function RUe(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let _=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,j=VP(t,_);if(j&&!t.state.selection.eq(j)){if(vn&&ga&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",E=>E(t,Ql(13,"Enter"))))return;let N=t.state.tr.setSelection(j);_=="pointer"?N.setMeta("pointer",!0):_=="key"&&N.scrollIntoView(),s&&N.setMeta("composition",s),t.dispatch(N)}return}let a=t.state.doc.resolve(e),o=a.sharedDepth(n);e=a.before(o+1),n=t.state.doc.resolve(n).after(o+1);let l=t.state.selection,c=AUe(t,e,n),d=t.state.doc,f=d.slice(c.from,c.to),h,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(h=t.state.selection.to,p="end"):(h=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let g=LUe(f.content,c.doc.content,c.from,h,p);if(g&&t.input.domChangeCount++,(Ef&&t.input.lastIOSEnter>Date.now()-225||ga)&&i.some(_=>_.nodeType==1&&!DUe.test(_.nodeName))&&(!g||g.endA>=g.endB)&&t.someProp("handleKeyDown",_=>_(t,Ql(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!g)if(r&&l instanceof Ce&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))g={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let _=FB(t,t.state.doc,c.sel);if(_&&!_.eq(t.state.selection)){let j=t.state.tr.setSelection(_);s&&j.setMeta("composition",s),t.dispatch(j)}}return}t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof Ce&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),Nr&&Xo<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>c.from&&c.doc.textBetween(g.start-c.from-1,g.start-c.from+1)==" "&&(g.start--,g.endA--,g.endB--);let m=c.doc.resolveNoCache(g.start-c.from),y=c.doc.resolveNoCache(g.endB-c.from),v=d.resolve(g.start),x=m.sameParent(y)&&m.parent.inlineContent&&v.end()>=g.endA;if((Ef&&t.input.lastIOSEnter>Date.now()-225&&(!x||i.some(_=>_.nodeName=="DIV"||_.nodeName=="P"))||!x&&m.pos<c.doc.content.size&&(!m.sameParent(y)||!m.parent.inlineContent)&&m.pos<y.pos&&!/\S/.test(c.doc.textBetween(m.pos,y.pos,"","")))&&t.someProp("handleKeyDown",_=>_(t,Ql(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>g.start&&$Ue(d,g.start,g.endA,m,y)&&t.someProp("handleKeyDown",_=>_(t,Ql(8,"Backspace")))){ga&&vn&&t.domObserver.suppressSelectionUpdates();return}vn&&g.endB==g.start&&(t.input.lastChromeDelete=Date.now()),ga&&!x&&m.start()!=y.start()&&y.parentOffset==0&&m.depth==y.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==g.endA&&(g.endB-=2,y=c.doc.resolveNoCache(g.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(_){return _(t,Ql(13,"Enter"))})},20));let b=g.start,k=g.endA,w=_=>{let j=_||t.state.tr.replace(b,k,c.doc.slice(g.start-c.from,g.endB-c.from));if(c.sel){let N=FB(t,j.doc,c.sel);N&&!(vn&&t.composing&&N.empty&&(g.start!=g.endB||t.input.lastChromeDelete<Date.now()-100)&&(N.head==b||N.head==j.mapping.map(k)-1)||Nr&&N.empty&&N.head==b)&&j.setSelection(N)}return s&&j.setMeta("composition",s),j.scrollIntoView()},C;if(x)if(m.pos==y.pos){Nr&&Xo<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ja(t),20));let _=w(t.state.tr.delete(b,k)),j=d.resolve(g.start).marksAcross(d.resolve(g.endA));j&&_.ensureMarks(j),t.dispatch(_)}else if(g.endA==g.endB&&(C=IUe(m.parent.content.cut(m.parentOffset,y.parentOffset),v.parent.content.cut(v.parentOffset,g.endA-v.start())))){let _=w(t.state.tr);C.type=="add"?_.addMark(b,k,C.mark):_.removeMark(b,k,C.mark),t.dispatch(_)}else if(m.parent.child(m.index()).isText&&m.index()==y.index()-(y.textOffset?0:1)){let _=m.parent.textBetween(m.parentOffset,y.parentOffset),j=()=>w(t.state.tr.insertText(_,b,k));t.someProp("handleTextInput",N=>N(t,b,k,_,j))||t.dispatch(j())}else t.dispatch(w());else t.dispatch(w())}function FB(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:UP(t,e.resolve(n.anchor),e.resolve(n.head))}function IUe(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,a,o,l;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)s=n[d].removeFromSet(s);if(i.length==1&&s.length==0)o=i[0],a="add",l=d=>d.mark(o.addToSet(d.marks));else if(i.length==0&&s.length==1)o=s[0],a="remove",l=d=>d.mark(o.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<e.childCount;d++)c.push(l(e.child(d)));if(H.from(c).eq(t))return{mark:o,type:a}}function $Ue(t,e,n,r,i){if(n-e<=i.pos-r.pos||xC(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let o=s.nodeAfter;return o!=null&&n==e+o.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=t.resolve(xC(s,!0,!0));return!a.parent.isTextblock||a.pos>n||xC(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function xC(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function LUe(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a,b:o}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(a,o));r-=a+l-s}if(a<s&&t.size<e.size){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<e.size&&zB(e.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}else if(o<s){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<t.size&&zB(t.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}return{start:s,endA:a,endB:o}}function zB(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class aQ{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new tUe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(qB),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=WB(this),UB(this),this.nodeViews=HB(this),this.docView=SB(this.state.doc,VB(this),vC(this),this.dom,this),this.domObserver=new NUe(this,(r,i,s,a)=>RUe(this,r,i,s,a)),this.domObserver.start(),nUe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ON(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(qB),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(ZG(this),a=!0),this.state=e;let o=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(o||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=HB(this);FUe(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(o||n.handleDOMEvents!=this._props.handleDOMEvents)&&ON(this),this.editable=WB(this),UB(this);let l=vC(this),c=VB(this),d=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=s||!this.docView.matchesNode(e.doc,c,l);(f||!e.selection.eq(i.selection))&&(a=!0);let h=d=="preserve"&&a&&this.dom.style.overflowAnchor==null&&gVe(this);if(a){this.domObserver.stop();let p=f&&(Nr||vn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&BUe(i.selection,e.selection);if(f){let g=vn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=gUe(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=SB(e.doc,c,l,this.dom,this)),g&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&FVe(this))?ja(this,p):(zG(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():h&&yVe(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ge){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&gB(this,n.getBoundingClientRect(),e)}else gB(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new tQ(e.slice,e.move,i<0?void 0:ge.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let o=this.directPlugins[a].props[e];if(o!=null&&(i=n?n(o):o))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let o=s[a].props[e];if(o!=null&&(i=n?n(o):o))return i}}hasFocus(){if(Nr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&vVe(this.dom),ja(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return kVe(this,e)}coordsAtPos(e,n=1){return MG(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return NVe(this,n||this.state,e)}pasteHTML(e,n){return sg(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return sg(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return WP(this,e)}destroy(){this.docView&&(rUe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],vC(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,aVe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return sUe(this,e)}domSelectionRange(){let e=this.domSelection();return e?Xn&&this.root.nodeType===11&&dVe(this.dom.ownerDocument)==this.dom&&OUe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}aQ.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function VB(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[or.node(0,t.state.doc.content.size,e)]}function UB(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:or.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function WB(t){return!t.someProp("editable",e=>e(t.state)===!1)}function BUe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function HB(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function FUe(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function qB(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ll={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Sb={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},zUe=typeof navigator<"u"&&/Mac/.test(navigator.platform),VUe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var On=0;On<10;On++)ll[48+On]=ll[96+On]=String(On);for(var On=1;On<=24;On++)ll[On+111]="F"+On;for(var On=65;On<=90;On++)ll[On]=String.fromCharCode(On+32),Sb[On]=String.fromCharCode(On);for(var bC in ll)Sb.hasOwnProperty(bC)||(Sb[bC]=ll[bC]);function UUe(t){var e=zUe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||VUe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Sb:ll)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const WUe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),HUe=typeof navigator<"u"&&/Win/.test(navigator.platform);function qUe(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,a;for(let o=0;o<e.length-1;o++){let l=e[o];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))WUe?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function KUe(t){let e=Object.create(null);for(let n in t)e[qUe(n)]=t[n];return e}function wC(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function YUe(t){return new Mt({props:{handleKeyDown:oQ(t)}})}function oQ(t){let e=KUe(t);return function(n,r){let i=UUe(r),s,a=e[wC(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let o=e[wC(i,r,!1)];if(o&&o(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(HUe&&r.ctrlKey&&r.altKey)&&(s=ll[r.keyCode])&&s!=i){let o=e[wC(s,r)];if(o&&o(n.state,n.dispatch,n))return!0}}return!1}}var GUe=Object.defineProperty,QP=(t,e)=>{for(var n in e)GUe(t,n,{get:e[n],enumerable:!0})};function J1(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var Z1=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([a,o])=>[a,(...c)=>{const d=o(...c)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a=[],o=!!t,l=t||i.tr,c=()=>(!o&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(n).map(([f,h])=>[f,(...g)=>{const m=this.buildProps(l,e),y=h(...g)(m);return a.push(y),d}])),run:c};return d}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([o,l])=>[o,(...c)=>l(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a={tr:t,editor:r,view:s,state:J1({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([o,l])=>[o,(...c)=>l(...c)(a)]))}};return a}},lQ={};QP(lQ,{blur:()=>QUe,clearContent:()=>XUe,clearNodes:()=>JUe,command:()=>ZUe,createParagraphNear:()=>eWe,cut:()=>tWe,deleteCurrentNode:()=>nWe,deleteNode:()=>rWe,deleteRange:()=>iWe,deleteSelection:()=>sWe,enter:()=>aWe,exitCode:()=>oWe,extendMarkRange:()=>lWe,first:()=>cWe,focus:()=>dWe,forEach:()=>fWe,insertContent:()=>hWe,insertContentAt:()=>gWe,joinBackward:()=>xWe,joinDown:()=>vWe,joinForward:()=>bWe,joinItemBackward:()=>wWe,joinItemForward:()=>SWe,joinTextblockBackward:()=>kWe,joinTextblockForward:()=>CWe,joinUp:()=>yWe,keyboardShortcut:()=>jWe,lift:()=>EWe,liftEmptyBlock:()=>NWe,liftListItem:()=>TWe,newlineInCode:()=>OWe,resetAttributes:()=>PWe,scrollIntoView:()=>AWe,selectAll:()=>MWe,selectNodeBackward:()=>DWe,selectNodeForward:()=>RWe,selectParentNode:()=>IWe,selectTextblockEnd:()=>$We,selectTextblockStart:()=>LWe,setContent:()=>BWe,setMark:()=>sHe,setMeta:()=>aHe,setNode:()=>oHe,setNodeSelection:()=>lHe,setTextDirection:()=>cHe,setTextSelection:()=>uHe,sinkListItem:()=>dHe,splitBlock:()=>fHe,splitListItem:()=>hHe,toggleList:()=>pHe,toggleMark:()=>mHe,toggleNode:()=>gHe,toggleWrap:()=>yHe,undoInputRule:()=>vHe,unsetAllMarks:()=>xHe,unsetMark:()=>bHe,unsetTextDirection:()=>wHe,updateAttributes:()=>SHe,wrapIn:()=>kHe,wrapInList:()=>CHe});var QUe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),XUe=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),JUe=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:a})=>{t.doc.nodesBetween(s.pos,a.pos,(o,l)=>{if(o.type.isText)return;const{doc:c,mapping:d}=e,f=c.resolve(d.map(l)),h=c.resolve(d.map(l+o.nodeSize)),p=f.blockRange(h);if(!p)return;const g=dh(p);if(o.type.isTextblock){const{defaultType:m}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(p.start,m)}(g||g===0)&&e.lift(p,g)})}),!0},ZUe=t=>e=>t(e),eWe=()=>({state:t,dispatch:e})=>SG(t,e),tWe=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,s.content),r.setSelection(new Ce(r.doc.resolve(Math.max(a-1,0)))),!0},nWe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const o=i.before(s),l=i.after(s);t.delete(o,l).scrollIntoView()}return!0}return!1};function rn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var rWe=t=>({tr:e,state:n,dispatch:r})=>{const i=rn(t,n.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){const l=s.before(a),c=s.after(a);e.delete(l,c).scrollIntoView()}return!0}return!1},iWe=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},sWe=()=>({state:t,dispatch:e})=>IP(t,e),aWe=()=>({commands:t})=>t.keyboardShortcut("Enter"),oWe=()=>({state:t,dispatch:e})=>H7e(t,e);function XP(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function kb(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:XP(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function cQ(t,e,n={}){return t.find(r=>r.type===e&&kb(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function KB(t,e,n={}){return!!cQ(t,e,n)}function JP(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!cQ([...i.node.marks],e,n)))return;let a=i.index,o=t.start()+i.offset,l=a+1,c=o+i.node.nodeSize;for(;a>0&&KB([...t.parent.child(a-1).marks],e,n);)a-=1,o-=t.parent.child(a).nodeSize;for(;l<t.parent.childCount&&KB([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:o,to:c}}function Ka(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var lWe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=Ka(t,r.schema),{doc:a,selection:o}=n,{$from:l,from:c,to:d}=o;if(i){const f=JP(l,s,e);if(f&&f.from<=c&&f.to>=d){const h=Ce.create(a,f.from,f.to);n.setSelection(h)}}return!0},cWe=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function uQ(t){return t instanceof Ce}function uc(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function dQ(t,e=null){if(!e)return null;const n=Oe.atStart(t),r=Oe.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?Ce.create(t,uc(0,i,s),uc(t.content.size,i,s)):Ce.create(t,uc(e,i,s),uc(e,i,s))}function uWe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function ZP(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var dWe=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(ZP()||uWe())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!uQ(n.state.selection))return a(),!0;const o=dQ(i.doc,t)||n.state.selection,l=n.state.selection.eq(o);return s&&(l||i.setSelection(o),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},fWe=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),hWe=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),fQ=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&fQ(r)}return t};function hv(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return fQ(n)}function og(t,e,n){if(t instanceof Go||t instanceof H)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return H.fromArray(t.map(o=>e.nodeFromJSON(o)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),og("",e,n)}if(i){if(n.errorOnInvalidContent){let a=!1,o="";const l=new GY({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,o=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Qo.fromSchema(l).parseSlice(hv(t),n.parseOptions):Qo.fromSchema(l).parse(hv(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const s=Qo.fromSchema(e);return n.slice?s.parseSlice(hv(t),n.parseOptions).content:s.parse(hv(t),n.parseOptions)}return og("",e,n)}function pWe(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof yn||i instanceof bn))return;const s=t.mapping.maps[r];let a=0;s.forEach((o,l,c,d)=>{a===0&&(a=d)}),t.setSelection(Oe.near(t.doc.resolve(a),n))}var mWe=t=>!("type"in t),gWe=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var a;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let o;const l=y=>{s.emit("contentError",{editor:s,error:y,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{og(e,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(y){l(y)}try{o=og(e,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(y){return l(y),!1}let{from:d,to:f}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},h=!0,p=!0;if((mWe(o)?o:[o]).forEach(y=>{y.check(),h=h?y.isText&&y.marks.length===0:!1,p=p?y.isBlock:!1}),d===f&&p){const{parent:y}=r.doc.resolve(d);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(d-=1,f+=1)}let m;if(h){if(Array.isArray(e))m=e.map(y=>y.text||"").join("");else if(e instanceof H){let y="";e.forEach(v=>{v.text&&(y+=v.text)}),m=y}else typeof e=="object"&&e&&e.text?m=e.text:m=e;r.insertText(m,d,f)}else{m=o;const y=r.doc.resolve(d),v=y.node(),x=y.parentOffset===0,b=v.isText||v.isTextblock,k=v.content.size>0;x&&b&&k&&(d=Math.max(0,d-1)),r.replaceWith(d,f,m)}n.updateSelection&&pWe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:m}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:m})}return!0},yWe=()=>({state:t,dispatch:e})=>V7e(t,e),vWe=()=>({state:t,dispatch:e})=>U7e(t,e),xWe=()=>({state:t,dispatch:e})=>mG(t,e),bWe=()=>({state:t,dispatch:e})=>xG(t,e),wWe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=q1(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},SWe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=q1(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},kWe=()=>({state:t,dispatch:e})=>F7e(t,e),CWe=()=>({state:t,dispatch:e})=>z7e(t,e);function hQ(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function _We(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,a;for(let o=0;o<e.length-1;o+=1){const l=e[o];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))ZP()||hQ()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var jWe=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=_We(t).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),o=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,o))});return l==null||l.steps.forEach(c=>{const d=c.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function cl(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,a=e?rn(e,t.schema):null,o=[];t.doc.nodesBetween(r,i,(f,h)=>{if(f.isText)return;const p=Math.max(r,h),g=Math.min(i,h+f.nodeSize);o.push({node:f,from:p,to:g})});const l=i-r,c=o.filter(f=>a?a.name===f.node.type.name:!0).filter(f=>kb(f.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((f,h)=>f+h.to-h.from,0)>=l}var EWe=(t,e={})=>({state:n,dispatch:r})=>{const i=rn(t,n.schema);return cl(n,i,e)?W7e(n,r):!1},NWe=()=>({state:t,dispatch:e})=>kG(t,e),TWe=t=>({state:e,dispatch:n})=>{const r=rn(t,e.schema);return nVe(r)(e,n)},OWe=()=>({state:t,dispatch:e})=>wG(t,e);function eS(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function YB(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var PWe=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const o=eS(typeof t=="string"?t:t.name,r.schema);if(!o)return!1;o==="node"&&(s=rn(t,r.schema)),o==="mark"&&(a=Ka(t,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(d,f)=>{s&&s===d.type&&(l=!0,i&&n.setNodeMarkup(f,void 0,YB(d.attrs,e))),a&&d.marks.length&&d.marks.forEach(h=>{a===h.type&&(l=!0,i&&n.addMark(f,f+d.nodeSize,a.create(YB(h.attrs,e))))})})}),l},AWe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),MWe=()=>({tr:t,dispatch:e})=>{if(e){const n=new Hr(t.doc);t.setSelection(n)}return!0},DWe=()=>({state:t,dispatch:e})=>yG(t,e),RWe=()=>({state:t,dispatch:e})=>bG(t,e),IWe=()=>({state:t,dispatch:e})=>Y7e(t,e),$We=()=>({state:t,dispatch:e})=>X7e(t,e),LWe=()=>({state:t,dispatch:e})=>Q7e(t,e);function PN(t,e,n={},r={}){return og(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var BWe=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:a,commands:o})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=PN(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),o.insertContentAt({from:0,to:l.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function pQ(t,e){const n=Ka(e,t.schema),{from:r,to:i,empty:s}=t.selection,a=[];s?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{a.push(...l.marks)});const o=a.find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function mQ(t,e){const n=new dG(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function FWe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function zWe(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function VWe(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function tS(t){return e=>VWe(e.$from,t)}function pe(t,e,n){return t.config[e]===void 0&&t.parent?pe(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?pe(t.parent,e,n):null}):t.config[e]}function eA(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=pe(e,"addExtensions",n);return r?[e,...eA(r())]:e}).flat(10)}function tA(t,e){const n=lu.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function gQ(t){return typeof t=="function"}function Qe(t,e=void 0,...n){return gQ(t)?e?t.bind(e)(...n):t(...n):t}function UWe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Nf(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function yQ(t){const e=[],{nodeExtensions:n,markExtensions:r}=Nf(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const o={name:a.name,options:a.options,storage:a.storage,extensions:i},l=pe(a,"addGlobalAttributes",o);if(!l)return;l().forEach(d=>{d.types.forEach(f=>{Object.entries(d.attributes).forEach(([h,p])=>{e.push({type:f,name:h,attribute:{...s,...p}})})})})}),i.forEach(a=>{const o={name:a.name,options:a.options,storage:a.storage},l=pe(a,"addAttributes",o);if(!l)return;const c=l();Object.entries(c).forEach(([d,f])=>{const h={...s,...f};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:a.name,name:d,attribute:h})})}),e}function Yt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const o=s?String(s).split(" "):[],l=r[i]?r[i].split(" "):[],c=o.filter(d=>!l.includes(d));r[i]=[...l,...c].join(" ")}else if(i==="style"){const o=s?s.split(";").map(d=>d.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(d=>d.trim()).filter(Boolean):[],c=new Map;l.forEach(d=>{const[f,h]=d.split(":").map(p=>p.trim());c.set(f,h)}),o.forEach(d=>{const[f,h]=d.split(":").map(p=>p.trim());c.set(f,h)}),r[i]=Array.from(c.entries()).map(([d,f])=>`${d}: ${f}`).join("; ")}else r[i]=s}),r},{})}function Cb(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Yt(n,r),{})}function WWe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function GB(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,a)=>{const o=a.attribute.parseHTML?a.attribute.parseHTML(n):WWe(n.getAttribute(a.name));return o==null?s:{...s,[a.name]:o}},{});return{...r,...i}}}}function QB(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&UWe(n)?!1:n!=null))}function XB(t){var e,n;const r={};return!((e=t==null?void 0:t.attribute)!=null&&e.isRequired)&&"default"in((t==null?void 0:t.attribute)||{})&&(r.default=t.attribute.default),((n=t==null?void 0:t.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function HWe(t,e){var n;const r=yQ(t),{nodeExtensions:i,markExtensions:s}=Nf(t),a=(n=i.find(c=>pe(c,"topNode")))==null?void 0:n.name,o=Object.fromEntries(i.map(c=>{const d=r.filter(v=>v.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((v,x)=>{const b=pe(x,"extendNodeSchema",f);return{...v,...b?b(c):{}}},{}),p=QB({...h,content:Qe(pe(c,"content",f)),marks:Qe(pe(c,"marks",f)),group:Qe(pe(c,"group",f)),inline:Qe(pe(c,"inline",f)),atom:Qe(pe(c,"atom",f)),selectable:Qe(pe(c,"selectable",f)),draggable:Qe(pe(c,"draggable",f)),code:Qe(pe(c,"code",f)),whitespace:Qe(pe(c,"whitespace",f)),linebreakReplacement:Qe(pe(c,"linebreakReplacement",f)),defining:Qe(pe(c,"defining",f)),isolating:Qe(pe(c,"isolating",f)),attrs:Object.fromEntries(d.map(XB))}),g=Qe(pe(c,"parseHTML",f));g&&(p.parseDOM=g.map(v=>GB(v,d)));const m=pe(c,"renderHTML",f);m&&(p.toDOM=v=>m({node:v,HTMLAttributes:Cb(v,d)}));const y=pe(c,"renderText",f);return y&&(p.toText=y),[c.name,p]})),l=Object.fromEntries(s.map(c=>{const d=r.filter(y=>y.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((y,v)=>{const x=pe(v,"extendMarkSchema",f);return{...y,...x?x(c):{}}},{}),p=QB({...h,inclusive:Qe(pe(c,"inclusive",f)),excludes:Qe(pe(c,"excludes",f)),group:Qe(pe(c,"group",f)),spanning:Qe(pe(c,"spanning",f)),code:Qe(pe(c,"code",f)),attrs:Object.fromEntries(d.map(XB))}),g=Qe(pe(c,"parseHTML",f));g&&(p.parseDOM=g.map(y=>GB(y,d)));const m=pe(c,"renderHTML",f);return m&&(p.toDOM=y=>m({mark:y,HTMLAttributes:Cb(y,d)})),[c.name,p]}));return new GY({topNode:a,nodes:o,marks:l})}function qWe(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function nA(t){return t.sort((n,r)=>{const i=pe(n,"priority")||100,s=pe(r,"priority")||100;return i>s?-1:i<s?1:0})}function vQ(t){const e=nA(eA(t)),n=qWe(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function xQ(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let o="";return t.nodesBetween(r,i,(l,c,d,f)=>{var h;l.isBlock&&c>r&&(o+=s);const p=a==null?void 0:a[l.type.name];if(p)return d&&(o+=p({node:l,pos:c,parent:d,index:f,range:e})),!1;l.isText&&(o+=(h=l==null?void 0:l.text)==null?void 0:h.slice(Math.max(r,c)-c,i-c))}),o}function KWe(t,e){const n={from:0,to:t.content.size};return xQ(t,n,e)}function bQ(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function YWe(t,e){const n=rn(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,o=>{s.push(o)});const a=s.reverse().find(o=>o.type.name===n.name);return a?{...a.attrs}:{}}function wQ(t,e){const n=eS(typeof e=="string"?e:e.name,t.schema);return n==="node"?YWe(t,e):n==="mark"?pQ(t,e):{}}function GWe(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function QWe(t){const e=GWe(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function SQ(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const a=[];if(i.ranges.length)i.forEach((o,l)=>{a.push({from:o,to:l})});else{const{from:o,to:l}=n[s];if(o===void 0||l===void 0)return;a.push({from:o,to:l})}a.forEach(({from:o,to:l})=>{const c=e.slice(s).map(o,-1),d=e.slice(s).map(l),f=e.invert().map(c,-1),h=e.invert().map(d);r.push({oldRange:{from:f,to:h},newRange:{from:c,to:d}})})}),QWe(r)}function rA(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),a=JP(s,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}var XWe=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,a=null;for(;s>0&&a===null;){const o=i.node(s);(o==null?void 0:o.type.name)===e?a=o:s-=1}return[a,s]};function SC(t,e){return e.nodes[t]||e.marks[t]||null}function e0(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var JWe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,a,o)=>{var l,c;const d=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:s,parent:a,index:o}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,r-s))}),n};function AN(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?Ka(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>s?s.name===f.type.name:!0).find(f=>kb(f.attrs,n,{strict:!1}));let a=0;const o=[];if(i.forEach(({$from:f,$to:h})=>{const p=f.pos,g=h.pos;t.doc.nodesBetween(p,g,(m,y)=>{if(!m.isText&&!m.marks.length)return;const v=Math.max(p,y),x=Math.min(g,y+m.nodeSize),b=x-v;a+=b,o.push(...m.marks.map(k=>({mark:k,from:v,to:x})))})}),a===0)return!1;const l=o.filter(f=>s?s.name===f.mark.type.name:!0).filter(f=>kb(f.mark.attrs,n,{strict:!1})).reduce((f,h)=>f+h.to-h.from,0),c=o.filter(f=>s?f.mark.type!==s&&f.mark.type.excludes(s):!0).reduce((f,h)=>f+h.to-h.from,0);return(l>0?l+c:l)>=a}function ZWe(t,e,n={}){if(!e)return cl(t,null,n)||AN(t,null,n);const r=eS(e,t.schema);return r==="node"?cl(t,e,n):r==="mark"?AN(t,e,n):!1}var eHe=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=tS(o=>o.type.name===e)(t.selection);if(!s)return!1;const a=t.doc.resolve(s.pos+1);return i.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},tHe=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function JB(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function ZB(t,e){const{nodeExtensions:n}=Nf(e),r=n.find(a=>a.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Qe(pe(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function nS(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(nS(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function kQ(t){return t instanceof ge}var CQ=class _Q{constructor(e){this.position=e}static fromJSON(e){return new _Q(e.position)}toJSON(){return{position:this.position}}};function nHe(t,e){const n=e.mapping.mapResult(t.position);return{position:new CQ(n.pos),mapResult:n}}function rHe(t){return new CQ(t)}function iHe(t,e,n){var r;const{selection:i}=e;let s=null;if(uQ(i)&&(s=i.$cursor),s){const o=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(o)||!o.some(c=>c.type.excludes(n)))}const{ranges:a}=i;return a.some(({$from:o,$to:l})=>{let c=o.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(o.pos,l.pos,(d,f,h)=>{if(c)return!1;if(d.isInline){const p=!h||h.type.allowsMarkType(n),g=!!n.isInSet(d.marks)||!d.marks.some(m=>m.type.excludes(n));c=p&&g}return!c}),c})}var sHe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:a,ranges:o}=s,l=Ka(t,r.schema);if(i)if(a){const c=pQ(r,l);n.addStoredMark(l.create({...c,...e}))}else o.forEach(c=>{const d=c.$from.pos,f=c.$to.pos;r.doc.nodesBetween(d,f,(h,p)=>{const g=Math.max(p,d),m=Math.min(p+h.nodeSize,f);h.marks.find(v=>v.type===l)?h.marks.forEach(v=>{l===v.type&&n.addMark(g,m,l.create({...v.attrs,...e}))}):n.addMark(g,m,l.create(e))})});return iHe(r,n,l)},aHe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),oHe=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=rn(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:o})=>hB(s,{...a,...e})(n)?!0:o.clearNodes()).command(({state:o})=>hB(s,{...a,...e})(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},lHe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=uc(t,0,r.content.size),s=ge.create(r,i);e.setSelection(s)}return!0},cHe=(t,e)=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=r;let a,o;return typeof e=="number"?(a=e,o=e):e&&"from"in e&&"to"in e?(a=e.from,o=e.to):(a=s.from,o=s.to),i&&n.doc.nodesBetween(a,o,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:t})}),!0},uHe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,a=Ce.atStart(r).from,o=Ce.atEnd(r).to,l=uc(i,a,o),c=uc(s,a,o),d=Ce.create(r,l,c);e.setSelection(d)}return!0},dHe=t=>({state:e,dispatch:n})=>{const r=rn(t,e.schema);return sVe(r)(e,n)};function eF(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}var fHe=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:a}=e,{$from:o,$to:l}=s,c=i.extensionManager.attributes,d=e0(c,o.node().type.name,o.node().attrs);if(s instanceof ge&&s.node.isBlock)return!o.parentOffset||!_a(a,o.pos)?!1:(r&&(t&&eF(n,i.extensionManager.splittableMarks),e.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,h=o.depth===0?void 0:FWe(o.node(-1).contentMatchAt(o.indexAfter(-1)));let p=f&&h?[{type:h,attrs:d}]:void 0,g=_a(e.doc,e.mapping.map(o.pos),1,p);if(!p&&!g&&_a(e.doc,e.mapping.map(o.pos),1,h?[{type:h}]:void 0)&&(g=!0,p=h?[{type:h,attrs:d}]:void 0),r){if(g&&(s instanceof Ce&&e.deleteSelection(),e.split(e.mapping.map(o.pos),1,p),h&&!f&&!o.parentOffset&&o.parent.type!==h)){const m=e.mapping.map(o.before()),y=e.doc.resolve(m);o.node(-1).canReplaceWith(y.index(),y.index()+1,h)&&e.setNodeMarkup(e.mapping.map(o.before()),h)}t&&eF(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return g},hHe=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var a;const o=rn(t,r.schema),{$from:l,$to:c}=r.selection,d=r.selection.node;if(d&&d.isBlock||l.depth<2||!l.sameParent(c))return!1;const f=l.node(-1);if(f.type!==o)return!1;const h=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==o||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let v=H.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let j=l.depth-x;j>=l.depth-3;j-=1)v=H.from(l.node(j).copy(v));const b=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k={...e0(h,l.node().type.name,l.node().attrs),...e},w=((a=o.contentMatch.defaultType)==null?void 0:a.createAndFill(k))||void 0;v=v.append(H.from(o.createAndFill(null,w)||void 0));const C=l.before(l.depth-(x-1));n.replace(C,l.after(-b),new se(v,4-x,0));let _=-1;n.doc.nodesBetween(C,n.doc.content.size,(j,N)=>{if(_>-1)return!1;j.isTextblock&&j.content.size===0&&(_=N+1)}),_>-1&&n.setSelection(Ce.near(n.doc.resolve(_))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?f.contentMatchAt(0).defaultType:null,g={...e0(h,f.type.name,f.attrs),...e},m={...e0(h,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const y=p?[{type:o,attrs:g},{type:p,attrs:m}]:[{type:o,attrs:g}];if(!_a(n.doc,l.pos,2))return!1;if(i){const{selection:v,storedMarks:x}=r,{splittableMarks:b}=s.extensionManager,k=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,y).scrollIntoView(),!k||!i)return!0;const w=k.filter(C=>b.includes(C.type.name));n.ensureMarks(w)}return!0},kC=(t,e)=>{const n=tS(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&jl(t.doc,n.pos)&&t.join(n.pos),!0},CC=(t,e)=>{const n=tS(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&jl(t.doc,r)&&t.join(r),!0},pHe=(t,e,n,r={})=>({editor:i,tr:s,state:a,dispatch:o,chain:l,commands:c,can:d})=>{const{extensions:f,splittableMarks:h}=i.extensionManager,p=rn(t,a.schema),g=rn(e,a.schema),{selection:m,storedMarks:y}=a,{$from:v,$to:x}=m,b=v.blockRange(x),k=y||m.$to.parentOffset&&m.$from.marks();if(!b)return!1;const w=tS(C=>ZB(C.type.name,f))(m);if(b.depth>=1&&w&&b.depth-w.depth<=1){if(w.node.type===p)return c.liftListItem(g);if(ZB(w.node.type.name,f)&&p.validContent(w.node.content)&&o)return l().command(()=>(s.setNodeMarkup(w.pos,p),!0)).command(()=>kC(s,p)).command(()=>CC(s,p)).run()}return!n||!k||!o?l().command(()=>d().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>kC(s,p)).command(()=>CC(s,p)).run():l().command(()=>{const C=d().wrapInList(p,r),_=k.filter(j=>h.includes(j.type.name));return s.ensureMarks(_),C?!0:c.clearNodes()}).wrapInList(p,r).command(()=>kC(s,p)).command(()=>CC(s,p)).run()},mHe=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,a=Ka(t,r.schema);return AN(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,e)},gHe=(t,e,n={})=>({state:r,commands:i})=>{const s=rn(t,r.schema),a=rn(e,r.schema),o=cl(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),o?i.setNode(a,l):i.setNode(s,{...l,...n})},yHe=(t,e={})=>({state:n,commands:r})=>{const i=rn(t,n.schema);return cl(n,i,e)?r.lift(i):r.wrapIn(i,e)},vHe=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const a=t.tr,o=s.transform;for(let l=o.steps.length-1;l>=0;l-=1)a.step(o.steps[l].invert(o.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},xHe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},bHe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:o}=n,l=Ka(t,r.schema),{$from:c,empty:d,ranges:f}=o;if(!i)return!0;if(d&&a){let{from:h,to:p}=o;const g=(s=c.marks().find(y=>y.type===l))==null?void 0:s.attrs,m=JP(c,l,g);m&&(h=m.from,p=m.to),n.removeMark(h,p,l)}else f.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,l)});return n.removeStoredMark(l),!0},wHe=t=>({tr:e,state:n,dispatch:r})=>{const{selection:i}=n;let s,a;return typeof t=="number"?(s=t,a=t):t&&"from"in t&&"to"in t?(s=t.from,a=t.to):(s=i.from,a=i.to),r&&e.doc.nodesBetween(s,a,(o,l)=>{if(o.isText)return;const c={...o.attrs};delete c.dir,e.setNodeMarkup(l,void 0,c)}),!0},SHe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const o=eS(typeof t=="string"?t:t.name,r.schema);if(!o)return!1;o==="node"&&(s=rn(t,r.schema)),o==="mark"&&(a=Ka(t,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const d=c.$from.pos,f=c.$to.pos;let h,p,g,m;n.selection.empty?r.doc.nodesBetween(d,f,(y,v)=>{s&&s===y.type&&(l=!0,g=Math.max(v,d),m=Math.min(v+y.nodeSize,f),h=v,p=y)}):r.doc.nodesBetween(d,f,(y,v)=>{v<d&&s&&s===y.type&&(l=!0,g=Math.max(v,d),m=Math.min(v+y.nodeSize,f),h=v,p=y),v>=d&&v<=f&&(s&&s===y.type&&(l=!0,i&&n.setNodeMarkup(v,void 0,{...y.attrs,...e})),a&&y.marks.length&&y.marks.forEach(x=>{if(a===x.type&&(l=!0,i)){const b=Math.max(v,d),k=Math.min(v+y.nodeSize,f);n.addMark(b,k,a.create({...x.attrs,...e}))}}))}),p&&(h!==void 0&&i&&n.setNodeMarkup(h,void 0,{...p.attrs,...e}),a&&p.marks.length&&p.marks.forEach(y=>{a===y.type&&i&&n.addMark(g,m,a.create({...y.attrs,...e}))}))}),l},kHe=(t,e={})=>({state:n,dispatch:r})=>{const i=rn(t,n.schema);return J7e(i,e)(n,r)},CHe=(t,e={})=>({state:n,dispatch:r})=>{const i=rn(t,n.schema);return Z7e(i,e)(n,r)},_He=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},rS=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},jHe=(t,e)=>{if(XP(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function pv(t){var e;const{editor:n,from:r,to:i,text:s,rules:a,plugin:o}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(e=c.nodeBefore||c.nodeAfter)!=null&&e.marks.find(h=>h.type.spec.code))return!1;let d=!1;const f=JWe(c)+s;return a.forEach(h=>{if(d)return;const p=jHe(f,h.find);if(!p)return;const g=l.state.tr,m=J1({state:l.state,transaction:g}),y={from:r-(p[0].length-s.length),to:i},{commands:v,chain:x,can:b}=new Z1({editor:n,state:m});h.handler({state:m,range:y,match:p,commands:v,chain:x,can:b})===null||!g.steps.length||(h.undoable&&g.setMeta(o,{transform:g,from:r,to:i,text:s}),l.dispatch(g),d=!0)}),d}function EHe(t){const{editor:e,rules:n}=t,r=new Mt({state:{init(){return null},apply(i,s,a){const o=i.getMeta(r);if(o)return o;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:d}=l;typeof d=="string"?d=d:d=tA(H.from(d),a.schema);const{from:f}=l,h=f+d.length;pv({editor:e,from:f,to:h,text:d,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,o){return pv({editor:e,from:s,to:a,text:o,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&pv({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?pv({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function NHe(t){return Object.prototype.toString.call(t).slice(8,-1)}function mv(t){return NHe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function jQ(t,e){const n={...t};return mv(t)&&mv(e)&&Object.keys(e).forEach(r=>{mv(e[r])&&mv(t[r])?n[r]=jQ(t[r],e[r]):n[r]=e[r]}),n}var iA=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Qe(pe(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Qe(pe(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>jQ(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},cu=class EQ extends iA{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new EQ(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=a.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function THe(t){return typeof t=="number"}var OHe=class{constructor(t){this.find=t.find,this.handler=t.handler}},PHe=(t,e,n)=>{if(XP(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function AHe(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:a,dropEvent:o}=t,{commands:l,chain:c,can:d}=new Z1({editor:e,state:n}),f=[];return n.doc.nodesBetween(r,i,(p,g)=>{var m,y,v,x,b;if((y=(m=p.type)==null?void 0:m.spec)!=null&&y.code||!(p.isText||p.isTextblock||p.isInline))return;const k=(b=(x=(v=p.content)==null?void 0:v.size)!=null?x:p.nodeSize)!=null?b:0,w=Math.max(r,g),C=Math.min(i,g+k);if(w>=C)return;const _=p.isText?p.text||"":p.textBetween(w-g,C-g,void 0,"");PHe(_,s.find,a).forEach(N=>{if(N.index===void 0)return;const E=w+N.index+1,P=E+N[0].length,O={from:n.tr.mapping.map(E),to:n.tr.mapping.map(P)},D=s.handler({state:n,range:O,match:N,commands:l,chain:c,can:d,pasteEvent:a,dropEvent:o});f.push(D)})}),f.every(p=>p!==null)}var gv=null,MHe=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function DHe(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,o;try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}const l=({state:d,from:f,to:h,rule:p,pasteEvt:g})=>{const m=d.tr,y=J1({state:d,transaction:m});if(!(!AHe({editor:e,state:y,from:Math.max(f-1,0),to:h.b-1,rule:p,pasteEvent:g,dropEvent:o})||!m.steps.length)){try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m}};return n.map(d=>new Mt({view(f){const h=g=>{var m;r=(m=f.dom.parentElement)!=null&&m.contains(g.target)?f.dom.parentElement:null,r&&(gv=e)},p=()=>{gv&&(gv=null)};return window.addEventListener("dragstart",h),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",h),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(f,h)=>{if(s=r===f.dom.parentElement,o=h,!s){const p=gv;p!=null&&p.isEditable&&setTimeout(()=>{const g=p.state.selection;g&&p.commands.deleteRange({from:g.from,to:g.to})},10)}return!1},paste:(f,h)=>{var p;const g=(p=h.clipboardData)==null?void 0:p.getData("text/html");return a=h,i=!!(g!=null&&g.includes("data-pm-slice")),!1}}},appendTransaction:(f,h,p)=>{const g=f[0],m=g.getMeta("uiEvent")==="paste"&&!i,y=g.getMeta("uiEvent")==="drop"&&!s,v=g.getMeta("applyPasteRules"),x=!!v;if(!m&&!y&&!x)return;if(x){let{text:w}=v;typeof w=="string"?w=w:w=tA(H.from(w),p.schema);const{from:C}=v,_=C+w.length,j=MHe(w);return l({rule:d,state:p,from:C,to:{b:_},pasteEvt:j})}const b=h.doc.content.findDiffStart(p.doc.content),k=h.doc.content.findDiffEnd(p.doc.content);if(!(!THe(b)||!k||b===k.b))return l({rule:d,state:p,from:b,to:k,pasteEvt:a})}}))}var iS=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=vQ(t),this.schema=HWe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:SC(e.name,this.schema)},r=pe(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return nA([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:SC(r.name,this.schema)},s=[],a=pe(r,"addKeyboardShortcuts",i);let o={};if(r.type==="mark"&&pe(r,"exitable",i)&&(o.ArrowRight=()=>cu.handleExit({editor:t,mark:r})),a){const h=Object.fromEntries(Object.entries(a()).map(([p,g])=>[p,()=>g({editor:t})]));o={...o,...h}}const l=YUe(o);s.push(l);const c=pe(r,"addInputRules",i);if(JB(r,t.options.enableInputRules)&&c){const h=c();if(h&&h.length){const p=EHe({editor:t,rules:h}),g=Array.isArray(p)?p:[p];s.push(...g)}}const d=pe(r,"addPasteRules",i);if(JB(r,t.options.enablePasteRules)&&d){const h=d();if(h&&h.length){const p=DHe({editor:t,rules:h});s.push(...p)}}const f=pe(r,"addProseMirrorPlugins",i);if(f){const h=f();s.push(...h)}return s})}get attributes(){return yQ(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Nf(this.extensions);return Object.fromEntries(e.filter(n=>!!pe(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:rn(n.name,this.schema)},s=pe(n,"addNodeView",i);if(!s)return[];const a=s();if(!a)return[];const o=(l,c,d,f,h)=>{const p=Cb(l,r);return a({node:l,view:c,getPos:d,decorations:f,innerDecorations:h,editor:t,extension:n,HTMLAttributes:p})};return[n.name,o]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Nf(this.extensions);return Object.fromEntries(e.filter(n=>!!pe(n,"addMarkView")).map(n=>{const r=this.attributes.filter(o=>o.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Ka(n.name,this.schema)},s=pe(n,"addMarkView",i);if(!s)return[];const a=(o,l,c)=>{const d=Cb(o,r);return s()({mark:o,view:l,inline:c,editor:t,extension:n,HTMLAttributes:d,updateAttributes:f=>{GHe(o,t,f)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:SC(e.name,this.schema)};e.type==="mark"&&((n=Qe(pe(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=pe(e,"onBeforeCreate",r),s=pe(e,"onCreate",r),a=pe(e,"onUpdate",r),o=pe(e,"onSelectionUpdate",r),l=pe(e,"onTransaction",r),c=pe(e,"onFocus",r),d=pe(e,"onBlur",r),f=pe(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),o&&this.editor.on("selectionUpdate",o),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),d&&this.editor.on("blur",d),f&&this.editor.on("destroy",f)})}};iS.resolve=vQ;iS.sort=nA;iS.flatten=eA;var RHe={};QP(RHe,{ClipboardTextSerializer:()=>TQ,Commands:()=>OQ,Delete:()=>PQ,Drop:()=>AQ,Editable:()=>MQ,FocusEvents:()=>RQ,Keymap:()=>IQ,Paste:()=>$Q,Tabindex:()=>LQ,TextDirection:()=>BQ,focusEventsPluginKey:()=>DQ});var Gt=class NQ extends iA{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new NQ(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},TQ=Gt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Mt({key:new hn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,a=Math.min(...s.map(d=>d.$from.pos)),o=Math.max(...s.map(d=>d.$to.pos)),l=bQ(n);return xQ(r,{from:a,to:o},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),OQ=Gt.create({name:"commands",addCommands(){return{...lQ}}}),PQ=Gt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var a,o,l,c;if((c=(l=(o=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:o.filterTransaction)==null?void 0:l.call(o,t))!=null?c:t.getMeta("y-sync$"))return;const d=mQ(t.before,[t,...e]);SQ(d).forEach(p=>{d.mapping.mapResult(p.oldRange.from).deletedAfter&&d.mapping.mapResult(p.oldRange.to).deletedBefore&&d.before.nodesBetween(p.oldRange.from,p.oldRange.to,(g,m)=>{const y=m+g.nodeSize-2,v=p.oldRange.from<=m&&y<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:g,from:m,to:y,newFrom:d.mapping.map(m),newTo:d.mapping.map(y),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:t,combinedTransform:d})})});const h=d.mapping;d.steps.forEach((p,g)=>{var m,y;if(p instanceof rs){const v=h.slice(g).map(p.from,-1),x=h.slice(g).map(p.to),b=h.invert().map(v,-1),k=h.invert().map(x),w=(m=d.doc.nodeAt(v-1))==null?void 0:m.marks.some(_=>_.eq(p.mark)),C=(y=d.doc.nodeAt(x))==null?void 0:y.marks.some(_=>_.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:b,to:k},newRange:{from:v,to:x},partial:!!(C||w),editor:this.editor,transaction:t,combinedTransform:d})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),AQ=Gt.create({name:"drop",addProseMirrorPlugins(){return[new Mt({key:new hn("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),MQ=Gt.create({name:"editable",addProseMirrorPlugins(){return[new Mt({key:new hn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),DQ=new hn("focusEvents"),RQ=Gt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Mt({key:DQ,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),IQ=Gt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:o})=>{const{selection:l,doc:c}=o,{empty:d,$anchor:f}=l,{pos:h,parent:p}=f,g=f.parent.isTextblock&&h>0?o.doc.resolve(h-1):f,m=g.parent.type.spec.isolating,y=f.pos-f.parentOffset,v=m&&g.parent.childCount===1?y===f.pos:Oe.atStart(c).from===h;return!d||!p.type.isTextblock||p.textContent.length||!v||v&&f.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ZP()||hQ()?s:i},addProseMirrorPlugins(){return[new Mt({key:new hn("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(m=>m.getMeta("composition")))return;const r=t.some(m=>m.docChanged)&&!e.doc.eq(n.doc),i=t.some(m=>m.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:a,to:o}=e.selection,l=Oe.atStart(e.doc).from,c=Oe.atEnd(e.doc).to;if(s||!(a===l&&o===c)||!nS(n.doc))return;const h=n.tr,p=J1({state:n,transaction:h}),{commands:g}=new Z1({editor:this.editor,state:p});if(g.clearNodes(),!!h.steps.length)return h}})]}}),$Q=Gt.create({name:"paste",addProseMirrorPlugins(){return[new Mt({key:new hn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),LQ=Gt.create({name:"tabindex",addProseMirrorPlugins(){return[new Mt({key:new hn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),BQ=Gt.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=Nf(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Mt({key:new hn("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),IHe=class Lu{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Lu(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Lu(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Lu(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+r+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const o=this.resolvedPos.doc.resolve(a);if(!i&&o.depth<=this.depth)return;const l=new Lu(o,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new Lu(o,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,a=Object.keys(n);for(let o=0;o<a.length;o+=1){const l=a[o];if(s[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===e&&s.every(l=>n[l]===a.node.attrs[l])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},$He=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function LHe(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var BHe=class extends _He{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:nHe,createMappablePosition:rHe},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=dQ(e,this.options.autofocus);this.editorState=ad.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=LHe($He,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=gQ(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(a=>!a.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[MQ,TQ.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),OQ,RQ,IQ,LQ,AQ,$Q,PQ,BQ.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new iS(r,this)}createCommandManager(){this.commandManager=new Z1({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=PN(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=PN(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new aQ(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(c=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(c)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),o=a==null?void 0:a.getMeta("focus"),l=a==null?void 0:a.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:a}),l&&this.emit("blur",{editor:this,event:l.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return wQ(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return ZWe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return tA(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return KWe(this.state.doc,{blockSeparator:e,textSerializers:{...bQ(this.schema),...n}})}get isEmpty(){return nS(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new IHe(e,this)}get $doc(){return this.$pos(0)}};function Tf(t){return new rS({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Qe(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],o=r[0];if(a){const l=o.search(/\S/),c=n.from+o.indexOf(a),d=c+a.length;if(rA(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(m=>m===t.type&&m!==p.mark.type)).filter(p=>p.to>c).length)return null;d<n.to&&s.delete(d,n.to),c>n.from&&s.delete(n.from+l,c);const h=n.from+l+a.length;s.addMark(n.from+l,h,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function FQ(t){return new rS({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Qe(t.getAttributes,void 0,r)||{},{tr:s}=e,a=n.from;let o=n.to;const l=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let d=a+c;d>o?d=o:o=d+r[1].length;const f=r[0][r[0].length-1];s.insertText(f,a+r[0].length-1),s.replaceWith(d,o,l)}else if(r[0]){const c=t.type.isInline?a:a-1;s.insert(c,t.type.create(i)).delete(s.mapping.map(a),s.mapping.map(o))}s.scrollIntoView()},undoable:t.undoable})}function MN(t){return new rS({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=Qe(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function Of(t){return new rS({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=Qe(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),l=a.doc.resolve(n.from).blockRange(),c=l&&DP(l,t.type,s);if(!c)return null;if(a.wrap(l,c),t.keepMarks&&t.editor){const{selection:f,storedMarks:h}=e,{splittableMarks:p}=t.editor.extensionManager,g=h||f.$to.parentOffset&&f.$from.marks();if(g){const m=g.filter(y=>p.includes(y.type.name));a.ensureMarks(m)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,s).run()}const d=a.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&jl(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&a.join(n.from-1)},undoable:t.undoable})}var FHe=t=>"touches"in t,zHe=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=o=>{if(!this.isResizing||!this.activeHandle)return;const l=o.clientX-this.startX,c=o.clientY-this.startY;this.handleResize(l,c)},this.handleTouchMove=o=>{if(!this.isResizing||!this.activeHandle)return;const l=o.touches[0];if(!l)return;const c=l.clientX-this.startX,d=l.clientY-this.startY;this.handleResize(c,d)},this.handleMouseUp=()=>{if(!this.isResizing)return;const o=this.element.offsetWidth,l=this.element.offsetHeight;this.onCommit(o,l),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=o=>{o.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=o=>{o.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,r,i,s,a;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(r=t==null?void 0:t.options)!=null&&r.directions&&(this.directions=t.options.directions),(i=t.options)!=null&&i.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(s=t.options)!=null&&s.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(a=t.options)!=null&&a.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),r=e.includes("bottom"),i=e.includes("left"),s=e.includes("right");n&&(t.style.top="0"),r&&(t.style.bottom="0"),i&&(t.style.left="0"),s&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,FHe(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:i}=this.calculateNewDimensions(this.activeHandle,t,e),s=this.applyConstraints(r,i,n);this.element.style.width=`${s.width}px`,this.element.style.height=`${s.height}px`,this.onResize&&this.onResize(s.width,s.height)}calculateNewDimensions(t,e,n){let r=this.startWidth,i=this.startHeight;const s=t.includes("right"),a=t.includes("left"),o=t.includes("bottom"),l=t.includes("top");return s?r=this.startWidth+e:a&&(r=this.startWidth-e),o?i=this.startHeight+n:l&&(i=this.startHeight-n),(t==="right"||t==="left")&&(r=this.startWidth+(s?e:-e)),(t==="top"||t==="bottom")&&(i=this.startHeight+(o?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,i,t):{width:r,height:i}}applyConstraints(t,e,n){var r,i,s,a;if(!n){let c=Math.max(this.minSize.width,t),d=Math.max(this.minSize.height,e);return(r=this.maxSize)!=null&&r.width&&(c=Math.min(this.maxSize.width,c)),(i=this.maxSize)!=null&&i.height&&(d=Math.min(this.maxSize.height,d)),{width:c,height:d}}let o=t,l=e;return o<this.minSize.width&&(o=this.minSize.width,l=o/this.aspectRatio),l<this.minSize.height&&(l=this.minSize.height,o=l*this.aspectRatio),(s=this.maxSize)!=null&&s.width&&o>this.maxSize.width&&(o=this.maxSize.width,l=o/this.aspectRatio),(a=this.maxSize)!=null&&a.height&&l>this.maxSize.height&&(l=this.maxSize.height,o=l*this.aspectRatio),{width:o,height:l}}applyAspectRatio(t,e,n){const r=n==="left"||n==="right",i=n==="top"||n==="bottom";return r?{width:t,height:t/this.aspectRatio}:i?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function VHe(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof ge){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var UHe={};QP(UHe,{createAtomBlockMarkdownSpec:()=>WHe,createBlockMarkdownSpec:()=>HHe,createInlineMarkdownSpec:()=>YHe,parseAttributes:()=>sA,parseIndentedBlocks:()=>DN,renderNestedMarkdownContent:()=>oA,serializeAttributes:()=>aA});function sA(t){if(!(t!=null&&t.trim()))return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(d=>d.trim().slice(1));e.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,d])=>{var f;const h=parseInt(((f=d.match(/__QUOTED_(\d+)__/))==null?void 0:f[1])||"0",10),p=n[h];p&&(e[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(d=>{d.match(/^[a-zA-Z][\w-]*$/)&&(e[d]=!0)}),e}function aA(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function WHe(t){const{nodeName:e,name:n,parseAttributes:r=sA,serializeAttributes:i=aA,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:o}=t,l=n||e,c=d=>{if(!o)return d;const f={};return o.forEach(h=>{h in d&&(f[h]=d[h])}),f};return{parseMarkdown:(d,f)=>{const h={...s,...d.attributes};return f.createNode(e,h,[])},markdownTokenizer:{name:e,level:"block",start(d){var f;const h=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(f=d.match(h))==null?void 0:f.index;return p!==void 0?p:-1},tokenize(d,f,h){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),g=d.match(p);if(!g)return;const m=g[1]||"",y=r(m);if(!a.find(x=>!(x in y)))return{type:e,raw:g[0],attributes:y}}},renderMarkdown:d=>{const f=c(d.attrs||{}),h=i(f),p=h?` {${h}}`:"";return`:::${l}${p} :::`}}}function HHe(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=sA,serializeAttributes:s=aA,defaultAttributes:a={},content:o="block",allowedAttributes:l}=t,c=n||e,d=f=>{if(!l)return f;const h={};return l.forEach(p=>{p in f&&(h[p]=f[p])}),h};return{parseMarkdown:(f,h)=>{let p;if(r){const m=r(f);p=typeof m=="string"?[{type:"text",text:m}]:m}else o==="block"?p=h.parseChildren(f.tokens||[]):p=h.parseInline(f.tokens||[]);const g={...a,...f.attributes};return h.createNode(e,g,p)},markdownTokenizer:{name:e,level:"block",start(f){var h;const p=new RegExp(`^:::${c}`,"m"),g=(h=f.match(p))==null?void 0:h.index;return g!==void 0?g:-1},tokenize(f,h,p){var g;const m=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),y=f.match(m);if(!y)return;const[v,x=""]=y,b=i(x);let k=1;const w=v.length;let C="";const _=/^:::([\w-]*)(\s.*)?/gm,j=f.slice(w);for(_.lastIndex=0;;){const N=_.exec(j);if(N===null)break;const E=N.index,P=N[1];if(!((g=N[2])!=null&&g.endsWith(":::"))){if(P)k+=1;else if(k-=1,k===0){const O=j.slice(0,E);C=O.trim();const D=f.slice(0,w+E+N[0].length);let A=[];if(C)if(o==="block")for(A=p.blockTokens(O),A.forEach(M=>{M.text&&(!M.tokens||M.tokens.length===0)&&(M.tokens=p.inlineTokens(M.text))});A.length>0;){const M=A[A.length-1];if(M.type==="paragraph"&&(!M.text||M.text.trim()===""))A.pop();else break}else A=p.inlineTokens(C);return{type:e,raw:D,attributes:b,content:C,tokens:A}}}}}},renderMarkdown:(f,h)=>{const p=d(f.attrs||{}),g=s(p),m=g?` {${g}}`:"",y=h.renderChildren(f.content||[],`

`);return`:::${c}${m}

${y}

:::`}}}function qHe(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,s,a]=r;e[i]=s||a,r=n.exec(t)}return e}function KHe(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function YHe(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=qHe,serializeAttributes:s=KHe,defaultAttributes:a={},selfClosing:o=!1,allowedAttributes:l}=t,c=n||e,d=h=>{if(!l)return h;const p={};return l.forEach(g=>{const m=typeof g=="string"?g:g.name,y=typeof g=="string"?void 0:g.skipIfDefault;if(m in h){const v=h[m];if(y!==void 0&&v===y)return;p[m]=v}}),p},f=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(h,p)=>{const g={...a,...h.attributes};if(o)return p.createNode(e,g);const m=r?r(h):h.content||"";return m?p.createNode(e,g,[p.createTextNode(m)]):p.createNode(e,g,[])},markdownTokenizer:{name:e,level:"inline",start(h){const p=o?new RegExp(`\\[${f}\\s*[^\\]]*\\]`):new RegExp(`\\[${f}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${f}\\]`),g=h.match(p),m=g==null?void 0:g.index;return m!==void 0?m:-1},tokenize(h,p,g){const m=o?new RegExp(`^\\[${f}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${f}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${f}\\]`),y=h.match(m);if(!y)return;let v="",x="";if(o){const[,k]=y;x=k}else{const[,k,w]=y;x=k,v=w||""}const b=i(x.trim());return{type:e,raw:y[0],content:v.trim(),attributes:b}}},renderMarkdown:h=>{let p="";r?p=r(h):h.content&&h.content.length>0&&(p=h.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const g=d(h.attrs||{}),m=s(g),y=m?` ${m}`:"";return o?`[${c}${y}]`:`[${c}${y}]${p}[/${c}]`}}}function DN(t,e,n){var r,i,s,a;const o=t.split(`
`),l=[];let c="",d=0;const f=e.baseIndentSize||2;for(;d<o.length;){const h=o[d],p=h.match(e.itemPattern);if(!p){if(l.length>0)break;if(h.trim()===""){d+=1,c=`${c}${h}
`;continue}else return}const g=e.extractItemData(p),{indentLevel:m,mainContent:y}=g;c=`${c}${h}
`;const v=[y];for(d+=1;d<o.length;){const w=o[d];if(w.trim()===""){const _=o.slice(d+1).findIndex(E=>E.trim()!=="");if(_===-1)break;if((((i=(r=o[d+1+_].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>m){v.push(w),c=`${c}${w}
`,d+=1;continue}else break}if((((a=(s=w.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>m)v.push(w),c=`${c}${w}
`,d+=1;else break}let x;const b=v.slice(1);if(b.length>0){const w=b.map(C=>C.slice(m+f)).join(`
`);w.trim()&&(e.customNestedParser?x=e.customNestedParser(w):x=n.blockTokens(w))}const k=e.createToken(g,x);l.push(k)}if(l.length!==0)return{items:l,raw:c}}function oA(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[s,...a]=t.content,o=e.renderChildren([s]),l=[`${i}${o}`];return a&&a.length>0&&a.forEach(c=>{const d=e.renderChildren([c]);if(d){const f=d.split(`
`).map(h=>h?e.indent(h):"").join(`
`);l.push(f)}}),l.join(`
`)}function GHe(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,a=t;i.descendants((o,l)=>{const c=s.mapping.map(l),d=s.mapping.map(l)+o.nodeSize;let f=null;if(o.marks.forEach(p=>{if(p!==a)return!1;f=p}),!f)return;let h=!1;if(Object.keys(n).forEach(p=>{n[p]!==f.attrs[p]&&(h=!0)}),h){const p=t.type.create({...t.attrs,...n});s.removeMark(c,d,t.type),s.addMark(c,d,p)}}),s.docChanged&&e.view.dispatch(s)}var Or=class zQ extends iA{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new zQ(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Gc(t){return new OHe({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=Qe(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:a}=e,o=r[r.length-1],l=r[0];let c=n.to;if(o){const d=l.search(/\S/),f=n.from+l.indexOf(o),h=f+o.length;if(rA(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(y=>y===t.type&&y!==g.mark.type)).filter(g=>g.to>f).length)return null;h<n.to&&a.delete(h,n.to),f>n.from&&a.delete(n.from+d,f),c=n.from+d+o.length,a.addMark(n.from+d,c,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}var VQ={exports:{}},UQ={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS=S,QHe=PP;function XHe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var JHe=typeof Object.is=="function"?Object.is:XHe,ZHe=QHe.useSyncExternalStore,e9e=sS.useRef,t9e=sS.useEffect,n9e=sS.useMemo,r9e=sS.useDebugValue;UQ.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=e9e(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=n9e(function(){function l(p){if(!c){if(c=!0,d=p,p=r(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return f=g}return f=p}if(g=f,JHe(d,p))return g;var m=r(p);return i!==void 0&&i(g,m)?(d=p,g):(d=p,f=m)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var o=ZHe(t,s[0],s[1]);return t9e(function(){a.hasValue=!0,a.value=o},[o]),r9e(o),o};VQ.exports=UQ;var i9e=VQ.exports,s9e=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},a9e=({contentComponent:t})=>{const e=PP.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return u.jsx(u.Fragment,{children:Object.values(e)})};function o9e(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:gw.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var l9e=class extends T.Component{constructor(t){var e;super(t),this.editorContentRef=T.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=o9e(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return u.jsxs(u.Fragment,{children:[u.jsx("div",{ref:s9e(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&u.jsx(a9e,{contentComponent:t.contentComponent})]})}},c9e=S.forwardRef((t,e)=>{const n=T.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return T.createElement(l9e,{key:n,innerRef:e,...t})}),u9e=T.memo(c9e),d9e=typeof window<"u"?S.useLayoutEffect:S.useEffect,f9e=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function h9e(t){var e;const[n]=S.useState(()=>new f9e(t.editor)),r=i9e.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:PK);return d9e(()=>n.watch(t.editor),[t.editor,n]),S.useDebugValue(r),r}var p9e=!1,RN=typeof window>"u",m9e=RN||!!(typeof window<"u"&&window.next),g9e=class WQ{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?RN||m9e?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new BHe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var a;return i===((a=n.extensions)==null?void 0:a[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?WQ.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function y9e(t={},e=[]){const n=S.useRef(t);n.current=t;const[r]=S.useState(()=>new g9e(n)),i=PP.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return S.useDebugValue(i),S.useEffect(r.onRender(e)),h9e({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var v9e=S.createContext({editor:null});v9e.Consumer;var x9e=S.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),b9e=()=>S.useContext(x9e);T.forwardRef((t,e)=>{const{onDragStart:n}=b9e(),r=t.as||"div";return u.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});T.createContext({markViewContentRef:()=>{}});var _b=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},w9e=/^\s*>\s$/,S9e=Or.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return _b("blockquote",{...Yt(this.options.HTMLAttributes,t),children:_b("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(i=>{const o=e.renderChildren([i]).split(`
`).map(l=>l.trim()===""?n:`${n} ${l}`);r.push(o.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Of({find:w9e,type:this.type})]}}),k9e=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,C9e=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,_9e=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,j9e=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,E9e=cu.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return _b("strong",{...Yt(this.options.HTMLAttributes,t),children:_b("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Tf({find:k9e,type:this.type}),Tf({find:_9e,type:this.type})]},addPasteRules(){return[Gc({find:C9e,type:this.type}),Gc({find:j9e,type:this.type})]}}),N9e=/(^|[^`])`([^`]+)`(?!`)$/,T9e=/(^|[^`])`([^`]+)`(?!`)/g,O9e=cu.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Yt(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Tf({find:N9e,type:this.type})]},addPasteRules(){return[Gc({find:T9e,type:this.type})]}}),_C=4,P9e=/^```([a-z]+)?[\s\n]$/,A9e=/^~~~([a-z]+)?[\s\n]$/,M9e=Or.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:_C,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Yt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:_C,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;if(s.parent.type!==this.type)return!1;const o=" ".repeat(n);return a?t.commands.insertContent(o):t.commands.command(({tr:l})=>{const{from:c,to:d}=i,p=r.doc.textBetween(c,d,`
`,`
`).split(`
`).map(g=>o+g).join(`
`);return l.replaceWith(c,d,r.schema.text(p)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:_C,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;return s.parent.type!==this.type?!1:a?t.commands.command(({tr:o})=>{var l;const{pos:c}=s,d=s.start(),f=s.end(),p=r.doc.textBetween(d,f,`
`,`
`).split(`
`);let g=0,m=0;const y=c-d;for(let C=0;C<p.length;C+=1){if(m+p[C].length>=y){g=C;break}m+=p[C].length+1}const x=((l=p[g].match(/^ */))==null?void 0:l[0])||"",b=Math.min(x.length,n);if(b===0)return!0;let k=d;for(let C=0;C<g;C+=1)k+=p[C].length+1;return o.delete(k,k+b),c-k<=b&&o.setSelection(Ce.create(o.doc,k)),!0}):t.commands.command(({tr:o})=>{const{from:l,to:c}=i,h=r.doc.textBetween(l,c,`
`,`
`).split(`
`).map(p=>{var g;const m=((g=p.match(/^ */))==null?void 0:g[0])||"",y=Math.min(m.length,n);return p.slice(y)}).join(`
`);return o.replaceWith(l,c,r.schema.text(h)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:o})=>(o.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const o=i.after();return o===void 0?!1:r.nodeAt(o)?t.commands.command(({tr:c})=>(c.setSelection(Oe.near(r.resolve(o))),!0)):t.commands.exitCode()}}},addInputRules(){return[MN({find:P9e,type:this.type,getAttributes:t=>({language:t[1]})}),MN({find:A9e,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Mt({key:new hn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:a,schema:o}=t.state,l=o.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},l)),a.selection.$from.parent.type!==this.type&&a.setSelection(Ce.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),D9e=Or.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),R9e=Or.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Yt(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:o}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:d})=>{if(d&&l&&a){const f=l.filter(h=>o.includes(h.type.name));c.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),I9e=Or.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Yt(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>MN({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),$9e=Or.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Yt(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!VHe(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return kQ(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:a,dispatch:o})=>{if(o){const{$to:l}=a.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?a.setSelection(Ce.create(a.doc,l.pos+1)):l.nodeAfter.isBlock?a.setSelection(ge.create(a.doc,l.pos)):a.setSelection(Ce.create(a.doc,l.pos));else{const d=s.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,f=d==null?void 0:d.create();f&&(a.insert(c,f),a.setSelection(Ce.create(a.doc,c+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[FQ({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),L9e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,B9e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,F9e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,z9e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,V9e=cu.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Yt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Tf({find:L9e,type:this.type}),Tf({find:F9e,type:this.type})]},addPasteRules(){return[Gc({find:B9e,type:this.type}),Gc({find:z9e,type:this.type})]}});const U9e="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",W9e="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",IN="numeric",$N="ascii",LN="alpha",Np="asciinumeric",ip="alphanumeric",BN="domain",HQ="emoji",H9e="scheme",q9e="slashscheme",jC="whitespace";function K9e(t,e){return t in e||(e[t]=[]),e[t]}function dc(t,e,n){e[IN]&&(e[Np]=!0,e[ip]=!0),e[$N]&&(e[Np]=!0,e[LN]=!0),e[Np]&&(e[ip]=!0),e[LN]&&(e[ip]=!0),e[ip]&&(e[BN]=!0),e[HQ]&&(e[BN]=!0);for(const r in e){const i=K9e(r,n);i.indexOf(t)<0&&i.push(t)}}function Y9e(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function xr(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}xr.groups={};xr.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||xr.groups;let i;return e&&e.j?i=e:(i=new xr(e),n&&r&&dc(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(t[a]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||xr.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let a,o=i.go(t);if(o?(a=new xr,Object.assign(a.j,o.j),a.jr.push.apply(a.jr,o.jr),a.jd=o.jd,a.t=o.t):a=new xr,s){if(r)if(a.t&&typeof a.t=="string"){const l=Object.assign(Y9e(a.t,r),n);dc(s,l,r)}else n&&dc(s,n,r);a.t=s}return i.j[t]=a,a}};const Te=(t,e,n,r,i)=>t.ta(e,n,r,i),Rt=(t,e,n,r,i)=>t.tr(e,n,r,i),tF=(t,e,n,r,i)=>t.ts(e,n,r,i),G=(t,e,n,r,i)=>t.tt(e,n,r,i),sa="WORD",FN="UWORD",qQ="ASCIINUMERICAL",KQ="ALPHANUMERICAL",lg="LOCALHOST",zN="TLD",VN="UTLD",t0="SCHEME",Bu="SLASH_SCHEME",lA="NUM",UN="WS",cA="NL",Tp="OPENBRACE",Op="CLOSEBRACE",jb="OPENBRACKET",Eb="CLOSEBRACKET",Nb="OPENPAREN",Tb="CLOSEPAREN",Ob="OPENANGLEBRACKET",Pb="CLOSEANGLEBRACKET",Ab="FULLWIDTHLEFTPAREN",Mb="FULLWIDTHRIGHTPAREN",Db="LEFTCORNERBRACKET",Rb="RIGHTCORNERBRACKET",Ib="LEFTWHITECORNERBRACKET",$b="RIGHTWHITECORNERBRACKET",Lb="FULLWIDTHLESSTHAN",Bb="FULLWIDTHGREATERTHAN",Fb="AMPERSAND",zb="APOSTROPHE",Vb="ASTERISK",fo="AT",Ub="BACKSLASH",Wb="BACKTICK",Hb="CARET",bo="COLON",uA="COMMA",qb="DOLLAR",vs="DOT",Kb="EQUALS",dA="EXCLAMATION",oi="HYPHEN",Pp="PERCENT",Yb="PIPE",Gb="PLUS",Qb="POUND",Ap="QUERY",fA="QUOTE",YQ="FULLWIDTHMIDDLEDOT",hA="SEMI",xs="SLASH",Mp="TILDE",Xb="UNDERSCORE",GQ="EMOJI",Jb="SYM";var QQ=Object.freeze({__proto__:null,ALPHANUMERICAL:KQ,AMPERSAND:Fb,APOSTROPHE:zb,ASCIINUMERICAL:qQ,ASTERISK:Vb,AT:fo,BACKSLASH:Ub,BACKTICK:Wb,CARET:Hb,CLOSEANGLEBRACKET:Pb,CLOSEBRACE:Op,CLOSEBRACKET:Eb,CLOSEPAREN:Tb,COLON:bo,COMMA:uA,DOLLAR:qb,DOT:vs,EMOJI:GQ,EQUALS:Kb,EXCLAMATION:dA,FULLWIDTHGREATERTHAN:Bb,FULLWIDTHLEFTPAREN:Ab,FULLWIDTHLESSTHAN:Lb,FULLWIDTHMIDDLEDOT:YQ,FULLWIDTHRIGHTPAREN:Mb,HYPHEN:oi,LEFTCORNERBRACKET:Db,LEFTWHITECORNERBRACKET:Ib,LOCALHOST:lg,NL:cA,NUM:lA,OPENANGLEBRACKET:Ob,OPENBRACE:Tp,OPENBRACKET:jb,OPENPAREN:Nb,PERCENT:Pp,PIPE:Yb,PLUS:Gb,POUND:Qb,QUERY:Ap,QUOTE:fA,RIGHTCORNERBRACKET:Rb,RIGHTWHITECORNERBRACKET:$b,SCHEME:t0,SEMI:hA,SLASH:xs,SLASH_SCHEME:Bu,SYM:Jb,TILDE:Mp,TLD:zN,UNDERSCORE:Xb,UTLD:VN,UWORD:FN,WORD:sa,WS:UN});const na=/[a-z]/,zh=new RegExp("\\p{L}","u"),EC=new RegExp("\\p{Emoji}","u"),ra=/\d/,NC=/\s/,nF="\r",TC=`
`,G9e="",Q9e="",OC="";let yv=null,vv=null;function X9e(t=[]){const e={};xr.groups=e;const n=new xr;yv==null&&(yv=rF(U9e)),vv==null&&(vv=rF(W9e)),G(n,"'",zb),G(n,"{",Tp),G(n,"}",Op),G(n,"[",jb),G(n,"]",Eb),G(n,"(",Nb),G(n,")",Tb),G(n,"<",Ob),G(n,">",Pb),G(n,"",Ab),G(n,"",Mb),G(n,"",Db),G(n,"",Rb),G(n,"",Ib),G(n,"",$b),G(n,"",Lb),G(n,"",Bb),G(n,"&",Fb),G(n,"*",Vb),G(n,"@",fo),G(n,"`",Wb),G(n,"^",Hb),G(n,":",bo),G(n,",",uA),G(n,"$",qb),G(n,".",vs),G(n,"=",Kb),G(n,"!",dA),G(n,"-",oi),G(n,"%",Pp),G(n,"|",Yb),G(n,"+",Gb),G(n,"#",Qb),G(n,"?",Ap),G(n,'"',fA),G(n,"/",xs),G(n,";",hA),G(n,"~",Mp),G(n,"_",Xb),G(n,"\\",Ub),G(n,"",YQ);const r=Rt(n,ra,lA,{[IN]:!0});Rt(r,ra,r);const i=Rt(r,na,qQ,{[Np]:!0}),s=Rt(r,zh,KQ,{[ip]:!0}),a=Rt(n,na,sa,{[$N]:!0});Rt(a,ra,i),Rt(a,na,a),Rt(i,ra,i),Rt(i,na,i);const o=Rt(n,zh,FN,{[LN]:!0});Rt(o,na),Rt(o,ra,s),Rt(o,zh,o),Rt(s,ra,s),Rt(s,na),Rt(s,zh,s);const l=G(n,TC,cA,{[jC]:!0}),c=G(n,nF,UN,{[jC]:!0}),d=Rt(n,NC,UN,{[jC]:!0});G(n,OC,d),G(c,TC,l),G(c,OC,d),Rt(c,NC,d),G(d,nF),G(d,TC),Rt(d,NC,d),G(d,OC,d);const f=Rt(n,EC,GQ,{[HQ]:!0});G(f,"#"),Rt(f,EC,f),G(f,G9e,f);const h=G(f,Q9e);G(h,"#"),Rt(h,EC,f);const p=[[na,a],[ra,i]],g=[[na,null],[zh,o],[ra,s]];for(let m=0;m<yv.length;m++)no(n,yv[m],zN,sa,p);for(let m=0;m<vv.length;m++)no(n,vv[m],VN,FN,g);dc(zN,{tld:!0,ascii:!0},e),dc(VN,{utld:!0,alpha:!0},e),no(n,"file",t0,sa,p),no(n,"mailto",t0,sa,p),no(n,"http",Bu,sa,p),no(n,"https",Bu,sa,p),no(n,"ftp",Bu,sa,p),no(n,"ftps",Bu,sa,p),dc(t0,{scheme:!0,ascii:!0},e),dc(Bu,{slashscheme:!0,ascii:!0},e),t=t.sort((m,y)=>m[0]>y[0]?1:-1);for(let m=0;m<t.length;m++){const y=t[m][0],x=t[m][1]?{[H9e]:!0}:{[q9e]:!0};y.indexOf("-")>=0?x[BN]=!0:na.test(y)?ra.test(y)?x[Np]=!0:x[$N]=!0:x[IN]=!0,tF(n,y,y,x)}return tF(n,"localhost",lg,{ascii:!0}),n.jd=new xr(Jb),{start:n,tokens:Object.assign({groups:e},QQ)}}function XQ(t,e){const n=J9e(e.replace(/[A-Z]/g,o=>o.toLowerCase())),r=n.length,i=[];let s=0,a=0;for(;a<r;){let o=t,l=null,c=0,d=null,f=-1,h=-1;for(;a<r&&(l=o.go(n[a]));)o=l,o.accepts()?(f=0,h=0,d=o):f>=0&&(f+=n[a].length,h++),c+=n[a].length,s+=n[a].length,a++;s-=f,a-=h,c-=f,i.push({t:d.t,v:e.slice(s-c,s),s:s-c,e:s})}return i}function J9e(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,a=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function no(t,e,n,r,i){let s;const a=e.length;for(let o=0;o<a-1;o++){const l=e[o];t.j[l]?s=t.j[l]:(s=new xr(r),s.jr=i.slice(),t.j[l]=s),t=s}return s=new xr(n),s.jr=i.slice(),t.j[e[a-1]]=s,s}function rF(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(t[r]),r++}return e}const cg={defaultProtocol:"http",events:null,format:iF,formatHref:iF,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function pA(t,e=null){let n=Object.assign({},cg);t&&(n=Object.assign(n,t instanceof pA?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}pA.prototype={o:cg,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:cg[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function iF(t){return t}function JQ(t,e){this.t="token",this.v=t,this.tk=e}JQ.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=cg.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),a={},o=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),d=t.getObj("attributes",n,e),f=t.getObj("events",n,e);return a.href=r,o&&(a.class=o),l&&(a.target=l),c&&(a.rel=c),d&&Object.assign(a,d),{tagName:i,attributes:a,content:s,eventListeners:f}}};function aS(t,e){class n extends JQ{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const sF=aS("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),aF=aS("text"),Z9e=aS("nl"),xv=aS("url",{isLink:!0,toHref(t=cg.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==lg&&t[1].t===bo}}),si=t=>new xr(t);function eqe({groups:t}){const e=t.domain.concat([Fb,Vb,fo,Ub,Wb,Hb,qb,Kb,oi,lA,Pp,Yb,Gb,Qb,xs,Jb,Mp,Xb]),n=[zb,bo,uA,vs,dA,Pp,Ap,fA,hA,Ob,Pb,Tp,Op,Eb,jb,Nb,Tb,Ab,Mb,Db,Rb,Ib,$b,Lb,Bb],r=[Fb,zb,Vb,Ub,Wb,Hb,qb,Kb,oi,Tp,Op,Pp,Yb,Gb,Qb,Ap,xs,Jb,Mp,Xb],i=si(),s=G(i,Mp);Te(s,r,s),Te(s,t.domain,s);const a=si(),o=si(),l=si();Te(i,t.domain,a),Te(i,t.scheme,o),Te(i,t.slashscheme,l),Te(a,r,s),Te(a,t.domain,a);const c=G(a,fo);G(s,fo,c),G(o,fo,c),G(l,fo,c);const d=G(s,vs);Te(d,r,s),Te(d,t.domain,s);const f=si();Te(c,t.domain,f),Te(f,t.domain,f);const h=G(f,vs);Te(h,t.domain,f);const p=si(sF);Te(h,t.tld,p),Te(h,t.utld,p),G(c,lg,p);const g=G(f,oi);G(g,oi,g),Te(g,t.domain,f),Te(p,t.domain,f),G(p,vs,h),G(p,oi,g);const m=G(p,bo);Te(m,t.numeric,sF);const y=G(a,oi),v=G(a,vs);G(y,oi,y),Te(y,t.domain,a),Te(v,r,s),Te(v,t.domain,a);const x=si(xv);Te(v,t.tld,x),Te(v,t.utld,x),Te(x,t.domain,a),Te(x,r,s),G(x,vs,v),G(x,oi,y),G(x,fo,c);const b=G(x,bo),k=si(xv);Te(b,t.numeric,k);const w=si(xv),C=si();Te(w,e,w),Te(w,n,C),Te(C,e,w),Te(C,n,C),G(x,xs,w),G(k,xs,w);const _=G(o,bo),j=G(l,bo),N=G(j,xs),E=G(N,xs);Te(o,t.domain,a),G(o,vs,v),G(o,oi,y),Te(l,t.domain,a),G(l,vs,v),G(l,oi,y),Te(_,t.domain,w),G(_,xs,w),G(_,Ap,w),Te(E,t.domain,w),Te(E,e,w),G(E,xs,w);const P=[[Tp,Op],[jb,Eb],[Nb,Tb],[Ob,Pb],[Ab,Mb],[Db,Rb],[Ib,$b],[Lb,Bb]];for(let O=0;O<P.length;O++){const[D,A]=P[O],M=G(w,D);G(C,D,M),G(M,A,w);const $=si(xv);Te(M,e,$);const I=si();Te(M,n),Te($,e,$),Te($,n,I),Te(I,e,$),Te(I,n,I),G($,A,w),G(I,A,w)}return G(i,lg,x),G(i,cA,Z9e),{start:i,tokens:QQ}}function tqe(t,e,n){let r=n.length,i=0,s=[],a=[];for(;i<r;){let o=t,l=null,c=null,d=0,f=null,h=-1;for(;i<r&&!(l=o.go(n[i].t));)a.push(n[i++]);for(;i<r&&(c=l||o.go(n[i].t));)l=null,o=c,o.accepts()?(h=0,f=o):h>=0&&h++,i++,d++;if(h<0)i-=d,i<r&&(a.push(n[i]),i++);else{a.length>0&&(s.push(PC(aF,e,a)),a=[]),i-=h,d-=h;const p=f.t,g=n.slice(i-d,i);s.push(PC(p,e,g))}}return a.length>0&&s.push(PC(aF,e,a)),s}function PC(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const nqe=typeof console<"u"&&console&&console.warn||(()=>{}),rqe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",gt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function iqe(){return xr.groups={},gt.scanner=null,gt.parser=null,gt.tokenQueue=[],gt.pluginQueue=[],gt.customSchemes=[],gt.initialized=!1,gt}function oF(t,e=!1){if(gt.initialized&&nqe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${rqe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);gt.customSchemes.push([t,e])}function sqe(){gt.scanner=X9e(gt.customSchemes);for(let t=0;t<gt.tokenQueue.length;t++)gt.tokenQueue[t][1]({scanner:gt.scanner});gt.parser=eqe(gt.scanner.tokens);for(let t=0;t<gt.pluginQueue.length;t++)gt.pluginQueue[t][1]({scanner:gt.scanner,parser:gt.parser});return gt.initialized=!0,gt}function mA(t){return gt.initialized||sqe(),tqe(gt.parser.start,t,XQ(gt.scanner.start,t))}mA.scan=XQ;function ZQ(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new pA(n),i=mA(t),s=[];for(let a=0;a<i.length;a++){const o=i[a];o.isLink&&(!e||o.t===e)&&r.check(o)&&s.push(o.toFormattedObject(r))}return s}var gA="[\0- -\u2029]",aqe=new RegExp(gA),oqe=new RegExp(`${gA}$`),lqe=new RegExp(gA,"g");function cqe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function uqe(t){return new Mt({key:new hn("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),s=e.some(c=>c.getMeta("preventAutolink"));if(!i||s)return;const{tr:a}=r,o=mQ(n.doc,[...e]);if(SQ(o).forEach(({newRange:c})=>{const d=zWe(r.doc,c,p=>p.isTextblock);let f,h;if(d.length>1)f=d[0],h=r.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(d.length){const p=r.doc.textBetween(c.from,c.to," "," ");if(!oqe.test(p))return;f=d[0],h=r.doc.textBetween(f.pos,c.to,void 0," ")}if(f&&h){const p=h.split(aqe).filter(Boolean);if(p.length<=0)return!1;const g=p[p.length-1],m=f.pos+h.lastIndexOf(g);if(!g)return!1;const y=mA(g).map(v=>v.toObject(t.defaultProtocol));if(!cqe(y))return!1;y.filter(v=>v.isLink).map(v=>({...v,from:m+v.start+1,to:m+v.end+1})).filter(v=>r.schema.marks.code?!r.doc.rangeHasMark(v.from,v.to,r.schema.marks.code):!0).filter(v=>t.validate(v.value)).filter(v=>t.shouldAutoLink(v.value)).forEach(v=>{rA(v.from,v.to,r.doc).some(x=>x.mark.type===t.type)||a.addMark(v.from,v.to,t.type.create({href:v.href}))})}}),!!a.steps.length)return a}})}function dqe(t){return new Mt({key:new hn("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let a=!1;if(t.enableClickSelection&&(a=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let o=null;if(r.target instanceof HTMLAnchorElement)o=r.target;else{let f=r.target;const h=[];for(;f.nodeName!=="DIV";)h.push(f),f=f.parentNode;o=h.find(p=>p.nodeName==="A")}if(!o)return a;const l=wQ(e.state,t.type.name),c=(i=o==null?void 0:o.href)!=null?i:l.href,d=(s=o==null?void 0:o.target)!=null?s:l.target;o&&c&&(window.open(c,d),a=!0)}return a}}})}function fqe(t){return new Mt({key:new hn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:s}=e,{selection:a}=s,{empty:o}=a;if(o)return!1;let l="";r.content.forEach(d=>{l+=d.textContent});const c=ZQ(l,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===l);return!l||!c||i!==void 0&&!i(c.href)?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}function Rl(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(lqe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var eX=cu.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){oF(t);return}oF(t.scheme,t.optionalSlashes)})},onDestroy(){iqe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Rl(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Rl(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Rl(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Yt(this.options.HTMLAttributes,t),0]:["a",Yt(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Rl(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Rl(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Gc({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=ZQ(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!Rl(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(uqe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Rl(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(dqe({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(fqe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),hqe=eX,pqe=Object.defineProperty,mqe=(t,e)=>{for(var n in e)pqe(t,n,{get:e[n],enumerable:!0})},gqe="listItem",lF="textStyle",cF=/^\s*([-+*])\s$/,tX=Or.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Yt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(gqe,this.editor.getAttributes(lF)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Of({find:cF,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Of({find:cF,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(lF),editor:this.editor})),[t]}}),nX=Or.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Yt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),o=e.parseChildren(a);n.push(...o)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>oA(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),yqe={};mqe(yqe,{findListItemPos:()=>Ug,getNextListDepth:()=>yA,handleBackspace:()=>WN,handleDelete:()=>HN,hasListBefore:()=>rX,hasListItemAfter:()=>vqe,hasListItemBefore:()=>iX,listItemHasSubList:()=>sX,nextListIsDeeper:()=>aX,nextListIsHigher:()=>oX});var Ug=(t,e)=>{const{$from:n}=e.selection,r=rn(t,e.schema);let i=null,s=n.depth,a=n.pos,o=null;for(;s>0&&o===null;)i=n.node(s),i.type===r?o=s:(s-=1,a-=1);return o===null?null:{$pos:e.doc.resolve(a),depth:o}},yA=(t,e)=>{const n=Ug(t,e);if(!n)return!1;const[,r]=XWe(e,t,n.$pos.pos+4);return r},rX=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},iX=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},sX=(t,e,n)=>{if(!n)return!1;const r=rn(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},WN=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!cl(t.state,e)&&rX(t.state,e,n)){const{$anchor:o}=t.state.selection,l=t.state.doc.resolve(o.before()-1),c=[];l.node().descendants((h,p)=>{h.type.name===e&&c.push({node:h,pos:p})});const d=c.at(-1);if(!d)return!1;const f=t.state.doc.resolve(l.start()+d.pos+1);return t.chain().cut({from:o.start()-1,to:o.end()+1},f.end()).joinForward().run()}if(!cl(t.state,e)||!tHe(t.state))return!1;const r=Ug(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=sX(e,t.state,s);return iX(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},aX=(t,e)=>{const n=yA(t,e),r=Ug(t,e);return!r||!n?!1:n>r.depth},oX=(t,e)=>{const n=yA(t,e),r=Ug(t,e);return!r||!n?!1:n<r.depth},HN=(t,e)=>{if(!cl(t.state,e)||!eHe(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:aX(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():oX(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},vqe=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},lX=Gt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&HN(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&HN(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&WN(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&WN(t,n,r)&&(e=!0)}),e}}}}),uF=/^(\s*)(\d+)\.\s+(.*)$/,xqe=/^\s/;function bqe(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],s=i.match(uF);if(!s)break;const[,a,o,l]=s,c=a.length;let d=l,f=n+1;const h=[i];for(;f<t.length;){const p=t[f];if(p.match(uF))break;if(p.trim()==="")h.push(p),d+=`
`,f+=1;else if(p.match(xqe))h.push(p),d+=`
${p.slice(c+2)}`,f+=1;else break}e.push({indent:c,number:parseInt(o,10),content:d.trim(),raw:h.join(`
`)}),r=f,n=f}return[e,r]}function cX(t,e,n){var r;const i=[];let s=0;for(;s<t.length;){const a=t[s];if(a.indent===e){const o=a.content.split(`
`),l=((r=o[0])==null?void 0:r.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const d=o.slice(1).join(`
`).trim();if(d){const p=n.blockTokens(d);c.push(...p)}let f=s+1;const h=[];for(;f<t.length&&t[f].indent>e;)h.push(t[f]),f+=1;if(h.length>0){const p=Math.min(...h.map(m=>m.indent)),g=cX(h,p,n);c.push({type:"list",ordered:!0,start:h[0].number,items:g,raw:h.map(m=>m.raw).join(`
`)})}i.push({type:"list_item",raw:a.raw,tokens:c}),s=f}else s+=1}return i}function wqe(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=e.parseChildren([i]);r.push({type:"paragraph",content:s})}else{const s=e.parseChildren([i]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var Sqe="listItem",dF="textStyle",fF=/^(\d+)\.\s$/,uX=Or.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Yt(this.options.HTMLAttributes,n),0]:["ol",Yt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?wqe(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e==null?void 0:e.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[s,a]=bqe(i);if(s.length===0)return;const o=cX(s,0,n);return o.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:o,raw:i.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Sqe,this.editor.getAttributes(dF)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Of({find:fF,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Of({find:fF,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(dF)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),kqe=/^\s*(\[([( |x])?\])\s$/,Cqe=Or.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Yt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return oA(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),o=document.createElement("input"),l=document.createElement("div"),c=d=>{var f,h;o.ariaLabel=((h=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:h.call(f,d,o.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};return c(t),s.contentEditable="false",o.type="checkbox",o.addEventListener("mousedown",d=>d.preventDefault()),o.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){o.checked=!o.checked;return}const{checked:f}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:h})=>{const p=n();if(typeof p!="number")return!1;const g=h.doc.nodeAt(p);return h.setNodeMarkup(p,void 0,{...g==null?void 0:g.attrs,checked:f}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,f)||(o.checked=!o.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,f])=>{i.setAttribute(d,f)}),i.dataset.checked=t.attrs.checked,o.checked=t.attrs.checked,s.append(o,a),i.append(s,l),Object.entries(e).forEach(([d,f])=>{i.setAttribute(d,f)}),{dom:i,contentDOM:l,update:d=>d.type!==this.type?!1:(i.dataset.checked=d.attrs.checked,o.checked=d.attrs.checked,c(d),!0)}}},addInputRules(){return[Of({find:kqe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),_qe=Or.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Yt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=s=>{const a=DN(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,l)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:l}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(s)},i=DN(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,a)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:a}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Gt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(tX.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(nX.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(lX.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(uX.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(Cqe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(_qe.configure(this.options.taskList)),t}});var jqe=Or.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Yt(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Eqe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Nqe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Tqe=cu.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Yt(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Tf({find:Eqe,type:this.type})]},addPasteRules(){return[Gc({find:Nqe,type:this.type})]}}),Oqe=Or.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),Pqe=cu.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Yt(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Aqe(t={}){return new Mt({view(e){return new Mqe(e,t)}})}class Mqe{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,o=s.height/i.offsetHeight;if(n){let f=e.nodeBefore,h=e.nodeAfter;if(f||h){let p=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(p){let g=p.getBoundingClientRect(),m=f?g.bottom:g.top;f&&h&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*o;r={left:g.left,right:g.right,top:m-y,bottom:m+y}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),h=this.width/2*a;r={left:f.left-h,right:f.left+h,top:f.top,bottom:f.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,d;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,d=-pageYOffset;else{let f=l.getBoundingClientRect(),h=f.width/l.offsetWidth,p=f.height/l.offsetHeight;c=f.left-l.scrollLeft*h,d=f.top-l.scrollTop*p}this.element.style.left=(r.left-c)/a+"px",this.element.style.top=(r.top-d)/o+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/o+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let o=aG(this.editorView.state.doc,a,this.editorView.dragging.slice);o!=null&&(a=o)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Ft extends Oe{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Ft.valid(r)?new Ft(r):Oe.near(r)}content(){return se.empty}eq(e){return e instanceof Ft&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ft(e.resolve(n.pos))}getBookmark(){return new vA(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Dqe(e)||!Rqe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Ft.valid(e))return e;let i=e.pos,s=null;for(let a=e.depth;;a--){let o=e.node(a);if(n>0?e.indexAfter(a)<o.childCount:e.index(a)>0){s=o.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=n;let l=e.doc.resolve(i);if(Ft.valid(l))return l}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!ge.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=a,i+=n;let o=e.doc.resolve(i);if(Ft.valid(o))return o}return null}}}Ft.prototype.visible=!1;Ft.findFrom=Ft.findGapCursorFrom;Oe.jsonID("gapcursor",Ft);class vA{constructor(e){this.pos=e}map(e){return new vA(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Ft.valid(n)?new Ft(n):Oe.near(n)}}function dX(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function Dqe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||dX(i.type))return!0;if(i.inlineContent)return!1}}return!0}function Rqe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||dX(i.type))return!0;if(i.inlineContent)return!1}}return!0}function Iqe(){return new Mt({props:{decorations:Fqe,createSelectionBetween(t,e,n){return e.pos==n.pos&&Ft.valid(n)?new Ft(n):null},handleClick:Lqe,handleKeyDown:$qe,handleDOMEvents:{beforeinput:Bqe}}})}const $qe=oQ({ArrowLeft:bv("horiz",-1),ArrowRight:bv("horiz",1),ArrowUp:bv("vert",-1),ArrowDown:bv("vert",1)});function bv(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let a=r.selection,o=e>0?a.$to:a.$from,l=a.empty;if(a instanceof Ce){if(!s.endOfTextblock(n)||o.depth==0)return!1;l=!1,o=r.doc.resolve(e>0?o.after():o.before())}let c=Ft.findGapCursorFrom(o,e,l);return c?(i&&i(r.tr.setSelection(new Ft(c))),!0):!1}}function Lqe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Ft.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&ge.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Ft(r))),!0)}function Bqe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Ft))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=H.empty;for(let a=r.length-1;a>=0;a--)i=H.from(r[a].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new se(i,0,0));return s.setSelection(Ce.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function Fqe(t){if(!(t.selection instanceof Ft))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Nt.create(t.doc,[or.widget(t.selection.head,e,{key:"gapcursor"})])}var Zb=200,wn=function(){};wn.prototype.append=function(e){return e.length?(e=wn.from(e),!this.length&&e||e.length<Zb&&this.leafAppend(e)||this.length<Zb&&e.leafPrepend(this)||this.appendInner(e)):this};wn.prototype.prepend=function(e){return e.length?wn.from(e).append(this):this};wn.prototype.appendInner=function(e){return new zqe(this,e)};wn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?wn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};wn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};wn.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};wn.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},n,r),i};wn.from=function(e){return e instanceof wn?e:e&&e.length?new fX(e):wn.empty};var fX=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,o){for(var l=s;l<a;l++)if(i(this.values[l],o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,o){for(var l=s-1;l>=a;l--)if(i(this.values[l],o+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Zb)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Zb)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(wn);wn.empty=new fX([]);var zqe=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,a){var o=this.left.length;if(i<o&&this.left.forEachInner(r,i,Math.min(s,o),a)===!1||s>o&&this.right.forEachInner(r,Math.max(i-o,0),Math.min(this.length,s)-o,a+o)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,a){var o=this.left.length;if(i>o&&this.right.forEachInvertedInner(r,i-o,Math.max(s,o)-o,a+o)===!1||s<o&&this.left.forEachInvertedInner(r,Math.min(i,o),s,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(wn);const Vqe=500;class ts{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=e.tr,o,l,c=[],d=[];return this.items.forEach((f,h)=>{if(!f.step){i||(i=this.remapping(r,h+1),s=i.maps.length),s--,d.push(f);return}if(i){d.push(new bs(f.map));let p=f.step.map(i.slice(s)),g;p&&a.maybeStep(p).doc&&(g=a.mapping.maps[a.mapping.maps.length-1],c.push(new bs(g,void 0,void 0,c.length+d.length))),s--,g&&i.appendMap(g,s)}else a.maybeStep(f.step);if(f.selection)return o=i?f.selection.map(i.slice(s)):f.selection,l=new ts(this.items.slice(0,r).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:o}}addTransform(e,n,r,i){let s=[],a=this.eventCount,o=this.items,l=!i&&o.length?o.get(o.length-1):null;for(let d=0;d<e.steps.length;d++){let f=e.steps[d].invert(e.docs[d]),h=new bs(e.mapping.maps[d],f,n),p;(p=l&&l.merge(h))&&(h=p,d?s.pop():o=o.slice(0,o.length-1)),s.push(h),n&&(a++,n=void 0),i||(l=h)}let c=a-r.depth;return c>Wqe&&(o=Uqe(o,c),a-=c),new ts(o.append(s),a)}remapping(e,n){let r=new ng;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new ts(this.items.append(e.map(n=>new bs(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,o=this.eventCount;this.items.forEach(h=>{h.selection&&o--},i);let l=n;this.items.forEach(h=>{let p=s.getMirror(--l);if(p==null)return;a=Math.min(a,p);let g=s.maps[p];if(h.step){let m=e.steps[p].invert(e.docs[p]),y=h.selection&&h.selection.map(s.slice(l+1,p));y&&o++,r.push(new bs(g,m,y))}else r.push(new bs(g))},i);let c=[];for(let h=n;h<a;h++)c.push(new bs(s.maps[h]));let d=this.items.slice(0,i).append(c).append(r),f=new ts(d,o);return f.emptyItemCount()>Vqe&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((a,o)=>{if(o>=e)i.push(a),a.selection&&s++;else if(a.step){let l=a.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let d=a.selection&&a.selection.map(n.slice(r));d&&s++;let f=new bs(c.invert(),l,d),h,p=i.length-1;(h=i.length&&i[p].merge(f))?i[p]=h:i.push(f)}}else a.map&&r--},this.items.length,0),new ts(wn.from(i.reverse()),s)}}ts.empty=new ts(wn.empty,0);function Uqe(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class bs{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new bs(n.getMap().invert(),n,this.selection)}}}class ho{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const Wqe=20;function Hqe(t,e,n,r){let i=n.getMeta(Oc),s;if(i)return i.historyState;n.getMeta(Yqe)&&(t=new ho(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(Oc))return a.getMeta(Oc).redo?new ho(t.done.addTransform(n,void 0,r,n0(e)),t.undone,hF(n.mapping.maps),t.prevTime,t.prevComposition):new ho(t.done,t.undone.addTransform(n,void 0,r,n0(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let o=n.getMeta("composition"),l=t.prevTime==0||!a&&t.prevComposition!=o&&(t.prevTime<(n.time||0)-r.newGroupDelay||!qqe(n,t.prevRanges)),c=a?AC(t.prevRanges,n.mapping):hF(n.mapping.maps);return new ho(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,n0(e)),ts.empty,c,n.time,o??t.prevComposition)}else return(s=n.getMeta("rebased"))?new ho(t.done.rebased(n,s),t.undone.rebased(n,s),AC(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new ho(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),AC(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function qqe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function hF(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,a)=>e.push(s,a));return e}function AC(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function Kqe(t,e,n){let r=n0(e),i=Oc.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),o=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new ho(n?o:s.remaining,n?s.remaining:o,null,0,-1);return s.transform.setSelection(a).setMeta(Oc,{redo:n,historyState:l})}let MC=!1,pF=null;function n0(t){let e=t.plugins;if(pF!=e){MC=!1,pF=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){MC=!0;break}}return MC}const Oc=new hn("history"),Yqe=new hn("closeHistory");function Gqe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Mt({key:Oc,state:{init(){return new ho(ts.empty,ts.empty,null,0,-1)},apply(e,n,r){return Hqe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?pX:r=="historyRedo"?mX:null;return!i||!e.editable?!1:(n.preventDefault(),i(e.state,e.dispatch))}}}})}function hX(t,e){return(n,r)=>{let i=Oc.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=Kqe(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const pX=hX(!1,!0),mX=hX(!0,!0);Gt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Mt({key:new hn("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const a=s-i,o=0,l=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(o,l);return t=!0,c}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const o=e.selection.$head.pos,l=s-r,c=o-l,d=o;return e.deleteRange(c,d),!(this.storage.characters({node:e.doc})>r)}})]}});var Qqe=Gt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Aqe(this.options)]}});Gt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Mt({key:new hn("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return Nt.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;a+=1});let o=0;return t.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(o+=1,this.options.mode==="deepest"&&a-o>0||this.options.mode==="shallowest"&&o>1)return this.options.mode==="deepest";s.push(or.node(c,c+l.nodeSize,{class:this.options.className}))}),Nt.create(t,s)}}})]}});var Xqe=Gt.create({name:"gapCursor",addProseMirrorPlugins(){return[Iqe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Qe(pe(t,"allowGapCursor",n)))!=null?e:null}}}),Jqe=Gt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Mt({key:new hn("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((a,o)=>{const l=r>=o&&r<=o+a.nodeSize,c=!a.isLeaf&&nS(a);if((l||!this.options.showOnlyCurrent)&&c){const d=[this.options.emptyNodeClass];s&&d.push(this.options.emptyEditorClass);const f=or.node(o,o+a.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:o,hasAnchor:l}):this.options.placeholder});i.push(f)}return this.options.includeChildren}),Nt.create(t,i)}}})]}});Gt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Mt({key:new hn("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||kQ(n.selection)||t.view.dragging?null:Nt.create(n.doc,[or.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function mF({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var Zqe=Gt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new hn(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new Mt({key:e,appendTransaction:(i,s,a)=>{const{doc:o,tr:l,schema:c}=a,d=e.getState(a),f=o.content.size,h=c.nodes[n];if(d)return l.insert(f,h.create())},state:{init:(i,s)=>{const a=s.tr.doc.lastChild;return!mF({node:a,types:r})},apply:(i,s)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return s;const a=i.doc.lastChild;return!mF({node:a,types:r})}}})]}}),eKe=Gt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>pX(t,e),redo:()=>({state:t,dispatch:e})=>mX(t,e)}},addProseMirrorPlugins(){return[Gqe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),tKe=Gt.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(E9e.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(S9e.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(tX.configure(this.options.bulletList)),this.options.code!==!1&&i.push(O9e.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(M9e.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(D9e.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(Qqe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(Xqe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(R9e.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(I9e.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(eKe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push($9e.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(V9e.configure(this.options.italic)),this.options.listItem!==!1&&i.push(nX.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(lX.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(eX.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(uX.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(jqe.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(Tqe.configure(this.options.strike)),this.options.text!==!1&&i.push(Oqe.configure(this.options.text)),this.options.underline!==!1&&i.push(Pqe.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(Zqe.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),nKe=tKe,rKe=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,iKe=Or.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Yt(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,i,s,a;const o=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",l=(i=(r=t.attrs)==null?void 0:r.alt)!=null?i:"",c=(a=(s=t.attrs)==null?void 0:s.title)!=null?a:"";return c?`![${l}](${o} "${c}")`:`![${l}](${o})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:i,getPos:s,HTMLAttributes:a,editor:o})=>{const l=document.createElement("img");Object.entries(a).forEach(([f,h])=>{if(h!=null)switch(f){case"width":case"height":break;default:l.setAttribute(f,h);break}}),l.src=a.src;const c=new zHe({element:l,editor:o,node:i,getPos:s,onResize:(f,h)=>{l.style.width=`${f}px`,l.style.height=`${h}px`},onCommit:(f,h)=>{const p=s();p!==void 0&&this.editor.chain().setNodeSelection(p).updateAttributes(this.name,{width:f,height:h}).run()},onUpdate:(f,h,p)=>f.type===i.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:r===!0}}),d=c.dom;return d.style.visibility="hidden",d.style.pointerEvents="none",l.onload=()=>{d.style.visibility="",d.style.pointerEvents=""},c}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[FQ({find:rKe,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),sKe=iKe,aKe=Jqe;const oKe=({content:t,onChange:e,placeholder:n="Start writing...",className:r})=>{var l,c;const i=y9e({extensions:[nKe.configure({heading:{levels:[1,2,3]}}),hqe.configure({openOnClick:!1,HTMLAttributes:{class:"text-[#778873] underline cursor-pointer"}}),sKe.configure({HTMLAttributes:{class:"max-w-full h-auto rounded-lg my-4"}}),aKe.configure({placeholder:n})],content:t,onUpdate:({editor:d})=>{e(d.getHTML())},editorProps:{attributes:{class:"prose prose-sm sm:prose max-w-none focus:outline-none min-h-[300px] px-4 py-3"}}});if(!i)return null;const s=()=>{const d=window.prompt("Enter URL:");d&&i.chain().focus().setLink({href:d}).run()},a=()=>{const d=window.prompt("Enter image URL:");d&&i.chain().focus().setImage({src:d}).run()},o=({onClick:d,isActive:f=!1,disabled:h=!1,children:p})=>u.jsx("button",{type:"button",onClick:d,disabled:h,className:Ke("p-2 rounded hover:bg-[#F1F3E0] transition-colors",f&&"bg-[#F1F3E0] text-[#778873]",h&&"opacity-50 cursor-not-allowed"),children:p});return u.jsxs("div",{className:Ke("border rounded-lg bg-white overflow-hidden",r),children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-1 p-2 border-b bg-[#FAFAF5]",children:[u.jsxs("div",{className:"flex items-center gap-1 pr-2 border-r",children:[u.jsx(o,{onClick:()=>i.chain().focus().toggleBold().run(),isActive:i.isActive("bold"),children:u.jsx(Xee,{size:16})}),u.jsx(o,{onClick:()=>i.chain().focus().toggleItalic().run(),isActive:i.isActive("italic"),children:u.jsx(mte,{size:16})}),u.jsx(o,{onClick:()=>i.chain().focus().toggleStrike().run(),isActive:i.isActive("strike"),children:u.jsx(Pte,{size:16})}),u.jsx(o,{onClick:()=>i.chain().focus().toggleCode().run(),isActive:i.isActive("code"),children:u.jsx(ite,{size:16})})]}),u.jsxs("div",{className:"flex items-center gap-1 px-2 border-r",children:[u.jsx(o,{onClick:()=>i.chain().focus().toggleHeading({level:1}).run(),isActive:i.isActive("heading",{level:1}),children:u.jsx(dte,{size:16})}),u.jsx(o,{onClick:()=>i.chain().focus().toggleHeading({level:2}).run(),isActive:i.isActive("heading",{level:2}),children:u.jsx(fte,{size:16})}),u.jsx(o,{onClick:()=>i.chain().focus().toggleHeading({level:3}).run(),isActive:i.isActive("heading",{level:3}),children:u.jsx(hte,{size:16})})]}),u.jsxs("div",{className:"flex items-center gap-1 px-2 border-r",children:[u.jsx(o,{onClick:()=>i.chain().focus().toggleBulletList().run(),isActive:i.isActive("bulletList"),children:u.jsx(S8,{size:16})}),u.jsx(o,{onClick:()=>i.chain().focus().toggleOrderedList().run(),isActive:i.isActive("orderedList"),children:u.jsx(xte,{size:16})}),u.jsx(o,{onClick:()=>i.chain().focus().toggleBlockquote().run(),isActive:i.isActive("blockquote"),children:u.jsx(Zp,{size:16})})]}),u.jsxs("div",{className:"flex items-center gap-1 px-2 border-r",children:[u.jsx(o,{onClick:s,isActive:i.isActive("link"),children:u.jsx(w8,{size:16})}),u.jsx(o,{onClick:a,children:u.jsx(eO,{size:16})}),u.jsx(o,{onClick:()=>i.chain().focus().setHorizontalRule().run(),children:u.jsx(Ste,{size:16})})]}),u.jsxs("div",{className:"flex items-center gap-1 pl-2",children:[u.jsx(o,{onClick:()=>i.chain().focus().undo().run(),disabled:!i.can().undo(),children:u.jsx(Rte,{size:16})}),u.jsx(o,{onClick:()=>i.chain().focus().redo().run(),disabled:!i.can().redo(),children:u.jsx(jte,{size:16})})]})]}),u.jsx(u9e,{editor:i}),u.jsxs("div",{className:"px-4 py-2 border-t text-xs text-[#6b7c67] bg-[#FAFAF5]",children:[((c=(l=i.storage.characterCount)==null?void 0:l.characters)==null?void 0:c.call(l))||i.getText().length," characters"]})]})},gF=()=>{const{id:t}=Mw(),e=Gs(),n=!!t,{posts:r,categories:i,fetchPosts:s,fetchCategories:a,createPost:o,updatePost:l,getPostById:c}=n1(),{user:d}=r1(),[f,h]=S.useState(""),[p,g]=S.useState(""),[m,y]=S.useState(""),[v,x]=S.useState(""),[b,k]=S.useState(""),[w,C]=S.useState(""),[_,j]=S.useState([]),[N,E]=S.useState(""),[P,O]=S.useState("draft"),[D,A]=S.useState(""),[M,$]=S.useState(!1),[I,R]=S.useState(null),[L,B]=S.useState(!0);S.useEffect(()=>{(async()=>{if(await a(),r.length===0&&await s(),n&&t){const ye=c(t);ye&&(h(ye.title),g(ye.slug),y(ye.content||""),x(ye.excerpt||""),k(ye.featured_image||""),C(ye.category_id||""),j(ye.tags||[]),O(ye.status),ye.published_at&&A(ye.published_at.slice(0,16)))}B(!1)})()},[t,n,r.length]),S.useEffect(()=>{!n&&f&&g(f.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""))},[f,n]);const W=J=>{J.key==="Enter"&&N.trim()&&(J.preventDefault(),_.includes(N.trim())||j([..._,N.trim()]),E(""))},z=J=>{j(_.filter(ye=>ye!==J))},K=async J=>{if(!f.trim()){X({title:"Title required",variant:"destructive"});return}if(!p.trim()){X({title:"Slug required",variant:"destructive"});return}$(!0);const ye={title:f,slug:p,content:m,excerpt:v,featured_image:b||null,category_id:w||null,tags:_,status:J||P,author_id:d==null?void 0:d.id,author_name:d==null?void 0:d.name,published_at:J==="published"?new Date().toISOString():P==="scheduled"?D:null};try{n&&t?(await l(t,ye),X({title:"Post updated",description:"Your changes have been saved."})):(await o(ye),X({title:J==="published"?"Post published!":"Draft saved"})),R(new Date),J==="published"&&e("/admin/blog")}catch{X({title:"Error",description:"Failed to save post.",variant:"destructive"})}$(!1)},ie=()=>{p?window.open(`/blog/${p}`,"_blank"):X({title:"Preview",description:"Please add a slug first."})};return L?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(ze,{size:32,className:"animate-spin text-[#778873]"})}):u.jsxs("div",{className:"min-h-screen -m-6 bg-[#F1F3E0]",children:[u.jsx("div",{className:"bg-white border-b border-[#d4dbc8] sticky top-0 z-20",children:u.jsxs("div",{className:"flex items-center justify-between p-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Fe,{to:"/admin/blog",className:"p-2 hover:bg-[#F1F3E0] rounded-lg transition-colors",children:u.jsx(bw,{size:20,className:"text-[#778873]"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"font-semibold text-[#2d3a29]",children:n?"Edit Post":"Create New Post"}),I&&u.jsxs("p",{className:"text-xs text-[#6b7c67]",children:["Last saved: ",I.toLocaleTimeString()]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{onClick:ie,className:"admin-btn admin-btn-outline",children:[u.jsx(If,{size:16}),"Preview"]}),u.jsx("button",{onClick:()=>K("draft"),disabled:M,className:"admin-btn admin-btn-outline",children:M?"Saving...":"Save Draft"}),u.jsxs("button",{onClick:()=>K("published"),disabled:M,className:"admin-btn admin-btn-primary",children:[u.jsx(_8,{size:16}),"Publish"]})]})]})}),u.jsxs("div",{className:"flex gap-6 p-6",children:[u.jsxs("div",{className:"flex-1 space-y-4",children:[u.jsx("input",{type:"text",value:f,onChange:J=>h(J.target.value),placeholder:"Post title...",className:"w-full text-3xl font-bold bg-transparent border-0 focus:outline-none focus:ring-0 text-[#2d3a29] placeholder-[#d4dbc8]"}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#6b7c67]",children:[u.jsx("span",{children:"Permalink:"}),u.jsx("span",{className:"text-[#778873]",children:"https://stayinubud.com/blog/"}),u.jsx("input",{type:"text",value:p,onChange:J=>g(J.target.value),className:"bg-white px-2 py-1 rounded border border-[#d4dbc8] text-sm focus:outline-none focus:border-[#A1BC98]"})]}),u.jsx(oKe,{content:m,onChange:y,placeholder:"Write your post content here...",className:"min-h-[500px]"})]}),u.jsxs("div",{className:"w-80 space-y-4",children:[u.jsxs("div",{className:"admin-card p-4",children:[u.jsx("h3",{className:"font-semibold text-[#2d3a29] mb-4",children:"Publish Settings"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Status"}),u.jsxs("select",{value:P,onChange:J=>O(J.target.value),className:"admin-input",children:[u.jsx("option",{value:"draft",children:"Draft"}),u.jsx("option",{value:"published",children:"Published"}),u.jsx("option",{value:"scheduled",children:"Scheduled"})]})]}),P==="scheduled"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Publish Date"}),u.jsx("input",{type:"datetime-local",value:D,onChange:J=>A(J.target.value),className:"admin-input"})]})]})]}),u.jsxs("div",{className:"admin-card p-4",children:[u.jsx("h3",{className:"font-semibold text-[#2d3a29] mb-4",children:"Featured Image"}),u.jsx(ImageUpload,{value:b,onChange:J=>k(J)})]}),u.jsxs("div",{className:"admin-card p-4",children:[u.jsx("h3",{className:"font-semibold text-[#2d3a29] mb-4",children:"Categories & Tags"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Category"}),u.jsxs("select",{value:w,onChange:J=>C(J.target.value),className:"admin-input",children:[u.jsx("option",{value:"",children:"Select category..."}),i.map(J=>u.jsx("option",{value:J.id,children:J.name},J.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Tags"}),u.jsx("input",{type:"text",value:N,onChange:J=>E(J.target.value),onKeyDown:W,placeholder:"Press Enter to add...",className:"admin-input"}),u.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:_.map(J=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[#F1F3E0] rounded text-sm",children:[J,u.jsx("button",{onClick:()=>z(J),className:"text-[#6b7c67] hover:text-red-500",children:u.jsx(dn,{size:12})})]},J))})]})]})]}),u.jsxs("div",{className:"admin-card p-4",children:[u.jsx("h3",{className:"font-semibold text-[#2d3a29] mb-4",children:"Excerpt"}),u.jsx("textarea",{value:v,onChange:J=>x(J.target.value),className:"admin-input",rows:3,placeholder:"Brief summary of the post..."})]})]})]})]})},lKe=hs((t,e)=>({admins:[],activityLogs:[],isLoading:!1,error:null,fetchAdmins:async()=>{t({isLoading:!0,error:null});try{const{data:n,error:r}=await oe.from("admin_users").select("*").order("created_at",{ascending:!1});if(r)throw r;t({admins:n,isLoading:!1})}catch(n){console.error("Error fetching admins:",n),t({isLoading:!1,error:"Failed to fetch admin users"})}},fetchActivityLogs:async()=>{try{const{data:n,error:r}=await oe.from("admin_activity_logs").select("*").order("created_at",{ascending:!1}).limit(50);if(r)throw r;t({activityLogs:n})}catch(n){console.error("Error fetching activity logs:",n)}},createAdmin:async n=>{t({isLoading:!0,error:null});try{const{data:r,error:i}=await oe.from("admin_users").insert([n]).select().single();if(i)throw i;const s=r;return t(a=>({admins:[s,...a.admins],isLoading:!1})),s}catch(r){return console.error("Error creating admin:",r),t({isLoading:!1,error:"Failed to create admin user"}),null}},updateAdmin:async(n,r)=>{t({isLoading:!0,error:null});try{const{error:i}=await oe.from("admin_users").update({...r,updated_at:new Date().toISOString()}).eq("id",n);if(i)throw i;return t(s=>({admins:s.admins.map(a=>a.id===n?{...a,...r}:a),isLoading:!1})),!0}catch(i){return console.error("Error updating admin:",i),t({isLoading:!1,error:"Failed to update admin user"}),!1}},deleteAdmin:async n=>{t({isLoading:!0,error:null});try{const{error:r}=await oe.from("admin_users").delete().eq("id",n);if(r)throw r;return t(i=>({admins:i.admins.filter(s=>s.id!==n),isLoading:!1})),!0}catch(r){return console.error("Error deleting admin:",r),t({isLoading:!1,error:"Failed to delete admin user"}),!1}},toggleAdminStatus:async n=>{const r=e().admins.find(i=>i.id===n);return r?e().updateAdmin(n,{is_active:!r.is_active}):!1},changePassword:async(n,r)=>{t({isLoading:!0,error:null});try{const{error:i}=await oe.from("admin_users").update({password_hash:r,updated_at:new Date().toISOString()}).eq("id",n);if(i)throw i;return t({isLoading:!1}),!0}catch(i){return console.error("Error changing password:",i),t({isLoading:!1,error:"Failed to change password"}),!1}},logActivity:async(n,r,i)=>{try{await oe.from("admin_activity_logs").insert([{admin_id:n,admin_name:r,action:i,created_at:new Date().toISOString()}])}catch(s){console.error("Error logging activity:",s)}},clearError:()=>{t({error:null})}})),Dp={super_admin:{label:"Super Admin",icon:Tte,className:"bg-purple-100 text-purple-700",description:"Full access to everything"},admin:{label:"Admin",icon:Nte,className:"bg-blue-100 text-blue-700",description:"Manage villas, bookings, offers"},editor:{label:"Editor",icon:Ote,className:"bg-green-100 text-green-700",description:"Manage blog posts and content"}},cKe=({user:t})=>{if(t.avatar_url)return u.jsx("img",{src:t.avatar_url||"/placeholder.svg",alt:t.name,className:"w-10 h-10 rounded-full object-cover"});const e=t.name.split(" ").map(n=>n[0]).join("").slice(0,2).toUpperCase();return u.jsx("div",{className:"w-10 h-10 rounded-full bg-[#A1BC98] text-white flex items-center justify-center font-semibold text-sm",children:e})},uKe=({user:t,isOpen:e,onClose:n,onSave:r,isLoading:i})=>{const[s,a]=S.useState({name:"",email:"",role:"editor",is_active:!0,password:""});if(S.useEffect(()=>{a(t?{name:t.name,email:t.email,role:t.role,is_active:t.is_active,password:""}:{name:"",email:"",role:"editor",is_active:!0,password:""})},[t,e]),!e)return null;const o=()=>{if(!s.name||!s.email){X({title:"Missing fields",description:"Name and email are required",variant:"destructive"});return}if(!t&&!s.password){X({title:"Missing password",description:"Password is required for new admin",variant:"destructive"});return}r(s)};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b border-[#d4dbc8] flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-bold text-[#2d3a29]",children:t?"Edit Admin User":"Add New Admin"}),u.jsx("button",{onClick:n,className:"p-2 hover:bg-[#F1F3E0] rounded-lg",children:u.jsx(dn,{size:20})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Full Name *"}),u.jsx("input",{type:"text",value:s.name,onChange:l=>a({...s,name:l.target.value}),className:"admin-input",placeholder:"Enter full name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Email *"}),u.jsx("input",{type:"email",value:s.email,onChange:l=>a({...s,email:l.target.value}),className:"admin-input",placeholder:"email@example.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Role"}),u.jsx("select",{value:s.role,onChange:l=>a({...s,role:l.target.value}),className:"admin-input",children:Object.entries(Dp).map(([l,c])=>u.jsx("option",{value:l,children:c.label},l))}),u.jsx("p",{className:"text-xs text-[#6b7c67] mt-1",children:Dp[s.role].description})]}),!t&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Password *"}),u.jsx("input",{type:"password",value:s.password,onChange:l=>a({...s,password:l.target.value}),className:"admin-input",placeholder:"Enter password"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>a({...s,is_active:!s.is_active}),className:`relative w-12 h-6 rounded-full transition-colors ${s.is_active?"bg-[#A1BC98]":"bg-gray-300"}`,children:u.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${s.is_active?"translate-x-7":"translate-x-1"}`})}),u.jsx("span",{className:"text-sm",children:s.is_active?"Active":"Inactive"})]})]}),u.jsxs("div",{className:"p-6 border-t border-[#d4dbc8] flex justify-end gap-3",children:[u.jsx("button",{onClick:n,className:"admin-btn admin-btn-outline",children:"Cancel"}),u.jsxs("button",{onClick:o,disabled:i,className:"admin-btn admin-btn-primary",children:[i?u.jsx(ze,{size:16,className:"animate-spin"}):null,"Save Admin User"]})]})]})})},dKe=({user:t,isOpen:e,onClose:n,onSave:r,isLoading:i})=>{const[s,a]=S.useState(""),[o,l]=S.useState("");if(S.useEffect(()=>{e&&(a(""),l(""))},[e]),!e||!t)return null;const c=[{label:"At least 8 characters",met:s.length>=8},{label:"Contains uppercase & lowercase",met:/[a-z]/.test(s)&&/[A-Z]/.test(s)},{label:"Contains numbers",met:/\d/.test(s)},{label:"Contains special characters",met:/[!@#$%^&*]/.test(s)}],d=c.filter(p=>p.met).length,f=["bg-red-400","bg-orange-400","bg-yellow-400","bg-green-400"],h=()=>{if(s!==o){X({title:"Passwords do not match",variant:"destructive"});return}if(d<3){X({title:"Password too weak",variant:"destructive"});return}r(s)};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md",children:[u.jsxs("div",{className:"p-6 border-b border-[#d4dbc8] flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-bold text-[#2d3a29]",children:"Change Password"}),u.jsx("button",{onClick:n,className:"p-2 hover:bg-[#F1F3E0] rounded-lg",children:u.jsx(dn,{size:20})})]}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsxs("p",{className:"text-sm text-[#6b7c67]",children:["Changing password for: ",u.jsx("strong",{children:t.name})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"New Password"}),u.jsx("input",{type:"password",value:s,onChange:p=>a(p.target.value),className:"admin-input"}),u.jsx("div",{className:"flex gap-1 mt-2",children:[0,1,2,3].map(p=>u.jsx("div",{className:`h-1 flex-1 rounded ${p<d?f[d-1]:"bg-gray-200"}`},p))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Confirm Password"}),u.jsx("input",{type:"password",value:o,onChange:p=>l(p.target.value),className:"admin-input"})]}),u.jsx("div",{className:"bg-[#F1F3E0] rounded-lg p-3 space-y-1",children:c.map((p,g)=>u.jsxs("div",{className:`flex items-center gap-2 text-sm ${p.met?"text-green-600":"text-[#6b7c67]"}`,children:[p.met?u.jsx(bg,{size:14}):u.jsx("div",{className:"w-3.5 h-3.5 border border-[#d4dbc8] rounded"}),p.label]},g))})]}),u.jsxs("div",{className:"p-6 border-t border-[#d4dbc8] flex justify-end gap-3",children:[u.jsx("button",{onClick:n,className:"admin-btn admin-btn-outline",children:"Cancel"}),u.jsxs("button",{onClick:h,disabled:i,className:"admin-btn admin-btn-primary",children:[i?u.jsx(ze,{size:16,className:"animate-spin"}):null,"Change Password"]})]})]})})},fKe=()=>{const{admins:t,activityLogs:e,isLoading:n,fetchAdmins:r,fetchActivityLogs:i,createAdmin:s,updateAdmin:a,deleteAdmin:o,toggleAdminStatus:l,changePassword:c}=lKe(),[d,f]=S.useState(""),[h,p]=S.useState(!1),[g,m]=S.useState(!1),[y,v]=S.useState(null),[x,b]=S.useState(!1);S.useEffect(()=>{r(),i()},[r,i]);const k=t.filter(O=>O.name.toLowerCase().includes(d.toLowerCase())||O.email.toLowerCase().includes(d.toLowerCase())),w=O=>{v(O),p(!0)},C=()=>{v(null),p(!0)},_=O=>{v(O),m(!0)},j=async O=>{if(window.confirm(`Delete admin "${O.name}"?`)){const D=await o(O.id);X(D?{title:"Admin deleted"}:{title:"Failed to delete admin",variant:"destructive"})}},N=async O=>{await l(O.id)&&X({title:O.is_active?"Admin deactivated":"Admin activated"})},E=async O=>{y?await a(y.id,{name:O.name,email:O.email,role:O.role,is_active:O.is_active})&&(X({title:"Admin updated"}),p(!1)):await s({name:O.name,email:O.email,password_hash:O.password,role:O.role,is_active:O.is_active})&&(X({title:"Admin created"}),p(!1))},P=async O=>{y&&await c(y.id,O)&&(X({title:"Password changed"}),m(!1))};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-[#2d3a29]",children:"Admin Users Management"}),u.jsx("p",{className:"text-sm text-[#6b7c67]",children:"Manage access and permissions"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:()=>b(!x),className:"admin-btn admin-btn-outline",children:[u.jsx(hl,{size:16}),"Activity Log"]}),u.jsxs("button",{onClick:C,className:"admin-btn admin-btn-primary",children:[u.jsx(eu,{size:18}),"Add New Admin"]})]})]}),u.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(Dp).map(([O,D])=>{const A=D.icon,M=t.filter($=>$.role===O).length;return u.jsx("div",{className:"admin-card p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${D.className}`,children:u.jsx(A,{size:20})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-[#2d3a29]",children:D.label}),u.jsxs("p",{className:"text-xs text-[#6b7c67]",children:[M," users"]})]})]})},O)})}),u.jsxs("div",{className:"relative",children:[u.jsx(Kr,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#6b7c67]"}),u.jsx("input",{type:"text",value:d,onChange:O=>f(O.target.value),placeholder:"Search by name or email...",className:"admin-input pl-10"})]}),n&&t.length===0&&u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(ze,{size:32,className:"animate-spin text-[#778873]"})}),x?u.jsxs("div",{className:"admin-card",children:[u.jsxs("div",{className:"p-4 border-b border-[#d4dbc8] flex items-center justify-between",children:[u.jsx("h3",{className:"font-semibold text-[#2d3a29]",children:"Activity Log"}),u.jsxs("button",{className:"admin-btn admin-btn-outline text-sm",children:[u.jsx(Sw,{size:14}),"Export CSV"]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Timestamp"}),u.jsx("th",{children:"Admin"}),u.jsx("th",{children:"Action"})]})}),u.jsx("tbody",{children:e.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:3,className:"text-center py-8 text-[#6b7c67]",children:"No activity logs yet"})}):e.map(O=>u.jsxs("tr",{children:[u.jsx("td",{className:"text-sm",children:we(new Date(O.created_at),"MMM d, yyyy HH:mm")}),u.jsx("td",{className:"font-medium",children:O.admin_name}),u.jsx("td",{className:"text-[#6b7c67]",children:O.action})]},O.id))})]})})]}):u.jsx("div",{className:"admin-card overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{}),u.jsx("th",{children:"Name"}),u.jsx("th",{children:"Email"}),u.jsx("th",{children:"Role"}),u.jsx("th",{children:"Last Login"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:k.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"text-center py-8 text-[#6b7c67]",children:d?"No admins found matching your search":"No admin users yet"})}):k.map(O=>{const D=Dp[O.role]||Dp.editor,A=D.icon;return u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx(cKe,{user:O})}),u.jsx("td",{className:"font-medium",children:O.name}),u.jsx("td",{className:"text-[#6b7c67]",children:O.email}),u.jsx("td",{children:u.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${D.className}`,children:[u.jsx(A,{size:12}),D.label]})}),u.jsx("td",{className:"text-sm text-[#6b7c67]",children:O.last_login?we(new Date(O.last_login),"MMM d, HH:mm"):"Never"}),u.jsx("td",{children:u.jsx("button",{onClick:()=>N(O),className:`relative w-10 h-5 rounded-full transition-colors ${O.is_active?"bg-[#A1BC98]":"bg-gray-300"}`,children:u.jsx("div",{className:`absolute top-0.5 w-4 h-4 bg-white rounded-full shadow transition-transform ${O.is_active?"translate-x-5":"translate-x-0.5"}`})})}),u.jsx("td",{children:u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>w(O),className:"p-2 hover:bg-[#F1F3E0] rounded-lg text-[#778873]",children:u.jsx(nl,{size:16})}),u.jsx("button",{onClick:()=>_(O),className:"p-2 hover:bg-[#F1F3E0] rounded-lg text-[#778873]",children:u.jsx(gte,{size:16})}),u.jsx("button",{onClick:()=>j(O),className:"p-2 hover:bg-red-50 rounded-lg text-red-500",children:u.jsx(rl,{size:16})})]})})]},O.id)})})]})})}),u.jsx(uKe,{user:y,isOpen:h,onClose:()=>p(!1),onSave:E,isLoading:n}),u.jsx(dKe,{user:y,isOpen:g,onClose:()=>m(!1),onSave:P,isLoading:n})]})},hKe=()=>{const{settings:t,isLoading:e,fetchSettings:n,updateSetting:r}=ZH(),[i,s]=S.useState(!1),[a,o]=S.useState({site_name:"",site_description:"",contact_email:"",contact_phone:"",contact_address:"",booking_email:"",social_instagram:"",social_facebook:"",social_whatsapp:""});S.useEffect(()=>{n()},[]),S.useEffect(()=>{Object.keys(t).length>0&&o(d=>({...d,...t}))},[t]);const l=(d,f)=>{o(h=>({...h,[d]:f}))},c=async()=>{s(!0);try{const d=Object.entries(a).map(([f,h])=>r(f,h));await Promise.all(d),X({title:"Settings saved successfully"})}catch{X({title:"Failed to save settings",variant:"destructive"})}s(!1)};return e&&Object.keys(t).length===0?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(ze,{size:32,className:"animate-spin text-[#778873]"})}):u.jsxs("div",{className:"max-w-4xl space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-[#2d3a29]",children:"Site Settings"}),u.jsx("p",{className:"text-sm text-[#6b7c67]",children:"Manage general website configuration"})]}),u.jsxs("button",{onClick:c,disabled:i,className:"admin-btn admin-btn-primary",children:[i?u.jsx(ze,{size:16,className:"animate-spin"}):u.jsx(_8,{size:16}),"Save Changes"]})]}),u.jsxs("div",{className:"grid gap-6",children:[u.jsxs("div",{className:"admin-card p-6",children:[u.jsxs("h2",{className:"text-lg font-semibold text-[#2d3a29] mb-4 flex items-center gap-2",children:[u.jsx(E8,{size:20,className:"text-[#778873]"}),"General Information"]}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Site Name"}),u.jsx("input",{type:"text",value:a.site_name,onChange:d=>l("site_name",d.target.value),className:"admin-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Site Description"}),u.jsx("input",{type:"text",value:a.site_description,onChange:d=>l("site_description",d.target.value),className:"admin-input"})]})]})})]}),u.jsxs("div",{className:"admin-card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-[#2d3a29] mb-4",children:"Contact Information"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Contact Email"}),u.jsx("input",{type:"email",value:a.contact_email,onChange:d=>l("contact_email",d.target.value),className:"admin-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Phone Number"}),u.jsx("input",{type:"text",value:a.contact_phone,onChange:d=>l("contact_phone",d.target.value),className:"admin-input"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Address"}),u.jsx("textarea",{value:a.contact_address,onChange:d=>l("contact_address",d.target.value),className:"admin-input",rows:3})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Booking Notification Email"}),u.jsx("input",{type:"email",value:a.booking_email,onChange:d=>l("booking_email",d.target.value),className:"admin-input",placeholder:"Where booking notifications will be sent"})]})]})]}),u.jsxs("div",{className:"admin-card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-[#2d3a29] mb-4",children:"Social Media"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Instagram URL"}),u.jsx("input",{type:"text",value:a.social_instagram,onChange:d=>l("social_instagram",d.target.value),className:"admin-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Facebook URL"}),u.jsx("input",{type:"text",value:a.social_facebook,onChange:d=>l("social_facebook",d.target.value),className:"admin-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"WhatsApp Number"}),u.jsx("input",{type:"text",value:a.social_whatsapp,onChange:d=>l("social_whatsapp",d.target.value),className:"admin-input",placeholder:"Include country code (e.g., 62...)"})]})]})]})]})]})},pKe=()=>{const{testimonials:t,isLoading:e,fetchTestimonials:n,createTestimonial:r,updateTestimonial:i,deleteTestimonial:s}=Qw(),{villas:a,fetchVillas:o}=vl(),[l,c]=S.useState(""),[d,f]=S.useState(!1),[h,p]=S.useState(null),[g,m]=S.useState(!1),[y,v]=S.useState({guest_name:"",guest_country:"",guest_avatar:"",villa_id:"",villa_name:"",rating:5,review:"",host_response:"",is_featured:!1});S.useEffect(()=>{n(),o()},[]),S.useEffect(()=>{v(h?{guest_name:h.guest_name,guest_country:h.guest_country||"",guest_avatar:h.guest_avatar||"",villa_id:h.villa_id||"",villa_name:h.villa_name||"",rating:h.rating,review:h.review||"",host_response:h.host_response||"",is_featured:h.is_featured}:{guest_name:"",guest_country:"",guest_avatar:"",villa_id:"",villa_name:"",rating:5,review:"",host_response:"",is_featured:!1})},[h,d]);const x=t.filter(w=>{var C;return w.guest_name.toLowerCase().includes(l.toLowerCase())||((C=w.review)==null?void 0:C.toLowerCase().includes(l.toLowerCase()))}),b=async()=>{if(!y.guest_name||!y.review){X({title:"Required fields missing",variant:"destructive"});return}m(!0);try{h?(await i(h.id,y),X({title:"Testimonial updated"})):(await r(y),X({title:"Testimonial created"})),f(!1)}catch{X({title:"Error",variant:"destructive"})}m(!1)},k=async w=>{window.confirm(`Delete testimonial from "${w.guest_name}"?`)&&(await s(w.id),X({title:"Testimonial deleted"}))};return e&&t.length===0?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(ze,{size:32,className:"animate-spin text-[#778873]"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-[#2d3a29]",children:"Testimonials"}),u.jsxs("p",{className:"text-sm text-[#6b7c67]",children:["Manage guest reviews (",t.length,")"]})]}),u.jsxs("button",{onClick:()=>{p(null),f(!0)},className:"admin-btn admin-btn-primary",children:[u.jsx(eu,{size:18}),"Add Testimonial"]})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Kr,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#6b7c67]"}),u.jsx("input",{type:"text",value:l,onChange:w=>c(w.target.value),placeholder:"Search testimonials...",className:"admin-input pl-10"})]}),u.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:x.map(w=>u.jsxs("div",{className:"admin-card p-4",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("img",{src:w.guest_avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(w.guest_name)}&background=778873&color=fff`,alt:w.guest_name,className:"w-12 h-12 rounded-full object-cover"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-[#2d3a29]",children:w.guest_name}),w.guest_country&&u.jsxs("p",{className:"text-sm text-[#6b7c67] flex items-center gap-1",children:[u.jsx(cte,{size:12}),w.guest_country]})]}),u.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((C,_)=>u.jsx(Yr,{size:14,className:_<w.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"},_))})]}),u.jsxs("p",{className:"text-sm text-[#6b7c67] mt-2 line-clamp-3",children:[u.jsx(Zp,{size:12,className:"inline mr-1"}),w.review]}),w.villa_name&&u.jsxs("p",{className:"text-xs text-[#778873] mt-2",children:["Villa: ",w.villa_name]}),w.is_featured&&u.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-[#A1BC98]/20 text-[#778873] text-xs rounded",children:"Featured"})]})]}),u.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-[#d4dbc8]",children:[u.jsxs("button",{onClick:()=>{p(w),f(!0)},className:"flex-1 admin-btn admin-btn-outline py-2 text-sm",children:[u.jsx(nl,{size:14})," Edit"]}),u.jsx("button",{onClick:()=>k(w),className:"p-2 hover:bg-red-50 rounded-lg text-red-500",children:u.jsx(rl,{size:16})})]})]},w.id))}),x.length===0&&!e&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Zp,{size:48,className:"mx-auto text-[#d4dbc8] mb-4"}),u.jsx("p",{className:"text-[#6b7c67]",children:"No testimonials found."})]}),d&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b border-[#d4dbc8] flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-bold text-[#2d3a29]",children:h?"Edit Testimonial":"Add Testimonial"}),u.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-[#F1F3E0] rounded-lg",children:u.jsx(dn,{size:20})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Guest Name *"}),u.jsx("input",{type:"text",value:y.guest_name,onChange:w=>v({...y,guest_name:w.target.value}),className:"admin-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Country"}),u.jsx("input",{type:"text",value:y.guest_country,onChange:w=>v({...y,guest_country:w.target.value}),className:"admin-input"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Avatar URL"}),u.jsx("input",{type:"text",value:y.guest_avatar,onChange:w=>v({...y,guest_avatar:w.target.value}),className:"admin-input",placeholder:"https://..."})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Villa"}),u.jsxs("select",{value:y.villa_id,onChange:w=>{const C=a.find(_=>_.id===w.target.value);v({...y,villa_id:w.target.value,villa_name:(C==null?void 0:C.name)||""})},className:"admin-input",children:[u.jsx("option",{value:"",children:"Select villa..."}),a.map(w=>u.jsx("option",{value:w.id,children:w.name},w.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Rating"}),u.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(w=>u.jsx("button",{type:"button",onClick:()=>v({...y,rating:w}),className:`p-2 rounded ${y.rating>=w?"text-yellow-400":"text-gray-300"}`,children:u.jsx(Yr,{size:24,className:y.rating>=w?"fill-current":""})},w))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Review *"}),u.jsx("textarea",{value:y.review,onChange:w=>v({...y,review:w.target.value}),className:"admin-input",rows:4})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Host Response"}),u.jsx("textarea",{value:y.host_response,onChange:w=>v({...y,host_response:w.target.value}),className:"admin-input",rows:2})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"checkbox",id:"featured",checked:y.is_featured,onChange:w=>v({...y,is_featured:w.target.checked}),className:"w-5 h-5"}),u.jsx("label",{htmlFor:"featured",className:"text-sm font-medium text-[#2d3a29]",children:"Featured testimonial"})]})]}),u.jsxs("div",{className:"p-6 border-t border-[#d4dbc8] flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>f(!1),className:"admin-btn admin-btn-outline",children:"Cancel"}),u.jsx("button",{onClick:b,className:"admin-btn admin-btn-primary",disabled:g,children:g?u.jsx(ze,{size:16,className:"animate-spin"}):"Save"})]})]})})]})},yF=["Villa","Pool","Interior","Exterior","Dining","Spa","Garden","View"],mKe=()=>{const{images:t,isLoading:e,fetchImages:n,createImage:r,updateImage:i,deleteImage:s}=e9(),{villas:a,fetchVillas:o}=vl(),[l,c]=S.useState(""),[d,f]=S.useState("all"),[h,p]=S.useState(!1),[g,m]=S.useState(null),[y,v]=S.useState(!1),[x,b]=S.useState("grid"),[k,w]=S.useState({title:"",description:"",image_url:"",category:"Villa",villa_id:"",is_featured:!1,sort_order:0});S.useEffect(()=>{n(),o()},[]),S.useEffect(()=>{w(g?{title:g.title||"",description:g.description||"",image_url:g.image_url,category:g.category,villa_id:g.villa_id||"",is_featured:g.is_featured,sort_order:g.sort_order}:{title:"",description:"",image_url:"",category:"Villa",villa_id:"",is_featured:!1,sort_order:t.length})},[g,h]);const C=t.filter(E=>{var D,A;const P=((D=E.title)==null?void 0:D.toLowerCase().includes(l.toLowerCase()))||((A=E.category)==null?void 0:A.toLowerCase().includes(l.toLowerCase())),O=d==="all"||E.category===d;return P&&O}),_=async()=>{if(!k.image_url){X({title:"Image URL required",variant:"destructive"});return}v(!0);try{g?(await i(g.id,k),X({title:"Image updated"})):(await r(k),X({title:"Image added"})),p(!1)}catch{X({title:"Error",variant:"destructive"})}v(!1)},j=async E=>{window.confirm("Delete this image?")&&(await s(E.id),X({title:"Image deleted"}))},N=async E=>{await i(E.id,{is_featured:!E.is_featured}),X({title:E.is_featured?"Removed from featured":"Added to featured"})};return e&&t.length===0?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(ze,{size:32,className:"animate-spin text-[#778873]"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-[#2d3a29]",children:"Gallery Management"}),u.jsxs("p",{className:"text-sm text-[#6b7c67]",children:["Manage website gallery (",t.length," images)"]})]}),u.jsxs("button",{onClick:()=>{m(null),p(!0)},className:"admin-btn admin-btn-primary",children:[u.jsx(eu,{size:18}),"Add Image"]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(Kr,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#6b7c67]"}),u.jsx("input",{type:"text",value:l,onChange:E=>c(E.target.value),placeholder:"Search images...",className:"admin-input pl-10"})]}),u.jsxs("select",{value:d,onChange:E=>f(E.target.value),className:"admin-input w-40",children:[u.jsx("option",{value:"all",children:"All Categories"}),yF.map(E=>u.jsx("option",{value:E,children:E},E))]}),u.jsxs("div",{className:"flex gap-1 p-1 bg-[#F1F3E0] rounded-lg",children:[u.jsx("button",{onClick:()=>b("grid"),className:`p-2 rounded ${x==="grid"?"bg-white shadow":""}`,children:u.jsx(ute,{size:18})}),u.jsx("button",{onClick:()=>b("list"),className:`p-2 rounded ${x==="list"?"bg-white shadow":""}`,children:u.jsx(S8,{size:18})})]})]}),x==="grid"?u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:C.map(E=>u.jsxs("div",{className:"admin-card overflow-hidden group relative",children:[u.jsx("img",{src:E.image_url,alt:E.title||"",className:"w-full h-40 object-cover"}),u.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[u.jsx("button",{onClick:()=>{m(E),p(!0)},className:"p-2 bg-white rounded-full text-[#778873]",children:u.jsx(nl,{size:16})}),u.jsx("button",{onClick:()=>N(E),className:`p-2 bg-white rounded-full ${E.is_featured?"text-yellow-500":"text-gray-400"}`,children:u.jsx(Yr,{size:16,className:E.is_featured?"fill-current":""})}),u.jsx("button",{onClick:()=>j(E),className:"p-2 bg-white rounded-full text-red-500",children:u.jsx(rl,{size:16})})]}),E.is_featured&&u.jsx("span",{className:"absolute top-2 left-2 px-2 py-1 bg-yellow-400 text-white text-xs rounded",children:"Featured"}),u.jsxs("div",{className:"p-3",children:[u.jsx("p",{className:"font-medium text-sm text-[#2d3a29] truncate",children:E.title||"Untitled"}),u.jsx("p",{className:"text-xs text-[#6b7c67]",children:E.category})]})]},E.id))}):u.jsx("div",{className:"admin-card overflow-hidden",children:u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"w-20",children:"Image"}),u.jsx("th",{children:"Title"}),u.jsx("th",{children:"Category"}),u.jsx("th",{children:"Featured"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:C.map(E=>u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("img",{src:E.image_url,alt:"",className:"w-16 h-12 object-cover rounded"})}),u.jsx("td",{className:"font-medium text-[#2d3a29]",children:E.title||"Untitled"}),u.jsx("td",{children:u.jsx("span",{className:"px-2 py-1 bg-[#F1F3E0] rounded text-xs",children:E.category})}),u.jsx("td",{children:u.jsx("button",{onClick:()=>N(E),children:u.jsx(Yr,{size:18,className:E.is_featured?"fill-yellow-400 text-yellow-400":"text-gray-300"})})}),u.jsx("td",{children:u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>{m(E),p(!0)},className:"p-2 hover:bg-[#F1F3E0] rounded text-[#778873]",children:u.jsx(nl,{size:16})}),u.jsx("button",{onClick:()=>j(E),className:"p-2 hover:bg-red-50 rounded text-red-500",children:u.jsx(rl,{size:16})})]})})]},E.id))})]})}),C.length===0&&!e&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(eO,{size:48,className:"mx-auto text-[#d4dbc8] mb-4"}),u.jsx("p",{className:"text-[#6b7c67]",children:"No images found."})]}),h&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b border-[#d4dbc8] flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-bold text-[#2d3a29]",children:g?"Edit Image":"Add Image"}),u.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-[#F1F3E0] rounded-lg",children:u.jsx(dn,{size:20})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Image *"}),u.jsx(PY,{value:k.image_url,onChange:E=>w({...k,image_url:E})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Title"}),u.jsx("input",{type:"text",value:k.title,onChange:E=>w({...k,title:E.target.value}),className:"admin-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Description"}),u.jsx("textarea",{value:k.description,onChange:E=>w({...k,description:E.target.value}),className:"admin-input",rows:2})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Category"}),u.jsx("select",{value:k.category,onChange:E=>w({...k,category:E.target.value}),className:"admin-input",children:yF.map(E=>u.jsx("option",{value:E,children:E},E))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#2d3a29] mb-2",children:"Villa"}),u.jsxs("select",{value:k.villa_id,onChange:E=>w({...k,villa_id:E.target.value}),className:"admin-input",children:[u.jsx("option",{value:"",children:"None"}),a.map(E=>u.jsx("option",{value:E.id,children:E.name},E.id))]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"checkbox",id:"featured",checked:k.is_featured,onChange:E=>w({...k,is_featured:E.target.checked}),className:"w-5 h-5"}),u.jsx("label",{htmlFor:"featured",className:"text-sm font-medium text-[#2d3a29]",children:"Featured image"})]})]}),u.jsxs("div",{className:"p-6 border-t border-[#d4dbc8] flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>p(!1),className:"admin-btn admin-btn-outline",children:"Cancel"}),u.jsx("button",{onClick:_,className:"admin-btn admin-btn-primary",disabled:y,children:y?u.jsx(ze,{size:16,className:"animate-spin"}):"Save"})]})]})})]})},qN=[{id:"1",name:"Serenity Pool Villa",tagline:"Your private oasis in the heart of Ubud",description:`Escape to Serenity Pool Villa, a stunning private villa located just minutes from the vibrant heart of Ubud. This luxurious property offers the perfect blend of modern comfort and traditional Balinese charm, making it an ideal retreat for couples, families, and small groups.

The villa features a spacious open-plan living area that seamlessly flows onto a lush tropical garden and a sparkling private swimming pool. The floor-to-ceiling glass doors allow for an abundance of natural light and offer uninterrupted views of the surrounding greenery. Relax on the comfortable sofa, enjoy a meal at the elegant dining table, or simply soak up the sun on the poolside loungers.

Each bedroom is a private sanctuary, complete with a king-sized bed, high-quality linens, and an en-suite bathroom. The master bathroom boasts a luxurious bathtub and a separate rain shower, providing a spa-like experience. All rooms are fully air-conditioned and equipped with modern amenities to ensure a comfortable stay.

Our dedicated staff is on hand to assist with any needs you may have, from arranging in-villa massages and private yoga sessions to organizing tours and cooking classes. A delicious daily breakfast is included, and a private chef can be arranged for other meals upon request.`,shortDescription:"Stunning rice terrace views with traditional Balinese charm",pricePerNight:45e5,capacity:6,bedrooms:3,bathrooms:3,images:["https://images.unsplash.com/photo-1580587771525-78b9dba3b914?q=80&w=2574&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1613553474173-860427ac201d?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1554995207-c18c203602cb?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1612320493393-09724a1b05c5?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],amenities:["Private Pool","Rice Terrace View","Kitchen","WiFi","AC","Daily Breakfast"],isAvailable:!0,rating:4.9,reviewCount:127,location:"Tegallalang, Ubud",coordinates:{lat:-8.4333,lng:115.2833},cleaningFee:5e5,serviceFee:35e4,minimumStay:2},{id:"2",name:"Jungle Hideaway Villa",tagline:"A secluded retreat surrounded by nature",description:`Discover the ultimate jungle escape at Jungle Hideaway Villa. Nestled in a secluded valley just outside Ubud, this unique villa offers breathtaking views of the lush tropical rainforest and the tranquil sounds of nature. It's the perfect choice for those seeking peace, privacy, and a deep connection with the natural world.

The villa's design emphasizes open-air living, with a spacious lounge and dining area that opens directly onto the jungle canopy. The infinity pool appears to float above the treetops, providing a truly magical spot for a morning swim or an evening cocktail. The architecture blends rustic wooden elements with modern comforts, creating a warm and inviting atmosphere.

Each of the two bedrooms is a cozy haven, featuring a comfortable bed, an en-suite bathroom with natural stone finishes, and large windows that frame the stunning jungle vistas. Wake up to the sound of birdsong and enjoy your morning coffee on your private balcony.

Practice yoga on your private deck at sunrise, take a dip in the infinity pool at sunset, or simply relax in the day bed listening to the calls of tropical birds.`,shortDescription:"Private jungle sanctuary with infinity pool",pricePerNight:38e5,capacity:4,bedrooms:2,bathrooms:2,images:["https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1617806118233-5cf3b468def5?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1615875605825-5eb9bb5fea22?q=80&w=2574&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],amenities:["Infinity Pool","Jungle View","Open Living","WiFi","AC","Yoga Deck"],isAvailable:!0,rating:4.8,reviewCount:89,location:"Petulu, Ubud",coordinates:{lat:-8.4667,lng:115.2667},cleaningFee:4e5,serviceFee:3e5,minimumStay:2},{id:"3",name:"Canopy Treehouse Villa",tagline:"Romance among the treetops",description:`Live out your childhood dreams in our magical Canopy Treehouse Villa. This enchanting and romantic retreat is built around a majestic tree, offering a unique and unforgettable accommodation experience. It's perfect for couples and honeymooners looking for a one-of-a-kind getaway.

The Treehouse features a cozy and intimate interior with a comfortable queen-sized bed, a charming seating area, and a modern en-suite bathroom. The highlight is the spacious wrap-around balcony, where you can enjoy panoramic views of the surrounding rice paddies and jungle. It's the perfect spot for a romantic dinner under the stars or a lazy afternoon with a good book.

Despite its rustic charm, the Treehouse is equipped with all the modern conveniences you need, including air conditioning, Wi-Fi, and a minibar. Guests also have access to a shared swimming pool and a restaurant located on the property.

Located in a quiet and peaceful area, the Treehouse is still just a short drive from the main attractions of Ubud. It offers the perfect combination of seclusion and convenience.`,shortDescription:"Unique treehouse with panoramic views",pricePerNight:28e5,capacity:2,bedrooms:1,bathrooms:1,images:["https://images.unsplash.com/photo-1542314831-068cd1dbb5ed?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1611892440504-42a792e24d32?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1596394516093-501ba68a0ba6?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],amenities:["Panoramic View","Balcony","AC","WiFi","Shared Pool","Romantic"],isAvailable:!0,rating:4.9,reviewCount:215,location:"Pejeng, Ubud",coordinates:{lat:-8.513,lng:115.304},cleaningFee:3e5,serviceFee:25e4,minimumStay:1},{id:"4",name:"Royal Joglo Estate",tagline:"Experience Javanese elegance in Ubud",description:`Step into a world of timeless elegance at the Royal Joglo Estate. This expansive property features an authentic Javanese Joglo, a traditional wooden house, that has been lovingly restored and transformed into a luxurious villa. The intricate carvings and antique furniture create an atmosphere of royal splendor and cultural heritage.

The estate is set within beautifully landscaped tropical gardens, complete with a large swimming pool, a serene koi pond, and multiple relaxation areas. The main Joglo houses the grand living and dining pavilion, an ideal space for entertaining or simply unwinding with family and friends. A separate, fully equipped modern kitchen is also available for your convenience.

Four spacious bedroom suites are located in separate pavilions surrounding the main Joglo, ensuring privacy for all guests. Each suite features a unique design, a plush king-sized bed, and a lavish en-suite bathroom. The blend of traditional architecture and modern luxury creates a truly unique and comfortable environment.

Our in-house chef specializes in both Balinese and international cuisine, and cooking classes can be arranged. The villa is ideal for families or groups seeking an immersive cultural experience.`,shortDescription:"Traditional Joglo with tropical gardens",pricePerNight:65e5,capacity:8,bedrooms:4,bathrooms:4,images:["https://images.unsplash.com/photo-1571880829813-f4a292695c47?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1582719508461-905c673771fd?q=80&w=2524&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1590490359855-359c6361bd93?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],amenities:["Koi Pond","Traditional Joglo","Chef Service","WiFi","AC","Private Garden"],isAvailable:!0,rating:4.9,reviewCount:156,location:"Central Ubud",coordinates:{lat:-8.5069,lng:115.2625},cleaningFee:6e5,serviceFee:5e5,minimumStay:3}],gKe=async()=>{console.log("Deleting existing villas...");const{error:t}=await oe.from("villas").delete().neq("id","0");if(t){console.error("Error deleting villas:",t);return}console.log("Villas deleted."),console.log("Seeding villas...");const{data:e,error:n}=await oe.from("villas").insert(qN).select();n?console.error("Error seeding villas:",n):console.log("Seeded villas:",e)},yKe=async()=>{const t=[],e=new Date;for(let i=0;i<50;i++){const s=qN[Math.floor(Math.random()*qN.length)],a=new Date(e.getFullYear(),e.getMonth()-Math.floor(Math.random()*12),Math.floor(Math.random()*28)+1),o=new Date(a.getTime()+(Math.floor(Math.random()*7)+2)*24*60*60*1e3),l=Math.round((o.getTime()-a.getTime())/(1e3*60*60*24)),c=s.pricePerNight*l+s.cleaningFee+s.serviceFee;t.push({villa_id:s.id,guest_name:`Test Guest ${i}`,check_in:a.toISOString().split("T")[0],check_out:o.toISOString().split("T")[0],status:["confirmed","pending","cancelled"][Math.floor(Math.random()*3)],total_price:c,guests:Math.floor(Math.random()*s.capacity)+1,created_at:a.toISOString()})}console.log("Deleting existing bookings...");const{error:n}=await oe.from("bookings").delete().neq("id",0);if(n){console.error("Error deleting bookings:",n);return}console.log("Bookings deleted."),console.log("Seeding bookings...");const{error:r}=await oe.from("bookings").insert(t);r?console.error("Error seeding bookings:",r):console.log("Successfully seeded bookings.")},vKe=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!1),[i,s]=S.useState(null),[a,o]=S.useState(null),l=async()=>{e(!0),s(null),o(null);try{await gKe(),o("Villas have been successfully seeded!")}catch(d){s(d.message||"An unexpected error occurred while seeding villas.")}finally{e(!1)}},c=async()=>{r(!0),s(null),o(null);try{await yKe(),o("Bookings have been successfully seeded!")}catch(d){s(d.message||"An unexpected error occurred while seeding bookings.")}finally{r(!1)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-[#2d3a29]",children:"Database Seeder"}),u.jsx("p",{className:"text-sm text-[#6b7c67]",children:"Use these tools to populate your database with initial data. This is useful for development and testing."})]}),u.jsxs("div",{className:"admin-card p-6 space-y-4",children:[u.jsx("div",{className:"flex items-center justify-between p-4 border border-yellow-300 bg-yellow-50 rounded-lg",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(P8,{className:"h-6 w-6 text-yellow-500 mr-3"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-yellow-800",children:"Warning: Destructive Action"}),u.jsxs("p",{className:"text-sm text-yellow-700",children:["Seeding will first ",u.jsx("span",{className:"font-bold",children:"delete all existing data"})," in the target table(s) before inserting the new data."]})]})]})}),i&&u.jsx("div",{className:"p-4 border border-red-300 bg-red-50 rounded-lg text-red-800",children:u.jsxs("p",{children:[u.jsx("span",{className:"font-bold",children:"Error:"})," ",i]})}),a&&u.jsxs("div",{className:"p-4 border border-green-300 bg-green-50 rounded-lg text-green-800 flex items-center",children:[u.jsx(rte,{className:"h-5 w-5 mr-2"}),u.jsx("p",{children:a})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4",children:[u.jsxs("div",{className:"border p-4 rounded-lg",children:[u.jsx("h3",{className:"font-semibold text-lg text-[#2d3a29]",children:"Seed Villas"}),u.jsx("p",{className:"text-sm text-[#6b7c67] mt-1 mb-4",children:"This will delete all existing villas and insert 4 new sample villas."}),u.jsx("button",{onClick:l,disabled:t||n,className:"admin-btn admin-btn-primary disabled:opacity-50 disabled:cursor-not-allowed w-full",children:t?u.jsxs(u.Fragment,{children:[u.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"})," Seeding..."]}):"Seed Villas"})]}),u.jsxs("div",{className:"border p-4 rounded-lg",children:[u.jsx("h3",{className:"font-semibold text-lg text-[#2d3a29]",children:"Seed Bookings"}),u.jsx("p",{className:"text-sm text-[#6b7c67] mt-1 mb-4",children:"This will delete all existing bookings and insert 50 new random bookings for the seeded villas. Requires villas to be seeded first."}),u.jsx("button",{onClick:c,disabled:t||n,className:"admin-btn admin-btn-secondary disabled:opacity-50 disabled:cursor-not-allowed w-full",children:n?u.jsxs(u.Fragment,{children:[u.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"})," Seeding..."]}):"Seed Bookings"})]})]})]})]})},xKe=new ese,bKe=()=>u.jsx(nse,{client:xKe,children:u.jsxs(Eie,{children:[u.jsx(xne,{}),u.jsx(Kne,{}),u.jsx(aae,{children:u.jsxs(Jse,{children:[u.jsx(qe,{path:"/",element:u.jsx(zve,{})}),u.jsx(qe,{path:"/villas",element:u.jsx(h0e,{})}),u.jsx(qe,{path:"/villas/:id",element:u.jsx(O0e,{})}),u.jsx(qe,{path:"/checkout",element:u.jsx(nbe,{})}),u.jsx(qe,{path:"/booking-confirmation",element:u.jsx(rbe,{})}),u.jsx(qe,{path:"/my-bookings",element:u.jsx(abe,{})}),u.jsx(qe,{path:"/about",element:u.jsx(cbe,{})}),u.jsx(qe,{path:"/contact",element:u.jsx(ube,{})}),u.jsx(qe,{path:"/blog",element:u.jsx(hbe,{})}),u.jsx(qe,{path:"/blog/:slug",element:u.jsx(mbe,{})}),u.jsx(qe,{path:"/gallery",element:u.jsx(ybe,{})}),u.jsx(qe,{path:"/faq",element:u.jsx(xbe,{})}),u.jsx(qe,{path:"/admin/login",element:u.jsx(_be,{})}),u.jsxs(qe,{path:"/admin",element:u.jsx(Cbe,{}),children:[u.jsx(qe,{path:"dashboard",element:u.jsx(mze,{})}),u.jsx(qe,{path:"analytics",element:u.jsx(yze,{})}),u.jsx(qe,{path:"villas",element:u.jsx(Sze,{})}),u.jsx(qe,{path:"villas/:id/calendar",element:u.jsx(kze,{})}),u.jsx(qe,{path:"bookings",element:u.jsx(Eze,{})}),u.jsx(qe,{path:"bookings/calendar",element:u.jsx(Nze,{})}),u.jsx(qe,{path:"offers",element:u.jsx(Aze,{})}),u.jsx(qe,{path:"blog",element:u.jsx(Rze,{})}),u.jsx(qe,{path:"blog/new",element:u.jsx(gF,{})}),u.jsx(qe,{path:"blog/:id/edit",element:u.jsx(gF,{})}),u.jsx(qe,{path:"users",element:u.jsx(fKe,{})}),u.jsx(qe,{path:"testimonials",element:u.jsx(pKe,{})}),u.jsx(qe,{path:"gallery",element:u.jsx(mKe,{})}),u.jsx(qe,{path:"settings",element:u.jsx(hKe,{})}),u.jsx(qe,{path:"seed",element:u.jsx(vKe,{})})]}),u.jsx(qe,{path:"*",element:u.jsx(bbe,{})})]})})]})});F5(document.getElementById("root")).render(u.jsx(bKe,{}));
